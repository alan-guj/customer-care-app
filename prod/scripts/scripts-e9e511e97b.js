function daysBetween(e,t){var n=e.substring(5,e.lastIndexOf("-")),i=e.substring(e.length,e.lastIndexOf("-")+1),r=e.substring(0,e.indexOf("-")),o=t.substring(5,t.lastIndexOf("-")),a=t.substring(t.length,t.lastIndexOf("-")+1),s=t.substring(0,t.indexOf("-")),l=(Date.parse(n+"/"+i+"/"+r)-Date.parse(o+"/"+a+"/"+s))/864e5;return l}function shallowCopy(e,t){t=t||{};for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t}function shallowClearAndCopy(e,t){t=t||{},angular.forEach(t,function(e,n){delete t[n]});for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t}app=angular.module("customer_care_web_server",["ionic","angular-popups","ionic-datepicker","CustomerCareService","configure","ionic-citypicker","ngCookies","angular-oauth2"]).run(["$rootScope","$window","OAuth","OAuthToken","sessionStorage","$ionicPlatform",function(e,t,n,i,r,o){o.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()}),i.getToken=function(){return r.getObject("token")},i.setToken=function(e){r.setObject("token",e)},e.$on("oauth:error",function(e,i){if("invalid_grant"!==i.data.error)return"invalid_token"===i.data.error?n.getRefreshToken():t.location.href="/login?error_reason="+i.data.error})}]).directive("dateFormat",["$filter",function(e){var t=e("date");return{require:"ngModel",link:function(e,n,i,r){function o(e){return console.log(e),t(e,"mediumDate")}function a(){return r.$modelValue}r.$formatters.push(o),r.$parsers.unshift(a)}}}]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$compileProvider","OAuthTokenProvider","OAuthProvider","oauth_params","ionicDatePickerProvider",function(e,t,n,i,r,o,a,s){i.imgSrcSanitizationWhitelist(/^\s*(https?|wxlocalresource|weixin):/),i.aHrefSanitizationWhitelist(/^\s*(https?|tel|sms):/),o.configure(a),e.state("login",{url:"/login",templateUrl:"templates/login.html",controller:"login_ctrl"}).state("customer_list",{cache:!0,url:"/customer_list",templateUrl:"templates/customer_list.html",controller:"customer_list_ctrl"}).state("customer_detail",{cache:!1,url:"/customers/:customer_id",templateUrl:"templates/customer_detail.html",controller:"customer_detail_ctrl"}).state("schedule_list",{cache:!0,url:"/schedule_list",templateUrl:"templates/schedule_list.html",controller:"schedule_list_ctrl"}).state("schedule_detail",{cache:!1,url:"/schedules/:schedule_id",templateUrl:"templates/schedule_item_detail.html",controller:"schedule_item_detail_ctrl"}).state("group_homepage",{cache:!1,url:"/group_homepage",templateUrl:"templates/group_homepage.html",controller:"group_homepage_ctrl",onEnter:["$window",function(e){e.localStorage.global_visit_num=1}]}).state("personal_homepage",{cache:!1,url:"/personal_homepage",templateUrl:"templates/personal_homepage.html",controller:"personal_homepage_ctrl",onEnter:["$window","$state","current_user",function(e,t,n){var i=!1;n.hasOwnProperty("enpinfo")&&n.enpinfo&&n.enpinfo.hasOwnProperty("isManager")&&(i=n.enpinfo.isManager);var r=(new Date).Format("yyyy-MM-dd");e.localStorage.hasOwnProperty("global_visit_time")&&e.localStorage.hasOwnProperty("global_visit_num")?e.localStorage.global_visit_time!=r||0==e.localStorage.global_visit_num?(e.localStorage.global_visit_num=1,e.localStorage.global_visit_time=r,i&&("group"==e.localStorage.global_visit_panel?t.go("group_homepage"):e.localStorage.global_visit_panel="personal")):t.go("schedule_list"):(e.localStorage.global_visit_num=1,e.localStorage.global_visit_time=r,i?(e.localStorage.global_visit_panel="group",t.go("group_homepage")):e.localStorage.global_visit_panel="personal")}]}),t.otherwise("/personal_homepage");var l={inputDate:new Date,setLabel:"确定",todayLabel:"今天",closeLabel:"关闭",mondayFirst:!1,weeksList:["日","一","二","三","四","五","六"],monthsList:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],templateType:"modal",from:new Date(2013,1,1),to:new Date(2020,12,31),showTodayButton:!0,dateFormat:"yyyy年MM月dd日",closeOnSelect:!1};s.configDatePicker(l)}]),app.controller("add_customer_ctrl",["$scope","$ionicModal","ionicDatePicker","$filter",function(e,t,n,i){e.$watch("$viewContentLoaded",function(){}),e.hospitalarr=[{id:1,name:"1医院"},{id:2,name:"2医院"},{id:3,name:"3医院"},{id:4,name:"4医院"},{id:5,name:"5医院"}],e.cunsomerarr=[{id:1,name:"人员1 "},{id:2,name:"人员2"},{id:3,name:"人员3"},{id:4,name:"人员5"},{id:5,name:"人员5"}],e.star=[0,1,2,3,4],e.starIndex=0;var r=new Date;e.select_date=i("date")(r,"mediumDate");var o={callback:function(t){console.log("Return value from the datepicker popup is : "+t,new Date(t)),r.setTime(t),e.select_date=i("date")(r,"mediumDate")}};e.pick_date=function(){o.inputDate=r,n.openDatePicker(o)},e.starClick=function(t,n){e.starIndex=t+1,$(n.currentTarget).hasClass("active")&&e.starIndex--},e.chechPhoneNum=function(e){/^1[3|4|5|7|8]\d{9}$/.test($(e.currentTarget).val())?$(e.currentTarget).css({border:"0px"}):$(e.currentTarget).css({border:"1px solid red"})},e.inputFocus=function(){},e.addHospital=function(){""!=$("#hospital-input").val()&&(e.hospitalarr.push({id:7,name:$("#hospital-input").val()}),$("#hospital-input").val(""))},e.cancelHosp=function(t){for(var n=0;n<e.hospitalarr.length;n++)if(e.hospitalarr[n].id==t){e.hospitalarr.splice(n,1);break}},e.addCustomer=function(t){""!=$("#cunsomer-input").val()&&(e.cunsomerarr.push({id:7,name:$("#hospital-input").val()}),$("#cunsomer-input").val(""))},e.cancelCustom=function(t){for(var n=0;n<e.cunsomerarr.length;n++)if(e.cunsomerarr[n].id==t){e.cunsomerarr.splice(n,1);break}},e.calcelFun=function(){e.addCustomerModal.hide()}}]),app.controller("add_location_ctrl",["$scope","$ionicModal","Popup",function(e,t,n){var i=null;window.addEventListener("message",function(e){var t=e.data;t&&"locationPicker"==t.module&&(i=t)},!1),e.cancelSend=function(){e.$emit("cancel_add_location_log")},e.submitSend=function(){i?(e.$emit("confirm_add_location_log",i),e.add_location_modal.hide()):(console.log(i,"null"),n.notice("请选择位置",2e3))}}]),app.controller("add_schedule_item_ctrl",["$scope","$ionicModal","Schedule","ionicDatePicker","$filter",function(e,t,n,i,r){function o(){e.scheduleInfo={schedule_id:0,customer_id:0,customer_name:"",description:"",purpose:"",type:e.careWayGrp[0]},e.scheduleInfo.date=a.toISOString(),e.scheduleInfo.dateShow=r("date")(a,"mediumDate")}var a=new Date;e.careWayGrp=["当面拜访","电话拜访","科室会","学术培训"],o(),e.cancelAdd=function(){o(),e.edit_schedule_item_modal&&e.edit_schedule_item_modal.hide(),e.add_schedule_item_modal&&e.add_schedule_item_modal.hide(),e.$emit("customList_add_schedule_item_confirm","")},e.submitAdd=function(){console.log(e.scheduleInfo),e.scheduleInfo.schedule_id>0?n.update({id:e.scheduleInfo.schedule_id},e.scheduleInfo,function(t){e.$emit("add_schedule_item_confirm",t.schedule)},function(e){console.log(e)}):n.save({},e.scheduleInfo,function(t){e.$emit("add_schedule_item_confirm",t.schedule),e.$emit("customList_add_schedule_item_confirm",t.schedule)},function(e){console.log(e)}),o()},e.$on("customList_add_schedule_item",function(t,n,i){o(),e.scheduleInfo.schedule_id=-1,e.scheduleInfo.customer_id=n,e.scheduleInfo.customer_name=i}),e.$on("edit_schedule_item",function(t,n){var i=new Date(n.date);e.scheduleInfo={schedule_id:n.id,customer_id:n.customer.id,customer_name:n.customer.name,date:n.date,dateShow:r("date")(i,"mediumDate"),description:n.description,purpose:n.purpose,type:n.type}});var s={from:new Date,callback:function(t){a.setTime(t),e.scheduleInfo.date=a.toISOString(),e.scheduleInfo.dateShow=r("date")(a,"mediumDate")}};e.pick_schedule_date=function(){e.scheduleInfo.date&&(a=new Date(e.scheduleInfo.date)),s.inputDate=a,i.openDatePicker(s)},t.fromTemplateUrl("templates/select_customer.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.select_customer_modal=t}),e.showCustomerLst=function(){return 0==e.scheduleInfo.schedule_id&&(e.$broadcast("load_customer_list"),void e.select_customer_modal.show())}}]),app.controller("add_worklog_ctrl",["$scope","$ionicModal",function(e,t){function n(){e.isEditable=!0,e.worklog={isEdit:!1,id:0,successDesc:"",improveDesc:"",plan:""}}n(),e.cancelAdd=function(){n(),e.$emit("worklog_cancel")},e.submitAdd=function(){var t=new Date,n={id:e.worklog.id,type:"worklog",time:t.toISOString(),content:{"成功之处":e.worklog.successDesc,"待改进":e.worklog.improveDesc,"下一步计划":e.worklog.plan}};e.worklog.isEdit?e.$emit("edit_worklog_confirm",n):e.$emit("add_worklog_confirm",n)},e.$on("edit_worklog",function(t,n,i){e.isEditable=i,console.log(i),e.worklog={isEdit:!0,id:n.id,successDesc:n.content.成功之处,improveDesc:n.content.待改进,plan:n.content.下一步计划}})}]),app.controller("care_period_setting_ctrl",["$scope","$ionicModal","ionicDatePicker","Period","current_user","sys_params","care_period",function(e,t,n,i,r,o,a){console.log("current_user",r),a.init(),e.$on("care_period_setting",function(t,n){e.currentUserId=r.data.id,console.log("care_period_setting******",a.get());var i=a.get();e.period={fiveLevel:i[4],fourLevel:i[3],threeLevel:i[2],twoLevel:i[1],oneLevel:i[0]},console.log("获取周期为",e.period)}),e.rangeMax=o.range_max,e.doConfirm=function(){e.periodChange={},e.careperiod={fiveLevel:parseInt(e.period.fiveLevel),fourLevel:parseInt(e.period.fourLevel),threeLevel:parseInt(e.period.threeLevel),twoLevel:parseInt(e.period.twoLevel),oneLevel:parseInt(e.period.oneLevel)},a.update(e.careperiod,e.currentUserId),e.carePeriodSettingModal.hide()};var s=function(e,t){return e>0&&e<t};e.addOne=function(t){switch(t){case 5:s(e.period.fiveLevel,e.rangeMax.five_max)?e.period.fiveLevel+=1:null;break;case 4:s(e.period.fourLevel,e.rangeMax.four_max)?e.period.fourLevel+=1:null;break;case 3:s(e.period.threeLevel,e.rangeMax.three_max)?e.period.threeLevel+=1:null;break;case 2:s(e.period.twoLevel,e.rangeMax.two_max)?e.period.twoLevel+=1:null;break;case 1:s(e.period.oneLevel,e.rangeMax.one_max)?e.period.oneLevel+=1:null}},e.descOne=function(t){switch(t){case 5:s(e.period.fiveLevel,e.rangeMax.five_max)?e.period.fiveLevel-=1:null;break;case 4:s(e.period.fourLevel,e.rangeMax.four_max)?e.period.fourLevel-=1:null;break;case 3:s(e.period.threeLevel,e.rangeMax.three_max)?e.period.threeLevel-=1:null;break;case 2:s(e.period.twoLevel,e.rangeMax.two_max)?e.period.twoLevel-=1:null;break;case 1:s(e.period.oneLevel,e.rangeMax.one_max)?e.period.oneLevel-=1:null}},e.reSet=function(){e.period={fiveLevel:o.sys_period.five_star,fourLevel:o.sys_period.four_star,threeLevel:o.sys_period.three_star,twoLevel:o.sys_period.two_star,oneLevel:o.sys_period.one_star},console.log("^^^^^^^^^^^^^^^^^",a.get())}}]),app.controller("customer_detail_ctrl",["$scope","$ionicModal","CustomerOwner","current_user","CustomerService","$ionicViewSwitcher","$state","ScheduleStorage","$filter","phone","schedule_item","Customer","care_period","$stateParams","customer_info","$ionicViewSwitcher",function(e,t,n,i,r,o,a,s,l,u,c,h,d,p,f,o){e.cItem={index:0,cUser:""},e.customer=r.getCustomer(p.customer_id),console.log("customer:",e.customer),"undefined"!=typeof e.customer.index?(e.cItem.index=e.customer.index+1,e.customers=r.getCustomerList(),console.log("customers:",e.customers)):(e.cItem.index=1,e.customers={list:[e.customer]}),e.showBirthday=function(){if(e.customer&&e.customer.birthday){var t=new Date(e.customer.birthday).Format("MM-dd"),n=(new Date).Format("MM-dd");return t==n}return!1},e.setShowHistoryText=function(){var t={name:"",time:"",intervalDays:""};if(e.customer.nextScheduleDate){var n=(new Date).Format("yyyy-MM-dd"),i=new Date(e.customer.nextScheduleDate).Format("yyyy-MM-dd"),r=daysBetween(i,n);switch(t.time=i,t.name=e.customer.nextVisitName||"",!0){case r>0:t.intervalDays="（"+r+"天后）";break;case 0==r:t.intervalDays="（今日）";break;default:t.intervalDays="（已过期"+abs(r)+"天）"}return t.name+" "+t.time+t.intervalDays}return"无"},e.$broadcast("init_visit_history"),e.detail_call_customer=function(e){console.log(e),u.call(e)},e.detail_sms_customer=function(e){console.log(e),u.sms(e)},t.fromTemplateUrl("templates/focus_people_setting.html",{scope:e}).then(function(t){e.focusPeopleSettingModal=t}),e.focusPeopleSetting=function(){var t={currentindex:e.cItem.index,customerId:e.customer.id,groupId:e.customer.groupId};e.focusPeopleSettingModal.show(),e.$broadcast("focus_people_setting",t)},e.modifyCustomerInfo=function(){f.edit(e.customer)},e.cDetail_add_schedule_item=function(t){t.stopPropagation(),c.add(e.customer,function(e){})},e.currentIndexModify=function(t){1!=e.customers.list.length&&(1==t?e.cItem.index<e.customers.list.length&&(e.cItem.index+=t,e.customer=e.customers.list[e.cItem.index-1],e.$broadcast("init_visit_history")):e.cItem.index>1&&(e.cItem.index+=t,e.customer=e.customers.list[e.cItem.index-1],e.$broadcast("init_visit_history")))}}]),app.controller("customer_list_ctrl",["$scope","current_user","phone","$ionicListDelegate","wx_jssdk","$ionicScrollDelegate","localConfig","schedule_item","care_period","CustomerService","$state","$ionicViewSwitcher","customer_info",function(e,t,n,i,r,o,a,s,l,u,c,h,d){e.currentItem={index:0,today:(new Date).Format("yyyy-MM-dd")},e.currentUser={fiveStars:[30,20,15,10,5]},e.choice={orderby:"next_visit",customType:"all",customScope:"my",searchText:""},e.choiceTimeList=[{text:"按计划拜访时间排序",value:"next_visit"},{text:"按上次拜访时间排序",value:"last_visit"}],e.choiceCustomTypeList=[{text:"显示全部客户",value:"all"},{text:"显示无拜访计划的客户",value:"noplan"},{text:"显示有拜访计划的客户",value:"plan"}],e.choiceCustomScopeList=[{text:"显示我的客户",value:"my"}],e.customerListfilter_param=a.getObject("customerList_filter_param",{orderby:e.choice.orderby,customType:e.choice.customType,customScope:e.choice.customScope}),e.choice.orderby=e.customerListfilter_param.orderby,e.choice.customType=e.customerListfilter_param.customType,t.enpinfo&&t.enpinfo.isManager&&(e.choiceCustomScopeList.push({text:"显示本组客户",value:"group"}),e.choice.customScope=e.customerListfilter_param.customScope),e.customers=u.getCustomerList(e.choice),e.loadMore=function(){e.customers.loadMore(function(t){e.$broadcast("scroll.infiniteScrollComplete"),console.log("increase",t)})},e.computeBgcolor=function(t){var n,i=0;return t&&"my"==e.choice.customScope?!t.myCustomer.star||t.myCustomer.star<=0||!t.myCustomer.lastVisitDate?"":(i=daysBetween(e.currentItem.today,new Date(t.myCustomer.lastVisitDate).Format("yyyy-MM-dd")),n=i/t.myCustomer.cycleDay,n<=1/3&&"greenBg"||n<=2/3&&n>1/3&&"yellowBg"||n>2/3&&"redBg"):""},e.computeBgWidth=function(t){var n,i=0;return t&&"my"==e.choice.customScope?!t.myCustomer.star||t.myCustomer.star<=0||!t.myCustomer.lastVisitDate?{width:"0px"}:(i=daysBetween(e.currentItem.today,new Date(t.myCustomer.lastVisitDate).Format("yyyy-MM-dd")),n=i/t.myCustomer.cycleDay,{width:n>1&&"10px"||100*(1-n)+"%"}):{width:"0px"}},e.showEvent=function(t){var n="",i=0;return"my"==e.choice.customScope?t.myCustomer&&t.myCustomer.nextScheduleDate?(i=daysBetween(new Date(t.myCustomer.nextScheduleDate).Format("yyyy-MM-dd"),e.currentItem.today),n=0==i?"计划今日拜访":"距下次拜访还有"+i+"天"):t.myCustomer&&t.myCustomer.lastVisitDate?(i=daysBetween(e.currentItem.today,new Date(t.myCustomer.lastVisitDate).Format("yyyy-MM-dd")),n="距上次拜访已有"+i+"天"):n="无下次拜访计划与记录":t.nextScheduleDate?(i=daysBetween(new Date(t.nextScheduleDate).Format("yyyy-MM-dd"),e.currentItem.today),n=0==i?"计划今日拜访":"距下次拜访还有"+i+"天"):t.lastVisitDate?(i=daysBetween(e.currentItem.today,new Date(t.lastVisitDate).Format("yyyy-MM-dd")),n="距上次拜访已有"+i+"天"):n="无下次拜访计划与记录",n},e.set_clfilter=function(t,n){t&&(e.customerListfilter_param[t]=n,a.setObject("customerList_filter_param",e.customerListfilter_param)),console.log("--------$scope.set_clfilter",e.choice),e.customers.setFilter(e.choice),o.$getByHandle("mainScroll").scrollTop()},e.call_customer=function(e){i.closeOptionButtons(),console.log(e),n.call(e)},e.sms_customer=function(e){i.closeOptionButtons(),console.log(e),n.sms(e)},e.carePeriodSetting=function(){l.set(function(t){console.log("refresh",t),e.customers.refresh()})},e.addCustom=function(){d.add(function(){console.log("$scope.addCustomer"),e.customers.page.total+=1})},e.customerDetail=function(t){e.currentItem.index=t+1,console.log("goto:",t),h.nextDirection("enter"),c.go("customer_detail",{customer_id:e.customers.list[t].id})},e.add_schedule_item=function(t,n,r){r.stopPropagation(),e.currentItem.index=t+1,i.closeOptionButtons(),s.add(n,function(e){})}}]),app.controller("focus_people_ctrl",["$scope","$ionicSideMenuDelegate","CustomerOwner","current_user","select_enpuser",function(e,t,n,i,r){function o(t,i){r.init(i,a.groupId,e.selecBool,t,function(t,i){console.log("00000000000data=====",t,i);for(var r=!1,o=0,a=0;a<e.originalUser.length;a++)if(e.originalUser[a].id==t.id){r=!0,o=e.originalUser[a].star,console.log("=====$scope.originalUser[x].star",e.originalUser[a].star);break}e.mainRespon.id&&e.mainRespon.id==t.id&&(r=!0,o=e.mainRespon.star),"add"==i?e.selecBool?r?n.update({customer_id:e.currentCustomerID,user_id:t.id},{primaryOwner:!1,star:o},function(t){console.log("=====update0",t),(e.mainRespon.id||e.mainRespon.id==t.owner.visitorInfo.id)&&(e.mainRespon={}),e.originalUser.push({id:t.owner.visitorInfo.id,name:t.owner.visitorInfo.name,star:t.owner.star})}):n.save({customer_id:e.currentCustomerID},{customerId:e.currentCustomerID,userId:t.id,primaryOwner:!1},function(t){console.log("=====多选添加",t),e.mainRespon.id==t.owner.userId&&(e.mainRespon={}),e.originalUser.push({id:t.owner.userId,name:t.owner.visitorInfo.name,star:t.owner.star})}):e.mainRespon.id?n["delete"]({customer_id:e.currentCustomerID,user_id:e.mainRespon.id},function(i){r?n.update({customer_id:e.currentCustomerID,user_id:t.id},{primaryOwner:!0,star:o},function(t){console.log("=====update1",t);for(var n=0;n<e.originalUser.length;n++)if(e.originalUser[n].id==t.owner.visitorInfo.id){e.originalUser.splice(n,1);break}e.mainRespon.id=t.owner.visitorInfo.id,e.mainRespon.name=t.owner.visitorInfo.name,e.mainRespon.star=t.owner.star}):n.save({customer_id:e.currentCustomerID},{customerId:e.currentCustomerID,userId:t.id,primaryOwner:!0},function(t){console.log("=====单选添加1",t),e.mainRespon.id=t.owner.userId,e.mainRespon.name=t.owner.visitorInfo.name,e.mainRespon.star=t.owner.star;for(var n=0;n<e.originalUser.length;n++)if(e.originalUser[n]==t.owner.userId){e.originalUser.splice(n,1);break}})}):r?n.update({customer_id:e.currentCustomerID,user_id:t.id},{primaryOwner:!0,star:o},function(t){console.log("=====update2",t);for(var n=0;n<e.originalUser.length;n++)if(e.originalUser[n].id==t.owner.visitorInfo.id){e.originalUser.splice(n,1);break}e.mainRespon.id=t.owner.visitorInfo.id,e.mainRespon.name=t.owner.visitorInfo.name,e.mainRespon.star=t.owner.star}):n.save({customer_id:e.currentCustomerID},{customerId:e.currentCustomerID,userId:t.id,primaryOwner:!0},function(t){console.log("=====单选添加2",t),e.mainRespon.id=t.owner.userId,e.mainRespon.name=t.owner.visitorInfo.name,e.mainRespon.star=t.owner.star;for(var n=0;n<e.originalUser.length;n++)if(e.originalUser[n]==t.owner.userId){e.originalUser.splice(n,1);break}}):n["delete"]({customer_id:e.currentCustomerID,user_id:t.id},function(n){for(var i=0;i<e.originalUser.length;i++)e.originalUser[i].id==t.id&&e.originalUser.splice(i,1)})})}e.originalUser=[],e.mainRespon={},e.selecBool=!1,e.star=[0,1,2,3,4],e.isFMain=!1;var a={};e.$on("focus_people_setting",function(t,r){a={},a=r,e.originalUser=[],e.isFManager=!!i.enpinfo.hasOwnProperty("isManager")&&i.enpinfo.isManager,e.currentIndexo=r.currentindex,e.currentCustomerID=r.customerId,o([],!s),n.get({customer_id:e.currentCustomerID},function(t){console.log("=====data.owners",t.owners);for(var n=0;n<t.owners.length;n++)t.owners[n].primaryOwner?(e.mainRespon.id=t.owners[n].userId,e.mainRespon.name=t.owners[n].visitorInfo.name,e.mainRespon.star=t.owners[n].star,t.owners[n].userId==i.data.id?isFMain=!0:isFMain=!1):e.originalUser.push({id:t.owners[n].userId,name:t.owners[n].visitorInfo.name,star:t.owners[n].star})})});var s=!1;e.close_p_panel=function(){e.$emit("focus_people_setting_confirm",e.currentIndexo,e.currentCustomerID),s=!0,r.destory(),e.focusPeopleSettingModal.hide()},e.rowClickFun=function(t){if(t){if(!e.isFMain&&!e.isFManager)return!1}else if(!e.isFManager)return!1;e.selecBool=t,r.multiSelect(t);var n=new Array;e.mainRespon.id&&n.push(e.mainRespon),r.setSelect(t?e.originalUser:n),s?(r.createModal(),s=!1):r.show()}}]),app.controller("group_homepage_ctrl",["$window","$scope","$state","$ionicModal","PersonalGroup","current_user",function(e,t,n,i,r,o){function a(e){var n=new Date(e.time);t.titleTime=n.Format("yyyy年MM月dd日")+" "+s[n.getDay()],t.piedata.pie1data=[];var i=[],r=0,o=!0;for(var a in e.yesterday)0!=e.yesterday[a]&&(o=!1);for(var a in e.yesterday)(0!=e.yesterday[a]||o)&&("over"==a?i.push({value:e.yesterday[a],name:u[a].name+"\n("+e.yesterday[a]+"人次)",itemStyle:{normal:{color:u[a].color}}}):t.piedata.pie1data.push({value:e.yesterday[a],name:u[a].name+"\n("+e.yesterday[a]+"人次)",itemStyle:{normal:{color:u[a].color}}}),r+=e.yesterday[a]);t.piedata.pie1data=i.concat(t.piedata.pie1data);var h=0;if(t.piedata.pie1data.length>0&&(h=t.piedata.pie1data[0].value),t.piedata.pie0data=0==r?"0%":Math.round(100*h/r)+"%",e.ranking.hasOwnProperty("grouyRank")&&e.ranking.grouyRank.length>0){t.hasData=!0;var d=[];t.topNNumner=0;for(var p=0;p<e.ranking.grouyRank.length;p++){var f=e.ranking.grouyRank[p].rank,m={};t.topNNumner++,m.id=e.ranking.grouyRank[p].user.id,m.rank=f,m.img=f>10?"":l[f-1],m.name=e.ranking.grouyRank[p].user.name,m.customers=e.ranking.grouyRank[p].number,e.ranking.grouyRank[p].user.hasOwnProperty("portrait_uri")?m.photo=e.ranking.grouyRank[p].user.portrait_uri:m.photo=c,t.topN.topNArray.push(m),d.push(e.ranking.grouyRank[p].number)}for(var p=0;p<d.length;p++)t.topndata.data.push(d[p])}else t.hasData=!1;for(var p=e.week.date.length-1;p>=0;p--){var g=new Date(e.week.date[p]);if(t.weekdata.xAxis.push(g.getMonth()+1+"."+g.getDate()),e.week.hasOwnProperty("data")){for(var v=0,y=0;y<e.week.data.length;y++)if(e.week.data[y].time==e.week.date[p]){v=e.week.data[y].number;break}0==p?t.weekdata.data.push({value:v,itemStyle:{normal:{color:"#28a54c"}}}):t.weekdata.data.push(v)}else t.weekdata.data.push(0)}}var s=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],l={0:"img/first.png",1:"img/second.png",2:"img/third.png"},u={unfinished:{name:"未处理",color:"#e42112"},over:{name:"已拜访",color:"#28a54c"},cancle:{name:"已取消",color:"#e6b500"},lazy:{name:"已延期",color:"#b2b2b2"}};t.topNNumner=10,t.hasData=!0,t.piedata={pie1data:[],pie0data:""},t.weekdata={xAxis:[],data:[]},t.topndata={data:[]},t.todayArr=[],t.topN={topNArray:[]},t.selfdata={};var c="img/man.jpg";r.get({group_id:o.data.enterprise_id},function(e){a(e)}),t.gotoPersonalView=function(){e.localStorage.global_visit_panel="personal",e.localStorage.global_visit_num=0,n.go("personal_homepage")}}]),app.controller("login_ctrl",["$scope","$http","$state","OAuth","OAuthToken","oauth_params","current_user","localConfig",function(e,t,n,i,r,o,a,s){e.userinfo={},e.ready=!1,r.getToken=function(){return s.getObject("token")},r.setToken=function(e){s.setObject("token",e)},e.login=function(){i.getAccessToken(e.userinfo).then(function(e){console.log("oauth_params:",o),console.log("login:",e),t.get(o.baseUrl+o.userPath).then(function(e){console.log("current_user:",e.data.user),a.login(e.data.user),n.go("schedule_list")})})}}]),app.controller("map_location_ctrl",["services","$scope","$ionicModal","$sce",function(e,t,n,i){t.backMainPage=function(){t.map_location_modal.hide()},t.$on("show_map_location",function(n,r){var o="coord:"+r.latlng.lat+","+r.latlng.lng+";";o+="addr:"+r.poiaddress,t.mapurl=e.jssdk_location.replace(":marker",o),t.jssdk_location=function(e){return i.trustAsResourceUrl(e)}})}]),app.controller("modify_customer_ctrl",["$scope","$filter","$ionicModal","ionicDatePicker","Customer","CustomerOwner","current_user",function(e,t,n,i,r,o,a){function s(){e.userInfo={userId:0,phoneNum:"",address:"",name:"",stars:[30,20,15,10,5],isTeamLeader:!0,birthDay:new Date,cRole:"",cHeadPic:"img/man.jpg",cStar:3,groupMember:[],hospitalArr:[],rel_customer:[],user_action:0},e.selectCtrl={selected:""},e.phoneNumCheck=!1,e.hospitalCheck=!1,e.showCareEye=!1,e.eyeObj={currentEyeType:""},u={localId:[],serverId:[]},e.hospitalCtrl.hospitalInput=""}function l(){""!=e.eyeObj.currentEyeType?o.save({customer_id:e.customerInfoOld.id},{customerId:e.customerInfoOld.id,userId:a.data.id,primaryOwner:!1,star:e.customerInfoOld.myCustomer.star},function(t){console.log("=====addcuntomer",t),e.customerInfoOld.myCustomer.type="otherOwner"}):o["delete"]({customer_id:e.customerInfoOld.id,user_id:a.data.id},function(t){console.log("=====delete>>>>",t),e.customerInfoOld.myCustomer.type=""})}e.hospitalCtrl={hospitalInput:""},e.selectCtrl={selected:""},s();var u={localId:[],serverId:[]};e.chooseImage=function(){wx.chooseImage({count:1,success:function(t){u.localId=t.localIds,e.userInfo.cHeadPic=t.localIds[0],e.$apply(),e.uploadImage()}})},e.uploadImage=function(){if(0==u.localId.length)return void alert("请先选择图片");var e=0;u.serverId=[],wx.uploadImage({localId:u.localId[e],success:function(e){u.serverId=new Array,u.serverId.push(e.serverId)},fail:function(){alert("头像上传失败，请检查网络！")}})},e.showCareEye=!1,e.isAddBool=!0,e.$on("add_custom_show",function(n,i){c=new Date,e.select_data_show=t("date")(c,"mediumDate"),e.showCareEye=!1,e.isAddBool=!0,s(),e.userInfo.cHeadPic="img/man.jpg",console.log("初始化用户信息为",e.userInfo,u),$("#headImage").attr("src","img/man.jpg"),r.get({},{},function(t){for(var n=0;n<t.customers.length;n++){var i={id:t.customers[n].id,name:t.customers[n].name};e.userInfo.groupMember.push(i)}})}),e.judgeShowFocus=function(){return""==e.choiceCustomScopeStr},e.eyeObj={currentEyeType:""},e.changeEyeFun=function(){""==e.eyeObj.currentEyeType?(e.eyeObj.currentEyeType="otherOwner",e.userInfo.cStar=3):(e.userInfo.cStar=0,e.eyeObj.currentEyeType="")},e.choiceCustomScopeStr="",e.$on("modify_custom_info",function(t,n,i){e.choiceCustomScopeStr=i,s(),e.userInfo.cHeadPic="img/man.jpg",e.isAddBool=!1,$("#headImage").attr("src","img/man.jpg"),""!=i?e.showCareEye=!1:e.showCareEye=!0,e.userInfo.user_action=1,e.customerInfoOld=n,e.tempUserId=n.id,e.eyeObj.currentEyeType=n.myCustomer.type,e.userInfo.groupMember=[],r.get({},{},function(t){for(var n=0;n<t.customers.length;n++){var i={id:t.customers[n].id,name:t.customers[n].name};e.userInfo.groupMember.push(i);for(var r=0;r<e.userInfo.rel_customer.length;r++)if(i.id==e.userInfo.rel_customer[r].id){e.userInfo.groupMember.remove(i);break}}}),r.get({id:e.tempUserId},{},function(t){console.log("收到的消息",t);var n=t.customer;if(e.userInfo.name=n.name,e.userInfo.id=3,e.userInfo.phoneNum=n.mobile,e.userInfo.address=n.address,e.userInfo.birthDay=n.birthday,e.userInfo.cRole=n.type,e.userInfo.cHeadPic=n.headUrl,n.hasOwnProperty("owners")){for(var i=!1,r=0;r<n.owners.length;r++)if(n.owners[r].userId==a.data.id){e.userInfo.cStar=n.owners[r].star,i=!0;break}i||(e.userInfo.cStar=0)}else e.userInfo.cStar=0;try{e.userInfo.hospitalArr=[],0!=n.hospitalList.length&&(e.userInfo.hospitalArr=n.hospitalList.split(","))}catch(o){}e.select_date=new Date(e.userInfo.birthDay),e.select_data_show=new Date(e.userInfo.birthDay).Format("yyyy-MM-dd"),e.userInfo.rel_customer=[];for(var s=0;s<n.customers.length;s++){var l={id:n.customers[s].id,name:n.customers[s].name};e.userInfo.rel_customer.push(l)}})});var c=new Date;e.select_data_show=t("date")(c,"mediumDate"),e.userInfo.birthDay=c;var h={callback:function(n){c.setTime(n),e.select_data_show=t("date")(c,"mediumDate"),e.userInfo.birthDay=n}};e.pick_date=function(){h.inputDate=c,i.openDatePicker(h)},Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},e.modifyStars=function(t,n){return!(""==e.eyeObj.currentEyeType&&!e.isAddBool)&&(e.userInfo.cStar=t+1,void($(n.currentTarget).hasClass("active")&&e.userInfo.cStar--))},e.phoneNumCheck=!1,e.hospitalCheck=!1;var d=/^1[3|4|5|7|8]\d{9}$/;e.numCheck=function(){e.phoneNumCheck=!d.test(e.userInfo.phoneNum)};var p=function(t){for(var n=0;n<e.userInfo.hospitalArr.length;n++)return t!=e.userInfo.hospitalArr[n];return!0};e.hospitalCtrl={hospitalInput:""},e.addHospitalM=function(){e.hospitalCheck=!p(e.hospitalCtrl.hospitalInput),0!=e.hospitalCtrl.hospitalInput&&p(e.hospitalCtrl.hospitalInput)?(e.userInfo.hospitalArr.push(e.hospitalCtrl.hospitalInput),e.hospitalCtrl.hospitalInput=""):console.log("没有输入医院名字")},e.cancelHospM=function(t){for(var n=0;n<e.userInfo.hospitalArr.length;n++)if(e.userInfo.hospitalArr[n]==t){e.userInfo.hospitalArr.splice(n,1);break}},e.addCustomerM=function(){var t=e.$eval(e.selectCtrl.selected);if(null!=t){e.userInfo.rel_customer.push(t),e.userInfo.groupMember.remove(t);for(var n=0;n<e.userInfo.groupMember.length;n++)if(e.userInfo.groupMember[n].id==t.id){e.userInfo.groupMember.splice(n,1);break}}},e.cancelCustomM=function(t){for(var n=0;n<e.userInfo.rel_customer.length;n++)if(e.userInfo.rel_customer[n].id==t){e.userInfo.groupMember.push(e.userInfo.rel_customer[n]),e.userInfo.rel_customer.splice(n,1);break}},e.modifyConfirm=function(){for(var t=[],n=0;n<e.userInfo.rel_customer.length;n++)t.push(e.userInfo.rel_customer[n].id);var i=t.join(",");d.test(e.userInfo.phoneNum)?1==e.userInfo.user_action?(e.showCareEye&&l(),r.update({id:e.tempUserId},{primaryOwner:"primaryOwner"==e.eyeObj.currentEyeType,mobile:e.userInfo.phoneNum,hospitalList:e.userInfo.hospitalArr.join(","),name:e.userInfo.name,type:e.userInfo.cRole,address:e.userInfo.address,star:e.userInfo.cStar,birthday:e.userInfo.birthDay,customerRelList:i,headUrl:0==u.serverId.length?"":u.serverId[0]},function(t){console.log("********&&&&&&&&*****",t),e.modifyCustomerInfoModal.hide(),e.customerInfoOld.name=e.userInfo.name,e.customerInfoOld.myCustomer.star=e.userInfo.cStar,e.customerInfoOld.type=e.userInfo.cRole,e.customerInfoOld.address=e.userInfo.address,e.userInfo.cHeadPic=t.customer.headUrl,e.customerInfoOld.headUrl=t.customer.headUrl,e.customerInfoOld.mobile=e.userInfo.phoneNum,e.customerInfoOld.birthday=t.customer.birthday,t.customer.myCustomer&&t.customer.myCustomer.cycleDay?e.customerInfoOld.myCustomer.cycleDay=t.customer.myCustomer.cycleDay:e.customerInfoOld.myCustomer.cycleDay=0,console.log("信息",e.customerInfoOld),e.showCareEye&&(e.customerInfoOld.myCustomer.type=e.eyeObj.currentEyeType,"primaryOwner"==e.eyeObj.currentEyeType&&(e.customerInfoOld.star=e.userInfo.cStar)),e.$emit("modify_custom_info_confirm",t.customer)})):r.save({},{mobile:e.userInfo.phoneNum,hospitalList:e.userInfo.hospitalArr.join(","),name:e.userInfo.name,type:e.userInfo.cRole,address:e.userInfo.address,star:e.userInfo.cStar,birthday:e.userInfo.birthDay,customerRelList:i,headUrl:0==u.serverId.length?"":u.serverId[0]},function(t){s(),e.$emit("add_custom_confirm",t.customer),e.userInfo.cHeadPic=t.headUrl,e.addCustomerModal.hide(),e.userInfo.cHeadPic="img/man.jpg"}):alert("手机号码输入有误，请仔细检查")},e.modifyCancel=function(){0==e.userInfo.user_action?e.addCustomerModal.hide():e.modifyCustomerInfoModal.hide(),s(),e.userInfo.cHeadPic="img/man.jpg"}}]),app.controller("personal_homepage_ctrl",["$window","$scope","$state","$ionicModal","Personal","current_user",function(e,t,n,i,r,o){function a(e){t.medal=e.medal,t.finishNum=null==e.finishNum?0:e.finishNum;var n=new Date(e.time);t.titleTime=n.Format("yyyy年MM月dd日")+" "+s[n.getDay()],t.piedata.pie1data=[];var i=[],r=0,o=!0;for(var a in e.yesterday)0!=e.yesterday[a]&&(o=!1);for(var a in e.yesterday)(0!=e.yesterday[a]||o)&&("over"==a?i.push({value:e.yesterday[a],name:u[a].name+"\n("+e.yesterday[a]+"人次)",itemStyle:{normal:{color:u[a].color}}}):t.piedata.pie1data.push({value:e.yesterday[a],name:u[a].name+"\n("+e.yesterday[a]+"人次)",
itemStyle:{normal:{color:u[a].color}}}),r+=e.yesterday[a]);t.piedata.pie1data=i.concat(t.piedata.pie1data);var h=0;if(t.piedata.pie1data.length>0&&(h=t.piedata.pie1data[0].value),e.ranking.hasOwnProperty("my")&&e.ranking.my?(e.ranking.my.rank="第"+e.ranking.my.rank,t.selfdata=e.ranking.my,t.topndata.data.push(e.ranking.my.number)):(t.selfdata={rank:"无排",number:0},t.topndata.data.push(0)),t.piedata.pie0data=0==r?"0%":Math.round(100*h/r)+"%",e.ranking.hasOwnProperty("grouyRank")){for(var d=[],p=0;p<e.ranking.grouyRank.length;p++){var f={};f.id=e.ranking.grouyRank[p].user.id,f.img=l[e.ranking.grouyRank[p].rank-1],f.name=e.ranking.grouyRank[p].user.name,f.customers=e.ranking.grouyRank[p].number,e.ranking.grouyRank[p].user.hasOwnProperty("portrait_uri")?f.photo=e.ranking.grouyRank[p].user.portrait_uri:f.photo=c,t.topN.topNArray.push(f),d.push(e.ranking.grouyRank[p].number)}if(e.ranking.grouyRank.length<t.topNNumner)for(var m=t.topNNumner-e.ranking.grouyRank.length,p=0;p<m;p++)t.topN.topNArray.push({img:l[e.ranking.grouyRank.length+p],photo:c,name:"--",customers:0}),d.push(0);for(var p=0;p<d.length;p++)t.topndata.data.push(d[p])}else{t.topndata.data.push(0);for(var p=0;p<t.topNNumner;p++)t.topN.topNArray.push({img:l[e.ranking.grouyRank.length+p],photo:c,name:"--",customers:0})}for(var p=e.week.date.length-1;p>=0;p--){var g=new Date(e.week.date[p]);if(t.weekdata.xAxis.push(g.getMonth()+1+"."+g.getDate()),e.week.hasOwnProperty("data")){for(var m=0,v=0;v<e.week.data.length;v++)if(e.week.data[v].time==e.week.date[p]){m=e.week.data[v].number;break}0==p?t.weekdata.data.push({value:m,itemStyle:{normal:{color:"#28a54c"}}}):t.weekdata.data.push(m)}else t.weekdata.data.push(0)}e.hasOwnProperty("today")?t.todayArr=e.today:t.todayArr=[],t.topNNumner++}var s=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],l={0:"img/first.png",1:"img/second.png",2:"img/third.png"},u={unfinished:{name:"未处理",color:"#e42112"},over:{name:"已拜访",color:"#28a54c"},cancle:{name:"已取消",color:"#e6b500"},lazy:{name:"已延期",color:"#b2b2b2"}};t.topNNumner=3,t.piedata={pie1data:[],pie0data:""},t.weekdata={xAxis:[],data:[]},t.topndata={data:[]},t.todayArr=[],t.topN={topNArray:[]},t.selfdata={},t.finishNum=0,t.medal={bronze:0,gold:0,silver:0};var c="img/man.jpg";r.get({user_id:o.data.id},function(e){a(e)}),t.gotoGroupView=function(){e.localStorage.global_visit_panel="group",e.localStorage.global_visit_num=0,n.go("group_homepage")};var h=null;t.shareImgFunction=function(){var e=document.createEvent("Event");e.initEvent("hold",!1,!1),h.dispatchEvent(e)}}]),app.controller("visit_history_ctrl",["$scope","$ionicModal","$filter","$interval","$ionicScrollDelegate","ionicDatePicker","ScheduleService","Customer","Popup",function(e,t,n,i,r,o,a,s,l){e.is_show_visit_history=!1;e.visit_histories=[];var u=[];e.more_history=!1,e.$on("init_visit_history",function(t){e.visit_histories=[],u=[],e.is_show_visit_history=!1}),e.show_visit_history=function(t){e.is_show_visit_history=!e.is_show_visit_history,e.is_show_visit_history&&(console.log("send: show_visit_history"),u=[],e.visit_histories=a.getCustomerSchedules(t.id))},e.loadMore=function(){e.visit_histories.loadMore(function(){e.$broadcast("scroll.infiniteScrollComplete")})}}]).controller("schedule_item_detail_ctrl",["$scope","$state","$ionicActionSheet","$ionicPopup","$ionicListDelegate","$ionicViewSwitcher","$stateParams","$ionicModal","$filter","$interval","$ionicScrollDelegate","ionicDatePicker","ScheduleService","Popup","phone","wx_jssdk","schedule_item","map_location","current_user",function(e,t,n,i,r,o,a,s,l,u,c,h,d,p,f,m,g,v,y){function b(){M="prepare";var t=2;D=u(function(){t<=0?(u.cancel(D),D=null,x()):(e.voice_input_hint=t+"秒后开始录音，点击取消",t--)},1e3,100)}function _(){null!=D&&(u.cancel(D),D=null),null!=B&&(u.cancel(B),B=null),M="ready",e.voice_input_hint="开始录音"}function x(){M="recording",T.count_down=59,wx.startRecord(),B=u(function(){T.count_down>0?(e.voice_input_hint="剩余"+T.count_down+"秒，点击结束,长按取消",T.count_down--):(u.cancel(B),B=null,w())},1e3,100)}function A(){null!=B&&(u.cancel(B),B=null),wx.stopRecord({success:function(e){},fail:function(e){}}),M="ready",e.voice_input_hint="开始录音"}function w(){null!=B&&(u.cancel(B),B=null),wx.stopRecord({success:function(e){C(e)},fail:function(t){e.$apply(function(){e.voice_input_hint="录音失败，重新录音"}),M="ready"}})}function C(t){M="saving",e.$apply(function(){e.voice_input_hint="正在保存"}),null!=B&&(u.cancel(B),B=null),L.localId=t.localId,wx.uploadVoice({localId:L.localId,isShowProgressTips:1,success:function(e){L.serverId=e.serverId,wx.translateVoice({localId:L.localId,isShowProgressTips:1,success:function(e){L.text=e.translateResult},complete:function(e){S()}})},fail:function(t){L.serverId=t.serverId,e.$apply(function(){e.voice_input_hint="保存失败，重新录音"}),M="ready"}})}function S(){e.$apply(function(){e.voice_display=L,e.voice_input_hint="保存成功，开始新录音",M="ready";var t=e.schedule.addLog({type:"voice",time:(new Date).toISOString(),mediaType:"audio",weixin_url:L.serverId,text:L.text,period:60-T.count_down},function(e){});t.playing=!1}),c.$getByHandle("logs-content").scrollBottom()}function k(){wx.chooseImage({success:function(e){P.localId=e.localIds,I()}})}function I(){function t(){wx.uploadImage({localId:P.localId[n],success:function(o){n++,e.schedule.addLogUrl(r,{weixin_url:o.serverId,mediaType:"image"}),n<i&&t()},fail:function(e){alert(JSON.stringify(e))}})}if(0==P.localId.length)return void alert("请先选择图片");var n=0,i=P.localId.length;P.serverId=[];var r=e.schedule.addLog({type:"photos",time:(new Date).toISOString(),mediaType:"image",weixin_urls:[]},function(e){t()})}console.log("$stateParams:",a),e.schedule=d.getSchedule(a.schedule_id),e.current_user=y,e.show_customer=function(e){o.nextDirection("enter"),t.go("customer_detail",{customer_id:e.id})},e.display_basic_info=function(){e.schedule.show_basic_info=!0,e.$broadcast("scroll.refreshComplete")},e.hide_basic_info=function(){console.log("hide_basic_info"),e.schedule.show_basic_info=!1},e.close_schedule_item_detail=function(e){o.nextDirection("exit"),t.go("schedule_list")},e.call_customer=function(e){r.closeOptionButtons(),f.call(e.customer.mobile)},e.sms_customer=function(e){r.closeOptionButtons(),f.sms(e.customer.mobile)},e.close_schedule=function(t){console.log("close_schedule");n.show({buttons:t.buttons,titleText:"选择关闭原因",cancelText:"取消",buttonClicked:function(n){if("已拜访"==t.buttons[n].text){e.chat_duration={start:new Date,end:new Date};var r=i.show({template:'<div class="list">                        <label class="item item-input">                        <span class="input-label">开始:</span>                        <input type="time"  ng-model=chat_duration.start>                        </label>                        <label class="item item-input">                        <span class="input-label">结束:</span>                        <input type="time"  ng-model=chat_duration.end>                        </label>                        </div>',title:"请输入会谈时间",scope:e,buttons:[{text:"取消"},{text:"<b>确定</b>",type:"button-positive",onTap:function(t){return e.chat_duration.end<=e.chat_duration.start?void t.preventDefault():e.chat_duration}}]});r.then(function(e){e&&(t.addLog({type:"chat_duration",time:new Date,start:e.start,end:e.end,duration:e.end.getTime()-e.start.getTime()}),t.close(t.buttons[n].text))})}else t.close(t.buttons[n].text);return!0}});r.closeOptionButtons()},e.edit_schedule=function(){g.edit(e.schedule,function(t){e.schedule=t.schedule}),console.log("edit")};var M="init";e.voice_input_ready=m.ready,M=e.voice_input_ready&&"ready",e.voice_input_hint={init:"正在准备，请稍后",ready:"开始录音"}[M],e.$on("wx.ready",function(){e.$apply(function(){e.voice_input_ready=m.ready,M=e.voice_input_ready&&"ready",e.voice_input_hint={init:"正在准备，请稍后",ready:"开始录音"}[M]})});var T={},L={localId:"",serverId:"",text:""},D=null,B=null,O={ready:{click:b},prepare:{click:_},recording:{click:w,hold:A},saving:{}};e.click_record_button=function(){var e=O[M].click;null!=e&&(console.log(e),e())},e.hold_record_button=function(){var e=O[M].hold;null!=e&&(console.log(e),e())},s.fromTemplateUrl("templates/add_worklog.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.add_work_log_modal=t}),e.add_work_log=function(){e.add_work_log_modal.show()},e.$on("add_worklog_confirm",function(t,n){console.log("add_worklog:",n),e.add_work_log_modal.hide(),e.schedule.addLog(n)}),e.$on("worklog_cancel",function(t,n){e.add_work_log_modal.hide()}),e.add_location=function(){v.getLocation(function(t){e.schedule.addLog({type:"location",time:(new Date).toISOString(),address:t.poiaddress,locInfo:t});c.$getByHandle("logs-content").scrollBottom()})},e.short_log={},e.add_short_log=function(){if(console.log(e.short_log.text),e.short_log.text&&""!=e.short_log.text.trim()){e.schedule.addLog({type:"short",time:(new Date).toISOString(),text:e.short_log.text.trim()});e.short_log.text="",c.$getByHandle("logs-content").scrollBottom()}};var P={localId:[],serverId:[]};e.add_photos=k,e.add_next_visit=function(){console.log("show add_schedule_item_modal"),g.add(e.schedule.customer,function(t){e.$emit("add_schedule_item",t.schedule)})}}]).controller("show_schedule_log_ctrl",["$scope","$ionicModal","$filter","ScheduleLogStorage","player","map_location","current_user",function(e,t,n,i,r,o,a){function s(){console.log("showPhotos:",h),wx.previewImage({current:h.oss_urls[0],urls:h.oss_urls})}function l(){h.playing?(r.stop(),h.playing=!1):(r.play(h),h.playing=!0)}function u(){var e=h.locInfo;o.showSingleLocation(e)}function c(){e.edit_work_log_modal.show(),e.$broadcast("edit_worklog",h,a.data.id==d.userId)}var h={},d={},p={voice:l,location:u,worklog:c,photos:s};e.show_log=function(e,t){h=e,d=t,p[h.type]&&p[h.type]()},e.player=r,t.fromTemplateUrl("templates/add_worklog.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.edit_work_log_modal=t}),e.$on("edit_worklog_confirm",function(t,n){console.log("edit_worklog:",n),console.log("cur_worklog:",h),e.edit_work_log_modal.hide(),n.time=(new Date).toISOString(),i.update({schedule_id:d.id,log_id:n.id},n,function(e){h.content=e.content,h.time=e.time})}),e.$on("worklog_cancel",function(t,n){e.edit_work_log_modal.hide()})}]),app.controller("schedule_list_ctrl",["$window","$scope","$state","$ionicViewSwitcher","$ionicPopup","$ionicModal","$filter","$ionicScrollDelegate","$ionicListDelegate","$ionicActionSheet","$ionicLoading","ionicDatePicker","current_user","phone","localConfig","schedule_item","map_location","ScheduleService",function(e,t,n,i,r,o,a,s,l,u,c,h,d,p,f,m,g,v){function y(){"my"==t.filter_param.scope.value?t.schedule_list.setFilter({date:t.select_date_value.toISOString(),range:t.filter_param.time_range.value,scope:t.filter_param.scope.value,role:t.screens.role,provinces:t.screens.provinces}):t.schedule_list.setFilter({date:t.select_date_value.toISOString(),range:t.filter_param.time_range.value,scope:t.filter_param.scope.value,role:t.screens.role,provinces:t.screens.provinces,userids:t.screens.userids})}t.current_user=d,t.ScheduleService=v,t.filter_options={time_range:[{title:"当日",value:"day"},{title:"当周",value:"week"},{title:"当月",value:"month"}],scope:[{title:"我的",value:"my"}]},t.screens={role:"不限",provinces:"",userids:"",userNames:""},d.data.enterprise_id&&d.enpinfo.isManager&&t.filter_options.scope.push({title:"小组",value:"group"}),t.filter_param=f.getObject("schedule_filter_param",{time_range:t.filter_options.time_range[0],scope:t.filter_options.scope[0]}),t.set_filter=function(e,n){t.filter_param[e]=n,t.select_date=a("date")(t.select_date_value,"mediumDate")+"("+t.filter_param.scope.title+t.filter_param.time_range.title+"计划)",f.setObject("schedule_filter_param",t.filter_param),y(),t.remain=!0,s.scrollTop()},t.show_customer=function(e){i.nextDirection("enter"),n.go("customer_detail",{customer_id:e.id})},t.select_date_value=new Date,t.select_date=a("date")(t.select_date_value,"mediumDate")+"("+t.filter_param.scope.title+t.filter_param.time_range.title+"计划)";var b={callback:function(e){console.log("Return value from the datepicker popup is : "+e,new Date(e)),t.select_date_value.setTime(e),t.select_date=a("date")(t.select_date_value,"mediumDate")+"("+t.filter_param.scope.title+t.filter_param.time_range.title+"计划)",y(),t.remain=!0},templateType:"modal"};t.pick_date=function(){b.inputDate=t.select_date_value,h.openDatePicker(b)},t.schedule_order=function(e){var t=Math.floor((Date.parse(e.date)+288e5)/864e5),n=e.getPrior();return 10*t-n},t.call_customer=function(e){l.closeOptionButtons(),p.call(e.customer.mobile)},t.sms_customer=function(e){l.closeOptionButtons(),p.sms(e.customer.mobile)},t.close_schedule=function(e){console.log("close_schedule");u.show({buttons:e.buttons,titleText:"选择关闭原因",cancelText:"取消",buttonClicked:function(n){if("已拜访"==e.buttons[n].text){t.chat_duration={start:new Date,end:new Date};var i=r.show({template:'<div class="list">                        <label class="item item-input">                        <span class="input-label">开始:</span>                        <input type="time"  ng-model=chat_duration.start>                        </label>                        <label class="item item-input">                        <span class="input-label">结束:</span>                        <input type="time"  ng-model=chat_duration.end>                        </label>                        </div>',title:"请输入会谈时间",scope:t,buttons:[{text:"取消"},{text:"<b>确定</b>",type:"button-positive",onTap:function(e){return t.chat_duration.end<=t.chat_duration.start?void e.preventDefault():t.chat_duration}}]});i.then(function(t){t&&(e.addLog({type:"chat_duration",time:new Date,start:t.start,end:t.end,duration:t.end.getTime()-t.start.getTime()}),e.close(e.buttons[n].text))})}else e.close(e.buttons[n].text);return!0}});l.closeOptionButtons()},o.fromTemplateUrl("templates/schedule_screen.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.schedule_screen_modal=e}),t.$on("schedule_screens_confirm",function(e,n){t.screens.role=n.role,t.screens.provinces=n.provinces,t.screens.userids=n.visitPersonsId,t.screens.userNames=n.visitPersonsName,console.log("$scope.screens",t.screens),y()}),t.set_screens=function(){t.$broadcast("schedule_screens_set",t.filter_param.scope.value),t.schedule_screen_modal.show()},t.show_schedule_detail=function(e){console.log("goto:",e),i.nextDirection("enter"),n.go("schedule_detail",{schedule_id:e.id})},t.add_schedule_item=function(){console.log("show add_schedule_item_modal"),m.add(null,function(e){t.schedule_items.schedules.unshift(e.schedule)})},t.showMyLocations=function(){var e=t.filter_param;e.date=t.select_date_value,e.userId=d.data.id,e.grpId=d.data.enterprise_id,g.showMultiLocation(e)},t.$on("$stateChangeSuccess",function(){}),t.schedule_list=v.getScheduleList({date:t.select_date_value.toISOString(),range:t.filter_param.time_range.value,scope:t.filter_param.scope.value}),t.loadMore=function(){t.schedule_list.loadMore(function(){t.$broadcast("scroll.infiniteScrollComplete")})},t.showPersonal=function(){e.localStorage.global_visit_num=0,n.go("personal_homepage")}}]),app.controller("schedule_screens_ctrl",["$scope","current_user","select_enpuser","select_provinces","localConfig",function(e,t,n,r,o){function a(t,n){if(console.log("00000000000data=====",t,n),"add"==n)c.push(t.id),h.push(t.name),d.push(t);else for(i=0;i<c.length;i++)if(parseInt(c[i])==t.id){c.splice(i,1),h.splice(i,1),d.splice(i,1);break}e.screenObj.visitPersonsId=c.join(","),e.screenObj.visitPersonsName=h.join(",")}function s(){if(e.screenObj=o.getObject("schedule_screens_param",{role:"不限",visitPersonsId:"",visitPersonsName:"",provinces:""}),""!=e.screenObj.visitPersonsId)for(c=e.screenObj.visitPersonsId.split(","),h=e.screenObj.visitPersonsName.split(","),d=[],i=0;i<c.length;i++){var t=new Object;t.id=parseInt(c[i]),t.name=h[i],d[i]=t}console.log("initScreen",d),n.init(!0,u,l,d,a),r.init(e.screenObj,!0)}var l=!0,u=t.data.enterprise_id;e.filterScope="my",e.provincesArray=new Array,e.isFManager=!!t.enpinfo.hasOwnProperty("isManager")&&t.enpinfo.isManager;var c=new Array,h=new Array,d=new Array;e.$on("schedule_screens_set",function(t,n){e.filterScope=n,console.log("$scope.filterScope",e.filterScope),s()}),e.close_p_panel=function(t){t&&(o.setObject("schedule_screens_param",e.screenObj),e.$emit("schedule_screens_confirm",e.screenObj)),n.destory(),r.destory(),e.schedule_screen_modal.hide()},e.rowClickFun=function(){n.show()},e.chooseProvinces=function(){r.show()}}]),app.controller("select_customer_ctrl",["$scope","$ionicModal","$ionicLoading","filterFilter","$filter","CustomerService",function(e,t,n,i,r,o){function a(e,t){var n=e.substring(5,e.lastIndexOf("-")),i=e.substring(e.length,e.lastIndexOf("-")+1),r=e.substring(0,e.indexOf("-")),o=t.substring(5,t.lastIndexOf("-")),a=t.substring(t.length,t.lastIndexOf("-")+1),s=t.substring(0,t.indexOf("-")),l=(Date.parse(n+"/"+i+"/"+r)-Date.parse(o+"/"+a+"/"+s))/864e5;return Math.abs(l)}e.$on("load_customer_list",function(t){e.customList=o.getMyCustomers()}),e.loadMore=function(){e.customList.loadMore(function(){e.$broadcast("scroll.infiniteScrollComplete")})},e.currentItem={index:0,today:(new Date).Format("yyyy-MM-dd")},e.currentUser={fiveStars:[30,20,15,10,5],isTeamLeader:!0},e.touch=function(e){$("#search").blur()},e.selectCustomer=function(t){e.scheduleInfo.schedule.customer=t,e.select_customer_modal.hide()},e.choice={orderby:"next_visit",customType:"plan",customScope:"my",searchText:""},e.showEvent=function(t){var n="",i=0;return"my"==e.choice.customScope?t.myCustomer&&t.myCustomer.nextScheduleDate?(i=a(new Date(t.myCustomer.nextScheduleDate).Format("yyyy-MM-dd"),e.currentItem.today),n=0==i?"计划今日拜访":"距下次拜访还有"+i+"天"):t.myCustomer&&t.myCustomer.lastVisitDate?(i=a(e.currentItem.today,new Date(t.myCustomer.lastVisitDate).Format("yyyy-MM-dd")),n="距上次拜访已有"+i+"天"):n="无拜访计划与记录":t.nextScheduleDate?(i=a(new Date(t.nextScheduleDate).Format("yyyy-MM-dd"),e.currentItem.today),n=0==i?"计划今日拜访":"距下次拜访还有"+i+"天"):t.lastVisitDate?(i=a(e.currentItem.today,new Date(t.lastVisitDate).Format("yyyy-MM-dd")),n="距上次拜访已有"+i+"天"):n="无拜访计划与记录",n}}]),app.directive("input",["dateFilter",function(e){return{restrict:"E",require:"?ngModel",link:function(t,n,i,r){"undefined"!=typeof i.type&&"time"===i.type&&r&&(r.$formatters=[function(t){return console.log(t),e(t,"HH:mm")}],r.$parsers.push(function(e){var t=new Date;return t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t}))}}}]),app.directive("topnbar",function(){return{restrict:"E",template:'<div style="{{attrs.style}}"></div>',replace:!0,link:function(e,t,n,i){var r={color:["#28a54c"],tooltip:{show:!1,trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"0",right:"0",top:"0",bottom:"0",containLabel:!1},calculable:!0,xAxis:[{show:!1,type:"value",splitLine:{show:!1}}],yAxis:[{show:!1,type:"category",splitLine:{show:!1},data:[]}],series:[{name:"",type:"bar",barWidth:20,data:[]}]};e.$watch("topndatas",function(e,n,i){t[0].style.height=48*i.topNNumner+"px";var o=echarts.init(t[0],"macarons");r.series[0].data=e.data,o.setOption(r,!1,!0)},!0)}}}),app.directive("personalbar",function(){return{restrict:"E",template:'<div style="{{attrs.style}}"></div>',replace:!0,link:function(e,t,n,i){var r={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"4%",right:"4%",top:"5%",bottom:"1%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#FFF"}}}],yAxis:[{type:"value",splitNumber:4,splitLine:{show:!1},axisLine:{lineStyle:{color:"#FFF"}}}],series:[{name:"拜访人数",type:"bar",barWidth:"60%",data:[]}]};e.$watch("weekdata",function(e,n,i){var o=echarts.init(t[0],"macarons");r.xAxis[0].data=e.xAxis,r.series[0].data=e.data,o.setOption(r,!1,!0)},!0)}}}),app.directive("personalpie",function(){return{restrict:"E",template:'<div style="{{attrs.style}}"></div>',replace:!0,link:function(e,t,n,i){var r={series:[{type:"pie",silent:!0,radius:[0,"40%"],labelLine:{normal:{show:!1}},itemStyle:{normal:{color:"#444444"}},label:{normal:{position:"center",textStyle:{color:"#28a54c",fontSize:20,fontWeight:"bold"}}},data:[{value:1,name:"",selected:!1}]},{name:"访问来源",type:"pie",radius:["40%","58%"],avoidLabelOverlap:!0,label:{normal:{show:!0,position:"outside"},emphasis:{show:!0,textStyle:{}}},labelLine:{normal:{show:!0}},data:[]}]},o=0,a=echarts.init(t[0],"macarons");a.setOption(r),a.on("click",function(e){r.series[0].label.normal.textStyle.color=e.color,a.dispatchAction({type:"downplay",seriesIndex:1,dataIndex:o}),o=e.dataIndex,r.series[0].data[0].name=Math.round(e.percent)+"%",a.setOption(r,!1,!0),a.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:o})}),e.$watch("piedata",function(e,t,n){var i="";if(e.pie1data.length>0){for(var s=e.pie1data,l=!0,u=0;u<s.length;u++)if(0!=s[u].value){l=!1,i=s[u].itemStyle.normal.color;break}l&&(i=s[0].itemStyle.normal.color)}r.series[0].label.normal.textStyle.color=i,r.series[0].data[0].name=e.pie0data,r.series[1].data=e.pie1data,a.setOption(r,!1,!0),a.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:o})},!0)}}}),app.filter("showDate",function(){return function(e,t){var n="";if(!e)return n;var i=new Date(e),r=new Date,o=Math.floor((i.getTime()-6e4*i.getTimezoneOffset())/864e5)-Math.floor((r.getTime()-6e4*i.getTimezoneOffset())/864e5);return 0==o&&"今天"||o==-1&&"昨天"||1==o&&"明天"||o<-1&&Math.abs(o)+"天前"||o>1&&Math.abs(o)+"天后"}}),app.service("CustomerService",["$q","Customer","$ionicLoading","ScheduleService",function(e,t,n,i){var r={createObj:function(e,i,r,a){function s(e){return JSON.stringify(u)!=JSON.stringify(e)}angular.isFunction(i)&&(a=r,r=i,i=null);var l={list:[],todayPlanNum:0},u={};new Date;return shallowClearAndCopy(e,u),l.page={pageSize:i||20,pageNum:0,pages:1,total:0},l.refresh=function(e,t){return n.show(),l.page.pageNum=0,l.page.pages=1,l.page.total=0,l.todayPlanNum=0,l.list=[],l.loadMore(function(t){n.hide(),angular.isFunction(e)&&e(t)})},l.hasMore=function(){return l.page.pageNum<l.page.pages},l.loadMore=function(e,i){if(l.page.pageNum>=l.page.pages)return null;var r=[];l.page.pageNum++;var a={};return shallowCopy(u,a),shallowCopy(l.page,a),console.log("params",a),l.$promise=t.get(a,function(t){l.page.pageNum=t.pageNum,l.page.pages=t.pages,l.page.total=t.total,l.todayPlanNum=t.todayPlanNum,angular.forEach(t.customers,function(e,t){var n=o.createObj(e);n.$promise=l.$promise,l.list.push(n),r.push(n)}),console.log(l),angular.isFunction(e)&&e(r)},function(e){n.show({template:"加载失败,"+e,duration:1e3}),angular.isFunction(i)&&i(e)}).$promise,l.$promise},l.setFilter=function(e,t,n){s(e)?(shallowClearAndCopy(e,u),l.refresh(t,n)):angular.isFunction(t)&&t()},l.refresh(r,a),l}},o={createObj:function(e){var r=e||{},o=null;return r.getSchedules=function(e){return o?o:o=o||r.id?i.getCustomerSchedules(r.id,e):{}},r.addSchedule=function(e){var e=i.addSchedule(e);e.$promise.then(function(){r.reset()})},r.save=function(){r.id?r.$promise=t.update({},r,function(e){shallowCopy(e.customer,r),n.show({template:"保存成功",duration:1e3})},function(e){n.show({template:"保存失败",duration:1e3})}).$promise:r.$promise=t.save({},r,function(e){shallowCopy(e.customer,r),n.show({template:"添加成功",duration:1e3})},function(e){n.show({template:"添加失败",duration:1e3})}).$promise},r.reset=function(){if(r.id)return t.get({id:r.id},function(e){shallowCopy(e.customer,r)}).$promise},r}};this.newCustomer=function(e){return o.createObj(e)},this.addCustomer=function(e){if(e.id){var i=e;i.$promise=t.update({},e,function(e){shallowCopy(e.customer,i),n.show({template:"保存成功",duration:1e3})},function(e){n.show({template:"保存失败",duration:1e3})}).$promise}else{var i=o.createObj(e);i.isNew=!0,i.$promise=t.save({},e,function(e){shallowCopy(e.customer,i),a.list.unshift(i),n.show({template:"添加成功",duration:1e3})},function(e){console.log(e),n.show({template:"添加失败,"+e.data.message,duration:1e3})}).$promise}},this.getCustomer=function(e){for(var n=null,i=0;a&&i<a.list.length;i++)a.list[i].id==e&&(a.list[i].index=i,n=a.list[i]);return n=n||o.createObj(),n.$promise=t.get({id:e},function(e){shallowCopy(e.customer,n)}).$promise,n};var a=null;this.getCustomerList=function(e,t,n){return a?(e&&a.setFilter(e,t,n),a):a=r.createObj(e,20,t,n)},this.getGroupCustomers=function(e,t){var n=r.createObj({scope:"group"},2e3,e,t);return n},this.getMyCustomers=function(e,t,n){console.log("getMyCustomers");var i=r.createObj(e,20,t,n);return i}}]),app.constant("current_user",JSON.parse(window.sessionStorage.current_user||"{}")),app.service("care_period",["$rootScope","$ionicModal","Period","$cacheFactory","current_user","sys_params","$ionicLoading",function(e,t,n,i,r,o,a){function s(){n.get({},{},function(e){c.put("period",e.careperiod);var t=c.get("period");d=g(t),h.period={fiveLevel:d[4],fourLevel:d[3],threeLevel:d[2],twoLevel:d[1],oneLevel:d[0]}})}function l(){p.success(d)}function u(){h.period={fiveLevel:d[4],fourLevel:d[3],threeLevel:d[2],twoLevel:d[1],oneLevel:d[0]},t.fromTemplateUrl("templates/care_period_setting.html",{scope:h}).then(function(e){h.carePeriodSettingModal=e,h.carePeriodSettingModal.show()})}var c=i("period-cache"),h=e.$new();s();var d=new Array;h.period={},h.rangeMax=o.range_max,h.currentUserId=r.data.id;var p={},f={set:function(e,t){p={success:e,fail:t},u()},get:function(e,t){p={success:e,fail:t},l()}};h.update=function(e,t){n.update({id:t},{fiveLevel:e.fiveLevel,fourLevel:e.fourLevel,threeLevel:e.threeLevel,twoLevel:e.twoLevel,oneLevel:e.oneLevel},function(e){h.period=e.careperiod,c.put("period",e.careperiod),d=g(e.careperiod),a.hide(),h.carePeriodSettingModal.remove(),p.success(d)},function(e){console.log(e)})},h.doConfirm=function(){a.show(),h.update(h.period,h.currentUserId)};var m=function(e,t){return e>0&&e<t};h.addOne=function(e){switch(e){case 5:h.period.fiveLevel=parseInt(h.period.fiveLevel),m(h.period.fiveLevel,h.rangeMax.five_max)?h.period.fiveLevel+=1:null;break;case 4:h.period.fourLevel=parseInt(h.period.fourLevel),m(h.period.fourLevel,h.rangeMax.four_max)?h.period.fourLevel+=1:null;break;case 3:h.period.threeLevel=parseInt(h.period.threeLevel),m(h.period.threeLevel,h.rangeMax.three_max)?h.period.threeLevel+=1:null;break;case 2:h.period.twoLevel=parseInt(h.period.twoLevel),m(h.period.twoLevel,h.rangeMax.two_max)?h.period.twoLevel+=1:null;break;case 1:h.period.oneLevel=parseInt(h.period.oneLevel),m(h.period.oneLevel,h.rangeMax.one_max)?h.period.oneLevel+=1:null}},h.descOne=function(e){switch(e){case 5:h.period.fiveLevel=parseInt(h.period.fiveLevel),m(h.period.fiveLevel,h.rangeMax.five_max)?h.period.fiveLevel-=1:null;break;case 4:h.period.fourLevel=parseInt(h.period.fourLevel),m(h.period.fourLevel,h.rangeMax.four_max)?h.period.fourLevel-=1:null;break;case 3:h.period.threeLevel=parseInt(h.period.threeLevel),m(h.period.threeLevel,h.rangeMax.three_max)?h.period.threeLevel-=1:null;break;case 2:h.period.twoLevel=parseInt(h.period.twoLevel),m(h.period.twoLevel,h.rangeMax.two_max)?h.period.twoLevel-=1:null;break;case 1:h.period.oneLevel=parseInt(h.period.oneLevel),m(h.period.oneLevel,h.rangeMax.one_max)?h.period.oneLevel-=1:null}},h.reSet=function(){h.period={fiveLevel:o.sys_period.five_star,fourLevel:o.sys_period.four_star,threeLevel:o.sys_period.three_star,twoLevel:o.sys_period.two_star,oneLevel:o.sys_period.one_star}};var g=function(e){return[e.oneLevel,e.twoLevel,e.threeLevel,e.fourLevel,e.fiveLevel]};return f}]),angular.module("configure",[]).constant("web_servers",JSON.parse(window.sessionStorage.web_servers||"{}")).constant("services",JSON.parse(window.sessionStorage.services||"{}")).constant("sys_params",JSON.parse(window.sessionStorage.sys_params||"{}")).constant("oauth_params",JSON.parse(window.sessionStorage.oauth_params||"{}")),app.service("customer_info",["$rootScope","$filter","current_user","$ionicModal","CustomerService","ionicDatePicker","hospital_service",function(e,t,n,i,r,o,a){function s(){c.select_data_show="",p=new Date,c.stars=[30,20,15,10,5],c.relationObj={users:[]},c.phoneNumCheck=!1,c.hospitalCheck=!1,c.eyeObj={},c.eyeObj.show=!1,d=!1,c.starObj={},c.starObj.num=0,c.userTips={tips:""},c.userObject={customers:[],mobile:"",tipsList:"",name:"",address:"",type:"未知",birthday:"",hospitalList:"",province:"",sex:"未知",headUrl:"",hospitals:[],myCustomer:{star:0,type:""}},a.init(!0,function(e){console.log("----------",e),e.select?c.userObject.hospitals.push({id:e.id,name:e.name}):c.cancelHospM(e.id)})}function l(){i.fromTemplateUrl("templates/add_modify_customer.html",{scope:c,animation:"slide-in-right"}).then(function(e){c.user_info_modal=e,c.user_info_modal.show()})}function u(e){c.vm.CityPickData={areaData:0==e.length?["请选择城市"]:e,title:"",buttonClicked:function(){c.vm.cb()},hardwareBackButtonClose:!1}}var c=e.$new(),h=/^1[3|4|5|7|8]\d{9}$/,d=!1,p=new Date;c.repreArr=[{name:"医生"},{name:"医院代理商"},{name:"地市代理商"},{name:"省级代理商"},{name:"业务代表"},{name:"科室主任"},{name:"省代招商经理"},{name:"省代学术经理"},{name:"未知"}];var f={},m={add:function(e){f["function"]=e,s(),l(),u([]),c.userObject.myCustomer.type="primaryOwner",""==c.select_data_show?c.userObject.birthday="":c.userObject.birthday=p;var t=r.getGroupCustomers(),n=t.list;t.$promise.then(function(){for(var e=0;e<n.length;e++)c.relationObj.users.push({id:n[e].id,name:n[e].name})})},edit:function(e){s(),l(),d=!0,c.userObject=e,c.userObject.$promise.then(function(){c.select_data_show=t("date")(c.userObject.birthday,"mediumDate"),c.starObj.num=c.userObject.myCustomer.star,n.enpinfo.hasOwnProperty("isManager")&&n.enpinfo.isManager&&(c.eyeObj.show=!0,""==c.userObject.myCustomer.type&&(c.starObj.num=0)),c.userObject.hasOwnProperty("customers")||(c.userObject.customers=[]),u(c.userObject.hasOwnProperty("province")?c.userObject.province.split("-"):[])}).then(function(){var e=r.getGroupCustomers(),t=e.list;e.$promise.then(function(){for(var e=0;e<t.length;e++){for(var n=!0,i=0;c.userObject.customers&&i<c.userObject.customers.length;i++)if(t[e].id==c.userObject.customers[i].id){n=!1;break}n&&c.relationObj.users.push({id:t[e].id,name:t[e].name})}})})}};c.cancelFunction=function(){a.destory(),d&&c.userObject.reset(),c.user_info_modal.remove()},c.submitFunction=function(){a.destory(),0!=v.serverId.length?c.userObject.headUrl=v.serverId[0]:c.userObject.headUrl="";for(var e=[],t=0;t<c.userObject.customers.length;t++)e.push(c.userObject.customers[t].id);c.userObject.customerRelList=e.join(","),c.userObject.myCustomer.star=c.starObj.num,d?c.userObject.save():r.addCustomer(c.userObject),c.user_info_modal.remove(),f["function"]()},c.addCustomerM=function(e){for(var t=!0,n=c.$eval(e),i=0;i<c.userObject.customers.length;i++)if(c.userObject.customers[i].id==n.id){t=!1;break}if(t){c.userObject.customers.push({id:n.id,name:n.name});for(var i=0;i<c.relationObj.users.length;i++)if(c.relationObj.users[i].id==n.id){c.relationObj.users.splice(i,1);break}}},c.cancelCustomM=function(e){for(var t=0;t<c.userObject.customers.length;t++)if(c.userObject.customers[t].id==e.id){c.userObject.customers.splice(t,1);break}c.relationObj.users.push({id:e.id,name:e.name})},c.changeEyeFun=function(){""==c.userObject.myCustomer.type?(c.userObject.myCustomer.type="otherOwner",c.starObj.num=c.userObject.myCustomer.star):(c.userObject.myCustomer.type="",c.starObj.num=0)},c.modifyStars=function(e,t){return(!c.eyeObj.show||""!=c.userObject.myCustomer.type)&&(c.starObj.num=e+1,void($(t.currentTarget).hasClass("active")&&c.starObj.num--))},c.numCheck=function(){c.phoneNumCheck=!h.test(c.userObject.mobile)},c.addTipsFun=function(){if(c.userObject.hasOwnProperty("tipsList")||(c.userObject.tipsList=""),""!=c.userTips.tips){var e=c.userObject.tipsList+",";e.indexOf(c.userTips.tips+",")==-1&&(c.userObject.tipsList.length>0?c.userObject.tipsList+=","+c.userTips.tips:c.userObject.tipsList+=c.userTips.tips,c.userTips.tips="")}},c.addHospitalM=function(){a.show(c.userObject.hospitals)},c.cancelHospM=function(e){for(var t=0;t<c.userObject.hospitals.length;t++)if(c.userObject.hospitals[t].id==e){c.userObject.hospitals.splice(t,1);break}},c.cancelTips=function(e){c.userObject.tipsList+=",",c.userObject.tipsList=c.userObject.tipsList.replace(e+",",""),""!=c.userObject.tipsList&&c.userObject.tipsList.lastIndexOf(",")==c.userObject.tipsList.length-1&&(c.userObject.tipsList=c.userObject.tipsList.substring(0,c.userObject.tipsList.length-1));
};var g={from:new Date(1916,1,1),to:new Date(2020,12,31),callback:function(e){p.setTime(e),c.select_data_show=t("date")(p,"mediumDate"),c.userObject.birthday=e}};c.pick_date=function(){g.inputDate=p,o.openDatePicker(g)},c.vm={},c.vm.cb=function(){c.userObject.province=c.vm.CityPickData.areaData.join("-"),console.log("$scope.userObject.province",c.userObject.province)},u([]);var v={localId:[],serverId:[]};return c.chooseImage=function(){wx.chooseImage({count:1,success:function(e){v.localId=e.localIds,c.$apply(function(){c.userObject.headUrl=e.localIds[0]}),c.uploadImage()}})},c.uploadImage=function(){if(0==v.localId.length)return void alert("请先选择图片");var e=0;v.serverId=[],wx.uploadImage({localId:v.localId[e],success:function(e){v.serverId=new Array,v.serverId.push(e.serverId)},fail:function(){alert("头像上传失败，请检查网络！")}})},Array.prototype.remove=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(isNaN(e)||(n=t),n==e){for(var i=t;i<this.length;i++)this[i]=this[i+1];this.length=this.length-1}}},m}]),app.service("map_location",["$rootScope","$filter","$ionicModal","$sce","services","locationPoimaker",function(e,t,n,i,r,o){function a(e){n.fromTemplateUrl("templates/add_location.html",{scope:u,animation:"slide-in-up"}).then(function(e){u.add_location_modal=e,u.add_location_modal.show()})}function s(e){n.fromTemplateUrl("templates/map_location.html",{scope:u,animation:"slide-in-up"}).then(function(t){u.locaiton_poimaker_modal=t,u.locaiton_poimaker_modal.show(),l(e)})}function l(e){u.mapItemLst=e;for(var t=new Array,n=0;n<e.length;n++){var i=e[n].locInfo;t.push({showinfo:i.poiaddress,position:new qq.maps.LatLng(i.latlng.lat,i.latlng.lng)})}var r=new qq.maps.LatLng(32.03951245042539,118.78486633300781);if(t.length>0&&(r=new qq.maps.LatLng(e[0].locInfo.latlng.lat,e[0].locInfo.latlng.lng)),h=new qq.maps.Map(document.getElementById("container"),{center:r,zoom:13}),d=new qq.maps.InfoWindow({map:h}),0==t.length)citylocation=new qq.maps.CityService({complete:function(e){h.setCenter(e.detail.latLng)}}),citylocation.searchLocalCity();else{for(var n=0;n<t.length;n++)!function(e){var n=new qq.maps.Marker({position:t[e].position,map:h});qq.maps.event.addListener(n,"click",function(){d.open(),d.setContent('<div style="font-size:12px;text-align:left;white-space:wrap;margin:5px;">'+t[e].showinfo+"</div>"),d.setPosition(t[e].position)})}(n);u.selectAPosition(e[0])}}var u=e.$new(),c={},h=null,d=null;u.isHaveLocationData=!1,u.isSingleLocation=!0;var p={getLocation:function(e,t){c={success:e,fail:t},a()},showSingleLocation:function(e,t,n){u.isSingleLocation=!0;var i=new Array({locInfo:e});s(i)},showMultiLocation:function(e,t,n){u.isSingleLocation=!1,"my"==e.scope.value?o.getUserLocations({user_id:e.userId,date:e.date.toISOString(),range:e.time_range.value},function(e){s(e.logs)}):"group"==e.scope.value&&o.getGrpLocations({grp_id:e.grpId,date:e.date.toISOString(),range:e.time_range.value},function(e){s(e.logs)})}},f=null;return window.addEventListener("message",function(e){var t=e.data;t&&"locationPicker"==t.module&&(f=t)},!1),u.cancelSend=function(){u.add_location_modal.remove()},u.submitSend=function(){f?(c.success&&c.success(f),u.add_location_modal.remove()):Popup.notice("请选择位置",2e3)},u.backMainPage=function(){u.locaiton_poimaker_modal.remove()},u.listPage=function(){n.fromTemplateUrl("templates/map_location_list.html",{scope:u,animation:"slide-in-up"}).then(function(e){u.locaiton_poimaker_list_modal=e,u.locaiton_poimaker_list_modal.show()})},u.backMapPage=function(){u.locaiton_poimaker_list_modal.remove()},u.selectAPosition=function(e){if(h){var t=e.address?e.address:e.locInfo.poiaddress,n=new qq.maps.LatLng(e.locInfo.latlng.lat,e.locInfo.latlng.lng);h.setCenter(n),h.setZoom(13),d.open(),d.setContent('<div style="font-size:12px;text-align:left;white-space:wrap;margin:5px;">'+t+"</div>"),d.setPosition(n),u.locaiton_poimaker_list_modal&&u.locaiton_poimaker_list_modal.remove()}},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},p}]),app.service("ScheduleService",["ScheduleStorage","ScheduleLogStorage","$ionicLoading",function(e,t,n){var i={createObj:function(t,i,o,a){function s(e){return JSON.stringify(u)!=JSON.stringify(e)}angular.isFunction(i)&&(a=o,o=i,i=null);var l={list:[]},u=t;l.page={pageSize:i||20,pageNum:0,pages:1,total:0};new Date;return l.refresh=function(e,t){n.show(),l.page.pageNum=0,l.page.pages=1,l.page.total=0,l.list=[],l.loadMore(function(t){n.hide(),angular.isFunction(e)&&e(t)})},l.hasMore=function(){return l.page.pageNum<l.page.pages},l.loadMore=function(t,i){if(l.page.pageNum>=l.page.pages)return null;var o=[];l.page.pageNum++;var a={};angular.extend(a,u,l.page),e.get(a,function(e){l.page.pageNum=e.pageNum,l.page.pages=e.pages,l.page.total=e.total,l.page.pageSize=e.pageSize,angular.forEach(e.schedules,function(e,t){var n=r.createObj(e);l.list.push(n),o.push(n)}),angular.isFunction(t)&&t(o)},function(e){n.show({template:"加载失败,"+e,duration:1e3}),angular.isFunction(i)&&i(e)})},l.setFilter=function(e,t,n){s(e)?(u=e,l.refresh(t,n)):angular.isFunction(t)&&t()},console.log(l),l.refresh(),l}},r={createObj:function(i){var r=i||{};r.buttons=[{text:"已拜访"},{text:"已取消"},{text:"延期"}];var o={"未拜访":"assertive","已拜访":"balanced","已取消":"energized","延期":"stable"},a={"未拜访":4,"已拜访":1,"已取消":2,"延期":3};return r.isToday=function(){if(!r)return!1;var e=new Date(r.date),t=new Date;return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()},r.getButtons=function(){return console.log("getButtons:",buttons),buttons},r.getColor=function(){return o[r.status]},r.getPrior=function(){return a[r.status]},r.close=function(i){r.status=i,r.id&&e.update({},r,function(e){shallowCopy(e.schedule,r),r.logs&&r.logs.push(t.save({schedule_id:r.id},{type:"result",time:(new Date).toISOString(),result:r.status},function(e){n.show({template:"关闭成功,"+r.status,duration:1e3})}))},function(e){n.show({template:"关闭失败",duration:1e3})})},r.reset=function(){e.get({id:r.id},function(e){console.log("getlogs"),shallowCopy(e.schedule,r),r.getLogs()})},r.addLog=function(e,i,o){var a=t.save({schedule_id:r.id},e,function(e){a=e,r.logs&&r.logs.push(a),angular.isFunction(i)&&i(a)},function(e){angular.isFunction(o)&&o(e),n.show({template:"添加失败,"+e,duration:1e3})});return a},r.addLogUrl=function(e,n,i,o){t.save({schedule_id:r.id,log_id:e.id},n,function(t){e.oss_urls=e.oss_urls||[],e.oss_urls.push(t.oss_url)})},r.save=function(){r.id&&e.update({},r,function(e){shallowCopy(e.schedule,r),n.show({template:"保存成功",duration:1e3})},function(e){n.show({template:"保存失败",duration:1e3})})},r.logs=null,r.getLogs=function(){return r.logs?r.logs:(r.logs=[],r.id&&t.get({schedule_id:r.id},function(e){r.logs=e.logs}),r.logs)},r}};this.newSchedule=function(e){return r.createObj(e)},this.addSchedule=function(t){if(t.id){var i=t;i.$promise=e.update({},t,function(e){shallowCopy(e.schedule,i),n.show({template:"保存成功",duration:1e3})},function(e){n.show({template:"保存失败",duration:1e3})}).$promise}else{var i=r.createObj(t);i.isNew=!0,i.$promise=e.save({},t,function(e){shallowCopy(e.schedule,i),o&&o.list.unshift(i),n.show({template:"添加成功",duration:1e3})},function(e){n.show({template:"添加失败",duration:1e3})}).$promise}return i},this.getSchedule=function(t){console.log("getSchedule:",t);for(var n=null,i=0;o&&i<o.list.length;i++)if(o.list[i].id==t)return o.list[i].getLogs(),o.list[i];return n=r.createObj(),e.get({id:t},function(e){shallowCopy(e.schedule,n),n.getLogs()}),n};var o=null;this.getScheduleList=function(e,t,n,r){return o?(o.setFilter(e,n,r),o):o=i.createObj(e,n,r)},this.getCustomerSchedules=function(e,t,n,r){var t=t||{};return t.customerId=e,t.status="neq:未拜访",customerSchedules=i.createObj(t,5,n,r)}}]),app.service("schedule_item",["$rootScope","$filter","$ionicModal","ScheduleService","ionicDatePicker","select_customer",function(e,t,n,i,r,o){function a(){n.fromTemplateUrl("templates/schedule_item.html",{scope:s,animation:"slide-in-up"}).then(function(e){s.schedule_item_modal=e,s.schedule_item_modal.show()})}var s=e.$new();s.scheduleInfo={};var l={add:function(e,n,r){var o=new Date;s.scheduleInfo.action="add",s.scheduleInfo.preset_customer=e,s.scheduleInfo.schedule=i.newSchedule({customer:e,date:o}),s.scheduleInfo.schedule.customer_id=e&&e.id||null,s.scheduleInfo.callback={success:n,fail:r},s.scheduleInfo.dateShow=t("date")(o,"mediumDate"),a()},edit:function(e,n,i){s.scheduleInfo.action="edit",s.scheduleInfo.schedule=e,s.scheduleInfo.success=n,s.scheduleInfo.preset_customer=e.customer,s.scheduleInfo.fail=i,s.scheduleInfo.dateShow=t("date")(e.date,"mediumDate"),a()}};s.$on("$destroy",function(){s.schedule_item_modal.remove()}),s.careWayGrp=["当面拜访","电话拜访","科室会","学术培训"],s.cancelAdd=function(){"edit"==s.scheduleInfo.action&&s.scheduleInfo.schedule.reset(),s.schedule_item_modal.remove()},s.submitAdd=function(){"edit"==s.scheduleInfo.action?s.scheduleInfo.schedule.save():s.scheduleInfo.preset_customer&&angular.isFunction(s.scheduleInfo.preset_customer.addSchedule)?s.scheduleInfo.preset_customer.addSchedule(s.scheduleInfo.schedule):i.addSchedule(s.scheduleInfo.schedule),s.schedule_item_modal.remove()};var u={callback:function(e){var n=new Date(e);s.scheduleInfo.schedule.date=n.toISOString(),s.scheduleInfo.dateShow=t("date")(n,"mediumDate")},templateType:"popup"};return s.pick_schedule_date=function(){return"edit"!=s.scheduleInfo.action&&(u.inputDate=new Date(s.scheduleInfo.schedule.date),void r.openDatePicker(u))},s.showCustomerLst=function(){return!s.scheduleInfo.preset_customer&&void o.select(function(e){s.scheduleInfo.schedule.customer_id=e.id,s.scheduleInfo.schedule.customer=e})},l}]),app.service("select_customer",["$rootScope","$filter","$ionicModal","$ionicScrollDelegate","CustomerService",function(e,t,n,i,r){function o(){n.fromTemplateUrl("templates/select_customer.html",{scope:s,animation:"slide-in-up"}).then(function(e){s.select_customer_modal=e,s.select_customer_modal.show()})}function a(e,t){var n=e.substring(5,e.lastIndexOf("-")),i=e.substring(e.length,e.lastIndexOf("-")+1),r=e.substring(0,e.indexOf("-")),o=t.substring(5,t.lastIndexOf("-")),a=t.substring(t.length,t.lastIndexOf("-")+1),s=t.substring(0,t.indexOf("-")),l=(Date.parse(n+"/"+i+"/"+r)-Date.parse(o+"/"+a+"/"+s))/864e5;return Math.abs(l)}var s=e.$new(),l={},u={select:function(e,t){l={success:e,fail:t},s.customList=r.getMyCustomers(s.choice),o()}};return s.choiceChange=function(){s.customList.setFilter(s.choice),i.$getByHandle("mainScroll").scrollTop()},s.loadMore=function(){s.customList.loadMore(function(){s.$broadcast("scroll.infiniteScrollComplete")})},s.selectCustomer=function(e){l.success&&l.success(e),s.select_customer_modal.remove()},s.cancelSelect=function(){s.select_customer_modal.remove()},s.currentItem={index:0,today:(new Date).Format("yyyy-MM-dd")},s.currentUser={fiveStars:[30,20,15,10,5],isTeamLeader:!0},s.touch=function(e){$("#search").blur()},s.choice={orderby:"next_visit",customType:"all",customScope:"my",searchText:""},s.showEvent=function(e){var t="",n=0;return"my"==s.choice.customScope?e.myCustomer&&e.myCustomer.nextScheduleDate?(n=a(new Date(e.myCustomer.nextScheduleDate).Format("yyyy-MM-dd"),s.currentItem.today),t=0==n?"计划今日拜访":"距下次拜访还有"+n+"天"):e.myCustomer&&e.myCustomer.lastVisitDate?(n=a(s.currentItem.today,new Date(e.myCustomer.lastVisitDate).Format("yyyy-MM-dd")),t="距上次拜访已有"+n+"天"):t="无拜访计划与记录":e.nextScheduleDate?(n=a(new Date(e.nextScheduleDate).Format("yyyy-MM-dd"),s.currentItem.today),t=0==n?"计划今日拜访":"距下次拜访还有"+n+"天"):e.lastVisitDate?(n=a(s.currentItem.today,new Date(e.lastVisitDate).Format("yyyy-MM-dd")),t="距上次拜访已有"+n+"天"):t="无拜访计划与记录",t},u}]),app.service("select_enpuser",["$rootScope","$filter","$ionicModal","EnporgUser",function(e,t,n,i){function r(e){n.fromTemplateUrl("templates/select_enpuser.html",{scope:o,animation:"slide-in-right"}).then(function(t){o.select_enpuser_modal=t,e&&o.select_enpuser_modal.show()})}var o=e.$new();o.iObj={inputNameModel:""};var a={},s=!0;o.multiSelect=!1,o.enpuserObj={},o.selectedObj={};var l={setSelect:function(e){for(var t in o.selectedObj)o.enpuserObj[t]=o.selectedObj[t];o.selectedObj={};for(var n=0;n<e.length;n++)delete o.enpuserObj[e[n].id],o.selectedObj[e[n].id]=e[n],o.selectedObj[e[n].id].show=!0;for(var i in o.enpuserObj)o.enpuserObj[i].show=!0;console.log("$scope.enpuserObj",o.enpuserObj),console.log("$scope.selectedObj",o.selectedObj)},multiSelect:function(e){o.multiSelect=e},destory:function(){s=!0,o.select_enpuser_modal.remove()},createModal:function(){r(!0)},show:function(){o.iObj.inputNameModel="",o.select_enpuser_modal.show()},hide:function(){o.select_enpuser_modal.hide()},init:function(e,t,n,s,l,u){e&&r(!1),a={success:l,fail:u},o.multiSelect=n,o.enpuserObj={},o.selectedObj={};for(var c=0;c<s.length;c++)o.selectedObj[s[c].id]=s[c],o.selectedObj[s[c].id].show=!0;i.get({orgid:t},function(e){for(var t=(new Array,0);t<e.enpuser.length;t++)if(e.enpuser[t].userId>0){for(var n=!1,i=0;i<s.length;i++)e.enpuser[t].userId==s[i].id&&(n=!0);if(n)continue;o.enpuserObj[e.enpuser[t].userId]={id:e.enpuser[t].userId,name:e.enpuser[t].name,checked:n,show:!0}}},function(e){console.log(e),callback.fail&&a.fail(e)})}};return o.nameInputChange=function(e){for(var t in o.enpuserObj)o.enpuserObj[t].name.indexOf(e)>-1?o.enpuserObj[t].show=!0:o.enpuserObj[t].show=!1;for(var n in o.selectedObj)o.selectedObj[n].name.indexOf(e)>-1?o.selectedObj[n].show=!0:o.selectedObj[n].show=!1},o.pInputClick=function(e,t){if(t){if(!o.multiSelect){for(var n in o.selectedObj)o.enpuserObj[n]={},o.enpuserObj[n].id=o.selectedObj[n].id,o.enpuserObj[n].name=o.selectedObj[n].name,o.enpuserObj[n].star=o.selectedObj[n].star,o.enpuserObj[n].show=!0,delete o.selectedObj[n];o.selectedObj={}}delete o.enpuserObj[e.id],o.selectedObj[e.id]=e,o.selectedObj[e.id].show=!0}else o.enpuserObj[e.id]=e,o.enpuserObj[e.id].show=!0,delete o.selectedObj[e.id];var i="";i=t?"add":"delete",o.multiSelect||(i="add"),a.success&&a.success({id:e.id,name:e.name},i)},l}]),app.service("hospital_service",["$rootScope","$filter","$ionicModal","Hospital","$ionicScrollDelegate",function(e,t,n,i,r){function o(){n.fromTemplateUrl("templates/select_hospital.html",{scope:l,animation:"slide-in-right"}).then(function(e){l.select_hospital_modal=e})}function a(){u={pageSize:20,pageNum:1,pages:0,total:0}}function s(e){var t=new Object;t.count=e,t.pageNum=u.pageNum,t.pageSize=u.pageSize,t.hospitalName=l.iObj.inputNameModel,t.areaName=l.iObj.areaName,i.get(t,{},function(t){e?(u.pages=t.pages,l.hospitalObj=new Object):l.$broadcast("scroll.infiniteScrollComplete"),u.pages>u.pageNum&&u.pageNum++;for(var n=t.resultList,i=(new Array,0);i<n.length;i++)l.selectedObj.hasOwnProperty(n[i].hospitalId)||(l.hospitalObj[n[i].hospitalId]={id:n[i].hospitalId,name:n[i].hospitalName,show:!0})})}var l=e.$new(),u={pageSize:20,pageNum:1,pages:0,total:0};l.loadMoreData=function(){s(!1)},l.hasMoreData=function(){return u.pageNum<u.pages},l.iObj={inputNameModel:"",areaName:""};var c={};l.multiSelect=!1,l.hospitalObj={},l.selectedObj={};var h={setAreaName:function(e){l.iObj.areaName=e},multiSelect:function(e){l.multiSelect=e},destory:function(){a(),l.select_hospital_modal.remove()},createModal:function(){o(!0)},show:function(e,t){l.iObj.inputNameModel="",l.iObj.areaName="",l.selectedObj={};for(var n=0;n<e.length;n++)l.selectedObj[e[n].id]=e[n];l.hospitalObj=new Object,a(),l.iObj.areaName=t,s(!0),l.select_hospital_modal.show()},hide:function(){l.select_hospital_modal.hide()},init:function(e,t,n){o(),c={success:t,fail:n},l.multiSelect=e,l.hospitalObj={},l.selectedObj={},s(!0)}};return l.nameInputChange=function(){r.scrollTop(),a(),s(!0)},l.pInputClick=function(e,t){if(t){if(!l.multiSelect){for(var n in l.selectedObj)l.hospitalObj[n]={},l.hospitalObj[n].id=l.selectedObj[n].id,l.hospitalObj[n].name=l.selectedObj[n].name,delete l.selectedObj[n];l.select_hospital_modal.hide(),l.selectedObj={}}delete l.hospitalObj[e.id],l.selectedObj[e.id]=e}else l.hospitalObj[e.id]=e,delete l.selectedObj[e.id];var i="";i=t?"add":"delete",l.multiSelect||(i="add"),c.success&&c.success({id:e.id,name:e.name,select:t},i)},h}]),app.service("select_provinces",["$rootScope","$filter","$ionicModal",function(e,t,n){function i(e){n.fromTemplateUrl("templates/select_provinces.html",{scope:r,animation:"slide-in-right"}).then(function(t){r.select_provinces_modal=t,e&&r.select_provinces_modal.show()})}var r=e.$new();r.unSelectedArray=["北京","广东","上海","天津","重庆","辽宁","江苏","湖北","四川","陕西","河北","山西","河南","吉林","黑龙江","内蒙古","山东","安徽","浙江","福建","湖南","广西","江西","贵州","云南","西藏","海南","甘肃","宁夏","青海","新疆","香港","澳门","台湾","海外"],r.selectedArray=[],r.multiSelect=!1,r.searchText="",r.selectItem=function(e,t){e?(r.unSelectedArray.remove(t),r.selectedArray.unshift(t),r.passSelectVal.provinces=r.selectedArray.join(",")):(r.selectedArray.remove(t),r.unSelectedArray.unshift(t),r.passSelectVal.provinces=r.selectedArray.join(","))};var o={destory:function(){r.select_provinces_modal.remove()},show:function(){r.select_provinces_modal.show()},hide:function(){r.select_provinces_modal.hide()},init:function(e,t){i(!1),r.multiSelect=t,""!=e.provinces&&(r.selectedArray=e.provinces.split(",")),r.passSelectVal=e;for(var n=0;n<r.selectedArray.length;n++)r.unSelectedArray.remove(r.selectedArray[n])}};return o}]),angular.module("CustomerCareService",["configure","ngResource"]).factory("ScheduleStorage",["$resource","services",function(e,t){return e(t.schedule_uri,{id:"@id"},{update:{method:"PUT"}})}]).factory("ScheduleLogStorage",["$resource","services",function(e,t){return e(t.schedule_log_uri,{},{update:{method:"PUT",params:{}}})}]).factory("Customer",["$resource","services",function(e,t){return e(t.customer_uri,{id:"@id"},{update:{method:"PUT",params:{}}})}]).factory("CustomerOwner",["$resource","services",function(e,t){return e(t.customer_owner_uri,{},{update:{method:"PUT",params:{}}})}]).factory("User",["$resource","services",function(e,t){return e(t.user_info_uri,{},{update:{method:"PUT",params:{}}})}]).factory("EnporgUser",["$resource","services",function(e,t){return e(t.enporguser_uri,{},{update:{method:"PUT",params:{}}})}]).factory("Period",["$resource","services",function(e,t){return e(t.customer_period,{},{update:{method:"PUT",params:{}}})}]).factory("audio",["$document",function(e){var t=e[0].createElement("audio");return console.log("create audio:",t),t}]).factory("player",["audio","$rootScope",function(e,t){var n={current:null,progress:0,playing:!1,ready:!1,play:function(t){n.playing&&n.stop();var i=t.oss_urls[0];n.current=t,e.src=i,e.play(),n.playing=!0},stop:function(){n.playing&&(e.pause(),n.playing=!1,n.current=null)},currentTime:function(){return e.currentTime},currentDuration:function(){return e.duration}};return e.addEventListener("canplay",function(e){t.$apply(function(){n.ready=!0})}),e.addEventListener("timeupdate",function(e){t.$apply(function(){n.progress=n.currentTime(),n.progress_percent=n.progress/n.currentDuration()})}),e.addEventListener("ended",function(){t.$apply(n.stop())}),n}]).factory("JSSDK",["$resource","services",function(e,t){return e(t.jssdk_signature,{},{getJssdkSignature:{method:"GET",params:{}}})}]).factory("wx_jssdk",["$rootScope","JSSDK",function(e,t){var n={ready:!1};return t.getJssdkSignature({},function(e){var t=e.jssdkinfo[0];jssdk_appId=t.appId,jssdk_timestamp=t.timestamp,jssdk_nonceStr=t.nonceStr,jssdk_signature=t.signature,wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","uploadImage","previewImage","translateVoice"]}),wx.checkJsApi({jsApiList:["onVoiceRecordEnd"],success:function(e){}})},function(e){console.log(e)}),wx.ready(function(){console.log("wx.ready"),wx.onVoiceRecordEnd({complete:function(e){voice.localId=e.localId,saveRecord(e)}}),n.ready=!0,e.$broadcast("wx.ready")}),n}]).factory("phone",["$window",function(e){var t={call:function(t){e.location.href="tel:"+t},sms:function(t){e.location.href="sms:"+t}};return t}]).factory("sessionStorage",["$window",function(e){return{set:function(t,n){e.sessionStorage[t]=n},get:function(t,n){return e.sessionStorage[t]||n},setObject:function(t,n){e.sessionStorage[t]=JSON.stringify(n)},getObject:function(t,n){return JSON.parse(e.sessionStorage[t]||JSON.stringify(n)||"{}")}}}]).factory("localStorage",["$window",function(e){return{set:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},setObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t,n){return JSON.parse(e.localStorage[t]||JSON.stringify(n)||"{}")}}}]).factory("localConfig",["$window",function(e){return{set:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},setObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t,n){return JSON.parse(e.localStorage[t]||JSON.stringify(n)||"{}")}}}]).factory("locationPoimaker",["$resource","services",function(e,t){return e(t.mylocation_show_uri,{},{getUserLocations:{url:t.mylocation_show_uri,method:"GET",params:{}},getGrpLocations:{url:t.myGrpLocation_show_uri,method:"GET",params:{}}})}]).factory("Hospital",["$resource","services",function(e,t){return e(t.hospital_uri,{},{update:{method:"PUT",params:{}}})}]).factory("Personal",["$resource","services",function(e,t){return e(t.personal_uri,{},{update:{method:"PUT",params:{}}})}]).factory("PersonalGroup",["$resource","services",function(e,t){return e(t.personal_group_uri,{},{update:{method:"PUT",params:{}}})}]),visitors_service=angular.module("VisitorsService",["configure","ngResource"]).factory("Visitors",["$resource","services",function(e,t){return e(t.visitors_uri,{},{get_visitors:{method:"GET",params:{}},delete_visitors:{url:t.visitors_uri+"/:id",method:"DELETE",params:{}},add_visitors:{method:"POST",params:{}}})}]),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.prototype.UTCFormat=function(e){var t={"M+":this.getUTCMonth()+1,"d+":this.getUTCDate(),"h+":this.getUTCHours(),"m+":this.getUTCMinutes(),"s+":this.getUTCSeconds(),"q+":Math.floor((this.getUTCMonth()+3)/3),S:this.getUTCMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getUTCFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.prototype.getWeek=function(){var e=new Date(this.getFullYear(),0,1);return Math.floor((this.getTime()-e.getTime()+864e5*e.getDay())/864e5/7)+1},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],FIRSTDAYOFWEEK:6,MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],STANDALONEMONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss","short":"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤ ",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh-cn",localeID:"zh_CN",pluralCat:function(e,n){return t.OTHER}})}]),!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(19),n(16),n(17),n(18),n(10),n(7),n(8),n(9),n(12),e.exports={}},function(e,t,n){"use strict";function i(e){var t=document.createElement("popup");return document.body.appendChild(t),t.appendChild(e[0]),o(t)}var r=n(2),o=r.element,a=n(11),s=n(3),l=function(){};s.createPopup=function(e,t){return s.directive(e,function(){var e={template:t.template,restrict:"AE",transclude:!0,replace:!0,scope:{ngIf:"=",ngShow:"=",ngHide:"=",close:"&",closeAction:"@","for":"@",align:"@",fixed:"@",modal:"@",duration:"@"},controller:["$scope",function(e){this.closeAction=["esc","timeout"],this.close=function(t){e.close(),t&&e.$apply()}}],link:function(e,n,s,u){function c(e){var t=h(s["for"]);r.isUndefined(e)||(r.isObject(e)&&(t=e),e?(n.css("visibility","hidden"),setTimeout(function(){n.css("visibility","visible"),v[d(s.modal)?"showModal":"show"](t),g(e)},0)):(v.close(),g(e)))}function h(e){return document.getElementById(e)}function d(e){return"string"==typeof e}function p(e){var t=e.target,n=t.nodeName,i=/^input|textarea$/i,r=a.current===v,o=i.test(n)&&"button"!==t.type,s=e.keyCode;r&&!o&&27===s&&u.close(e)}function f(e){n[0].contains(e.target)||u.close(e)}function m(){s.duration&&(m.timer=setTimeout(function(){u.close(!0)},Number(s.duration)))}function g(e){u.closeAction.forEach(function(t){switch(t){case"esc":e?b.on("keydown",p):b.off("keydown",p);break;case"timeout":e?m():clearTimeout(m.timer);break;case"outerchick":e?b.on("ontouchend",f).on("click",f):b.off("ontouchend",f).off("click",f);break;case"click":e?n.on(t,u.close):n.off(t,u.close)}})}var v=new a({node:n[0],fixed:d(s.fixed),align:s.align,showElement:l,hideElement:l,removeElement:l}),y=i(n),b=o(document);s.closeAction&&(u.closeAction=s.closeAction.split(/\s+/)),s.ngIf&&e.$watch("ngIf",c),s.ngShow&&e.$watch("ngShow",c),s.ngHide&&e.$watch("ngHide",function(e){c(!e)}),n.one("$destroy",function(){c(!1),v.remove(),y.remove()}),(t.link||function(){}).apply(this,arguments)}};return r.extend(e.scope,t.scope),e})},e.exports=s},function(e,t){e.exports=angular},function(e,t,n){e.exports=n(2).module("angular-popups",[])},function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".ui-popup{position:absolute;font-family:Helvetica,arial,sans-serif}.ui-popup:focus{outline:0}.ui-popup-show{display:block}.ui-popup-modal:before{content:'';position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.7;-webkit-transform:scale(3);transform:scale(3);-webkit-animation:ui-popup-opacity .15s 1 linear;animation:ui-popup-opacity .15s 1 linear}.ui-popup-modal>*{position:relative}@-webkit-keyframes ui-popup-opacity{0%{opacity:0}to{opacity:.7}}@keyframes ui-popup-opacity{0%{opacity:0}to{opacity:.7}}","",{version:3,sources:["/./src/css/ui-popup.css"],names:[],mappings:"AACA,UACI,kBAAmB,AACnB,sCAA0C,CAC7C,AACD,gBACI,SAAW,CACd,AACD,eACI,aAAe,CAElB,AACD,uBACI,WAAY,AACZ,eAAgB,AAChB,OAAQ,AACR,QAAS,AACT,MAAO,AACP,SAAU,AACV,gBAAiB,AACjB,WAAY,AACZ,2BAA4B,AAC5B,mBAAoB,AACpB,iDAAkD,AAClD,wCAA0C,CAE7C,AACD,kBACI,iBAAmB,CACtB,AAED,oCACI,GAAI,SAAW,CAAC,AAChB,GAAM,UAAY,CAAC,CACtB,AACD,4BACI,GAAI,SAAW,CAAC,AAChB,GAAM,UAAY,CAAC,CACtB",file:"ui-popup.css",sourcesContent:["\n.ui-popup {\n    position: absolute;\n    font-family: Helvetica, arial, sans-serif;\n}\n.ui-popup:focus {\n    outline: 0;\n}\n.ui-popup-show {\n    display: block;\n\n}\n.ui-popup-modal::before {\n    content: '';\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: #000;\n    opacity: .7;\n    -webkit-transform: scale(3);\n    transform: scale(3);\n    -webkit-animation: ui-popup-opacity .15s 1 linear;\n    animation: ui-popup-opacity .15s 1 linear;\n\n}\n.ui-popup-modal > * {\n    position: relative;\n}\n\n@-webkit-keyframes ui-popup-opacity {\n    0% {opacity: 0;}\n    100% {opacity: .7;}\n}\n@keyframes ui-popup-opacity {\n    0% {opacity: 0;}\n    100% {opacity: .7;}\n}"],sourceRoot:"webpack://"}])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],t));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],l=r[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function o(e,t){var n=g(),i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var n,i,r;if(t.singleton){var o=y++;n=v||(v=s(t)),i=c.bind(null,n,o,!1),r=c.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=d.bind(null,n),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=h.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function c(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t){var n=t.css,i=t.media;if(t.sourceMap,i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,i=(t.media,t.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),
"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}if(e){var u=r(e);i(u,t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var i=n(1);i.createPopup("bubble",{template:'<div class="ui-popup"><div class="ui-bubble"><div ng-transclude class="ui-bubble-content"></div></div></div>',link:function(e,t,n,i){n.closeAction||(i.closeAction=["esc","timeout","outerchick"])}})},function(e,t,n){"use strict";function i(e,t){a.directive(e,function(){return r.extend({require:"^dialog",restrict:"AE",transclude:!0,link:function(e,t,n,i){e.$dialogId="ui-dialog"+e.$parent.$id,e.$close=i.close},replace:!0},t)})}var r=n(2),o=r.element,a=n(1),s='<div class="ui-dialog"><div class="ui-dialog-header"></div><div class="ui-dialog-body"></div><div class="ui-dialog-footer"></div></div>',l='<div class="ui-dialog-title" id="{{$dialogId}}-title" ng-transclude></div>',u='<button class="ui-dialog-close" aria-label="Close" type="button"><span aria-hidden="true">&times;</span></button>',c='<div class="ui-dialog-content" id="{{$dialogId}}-content" ng-transclude></div>',h='<span class="ui-dialog-statusbar" ng-transclude></span>',d='<span class="ui-dialog-buttons" ng-transclude></span>';a.createPopup("dialog",{template:'<div class="ui-popup" aria-labelledby="{{$dialogId}}-title" aria-describedby="{{$dialogId}}-content" ng-transclude></div>',link:function(e,t,n,i){function r(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function a(e,t){t&&e.appendChild(t)}var l=t[0],c=r(s);e.$dialogId="ui-dialog"+e.$id;var h=function(e){var t="dialog",n=t+"-"+e,i=t+"\\:"+e,r="["+n+"]",o="["+i+"]",a=".ui-dialog-"+e;return l.querySelector([n,i,r,o,a].join(","))},d=function(e){return c.querySelector(".ui-dialog-"+e)},p=n.close?r(u):null,f=h("title"),m=h("content"),g=h("statusbar"),v=h("buttons"),y=d("header"),b=d("body"),_=d("footer");a(y,p),a(y,f),a(b,m),a(_,g),a(_,v),f||o(y).remove(),g||v||o(_).remove(),p&&p.addEventListener("click",i.close,!1),a(l,c)}}),i("dialogTitle",{template:l}),i("dialogContent",{template:c}),i("dialogStatusbar",{template:h}),i("dialogButtons",{template:d})},function(e,t,n){"use strict";var i=n(1);i.createPopup("notice",{template:'<div class="ui-popup"><div class="ui-notice" ng-transclude></div></div>'})},function(e,t,n){"use strict";var i=n(1);i.createPopup("popup",{template:'<div class="ui-popup"><div ng-transclude></div></div>'})},function(e,t){"use strict";function n(e){this.options=Object.create(n.defaults),Object.keys(e||{}).forEach(function(t){var n=e[t];"undefined"!=typeof n&&(this.options[t]=n)},this);var t=this.options.node||document.createElement("div");t.style.position="absolute",t.setAttribute("tabindex","-1"),document.body.appendChild(t),this.options.hideElement(t),this.node=t,this.destroyed=!1}function i(e){return document.documentElement["client"+e]}function r(e){var t={Left:"pageXOffset",Top:"pageYOffset"};return window[t[e]]}function o(e){e.parentNode.removeChild(e)}function a(e){e.style.display="block"}function s(e){e.style.display="none"}function l(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function u(e,t){l(e,t)||(e.className+=" "+t)}function c(e,t){if(l(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function h(e,t,n){e.addEventListener(t,n,!1)}function d(e,t,n){e.removeEventListener(t,n)}function p(){try{var e=document.activeElement,t=e.contentDocument,n=t&&t.activeElement||e;return n}catch(i){}}n.defaults={node:null,fixed:!1,autofocus:!0,align:"bottom left",className:"ui-popup",showElement:a,hideElement:s,removeElement:o},n.prototype={constructor:n,destroyed:!0,open:!1,returnValue:"",show:function(e){if(this.destroyed)return this;var t=this.node;return this.__activeElement=p(),this.open=!0,this.anchor=e,u(t,this.options.className),u(t,this.__name("show")),t.setAttribute("role",this.modal?"alertdialog":"dialog"),this.__show||(this.focus=this.focus.bind(this),this.reset=this.reset.bind(this),this.__show=!0),this.modal&&(u(t,this.__name("modal")),h(document,"focusin",this.focus)),this.options.showElement(t),h(window,"resize",this.reset),this.reset().focus(),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(e){if(!this.destroyed&&this.open){var t=this.node;void 0!==e&&(this.returnValue=e),c(t,this.__name("show")),c(t,this.__name("modal")),this.options.hideElement(t),this.open=!1,this.blur(),d(document,"focusin",this.focus),d(window,"resize",this.reset)}return this},remove:function(){if(this.destroyed)return this;this.open&&this.close(),n.current===this&&(n.current=null),this.options.removeElement(this.node);for(var e in this)delete this[e];return this},reset:function(){if(this.open){var e=this.anchor;return"string"==typeof e&&(e=this.anchor=document.querySelector(e)),this.node.style.position=this.options.fixed?"fixed":"absolute",e?this.__anchor(e):this.__center(),this}},focus:function(){var e=this.node,t=n.current,i=this.zIndex=n.zIndex++;if(t&&t!==this&&t.blur(!1),!e.contains(p())){var r=e.querySelector("[autofocus]");!this.__autofocus&&r?this.__autofocus=!0:r=e,this.__focus(r)}return e.style.zIndex=i,n.current=this,u(e,this.__name("focus")),this},blur:function(){var e=this.__activeElement,t=p(),n=arguments[0],i=this.node;return n!==!1&&i.contains(t)&&this.__focus(e),this.__autofocus=!1,c(i,this.__name("focus")),this},__name:function(e){return this.options.className+"-"+e},__focus:function(e){try{this.options.autofocus&&!/^iframe$/i.test(e.nodeName)&&e.focus()}catch(t){}},__center:function(){var e=this.node,t=this.options.fixed,n=t?0:r("Left"),o=t?0:r("Top"),a=i("Width"),s=i("Height"),l=e.offsetWidth,u=e.offsetHeight,c=(a-l)/2+n,h=382*(s-u)/1e3+o,d=e.style;d.left=Math.max(parseInt(c),n)+"px",d.top=Math.max(parseInt(h),o)+"px"},__anchor:function(e){function t(){if(n){var t=window,i=document.documentElement,r=e.getBoundingClientRect();return{top:r.top+t.pageYOffset-i.clientTop,left:r.left+t.pageXOffset-i.clientLeft}}return{left:e.pageX,top:e.pageY}}var n=e.parentNode&&e,o=this.node;if(this.__anchorClass&&(c(o,this.__anchorClass),c(o,this.__name("anchor"))),n&&e.offsetLeft*e.offsetTop<0)return this.__center();var a=this,s=this.options,l=s.fixed,h=i("Width"),d=i("Height"),p=r("Left"),f=r("Top"),m=o.offsetWidth,g=o.offsetHeight,v=e.offsetWidth||0,y=e.offsetHeight||0,b=t(),_=b.left,x=b.top,A=l?_-p:_,w=l?x-f:x,C=l?0:p,S=l?0:f,k=C+h-m,I=S+d-g,M={},T=s.align.split(" "),L=this.__name(""),D={top:"bottom",bottom:"top",left:"right",right:"left"},B={top:"top",bottom:"top",left:"left",right:"left"},O=[{top:w-g,bottom:w+y,left:A-m,right:A+v},{top:w,bottom:w-g+y,left:A,right:A-m+v}],P={left:A+v/2-m/2,top:w+y/2-g/2},E={left:[C,k],top:[S,I]};T.forEach(function(e,t){O[t][e]>E[B[e]][1]&&(e=T[t]=D[e]),O[t][e]<E[B[e]][0]&&(T[t]=D[e])}),T[1]||(B[T[1]]="left"===B[T[0]]?"top":"left",O[1][T[1]]=P[B[T[1]]]),n&&(L+=T.join("-"),a.__anchorClass=L,u(o,L),u(o,this.__name("anchor"))),M[B[T[0]]]=parseInt(O[0][T[0]]),M[B[T[1]]]=parseInt(O[1][T[1]]),o.style.left=M.left+"px",o.style.top=M.top+"px"}},n.zIndex=1024,n.current=null,e.exports=n},function(e,t,n){"use strict";function i(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var r=n(2),o=n(3);o.provider("Popup",function(){var e=this,t=!1,n=function(){},o={title:"Message",okValue:"Ok",cancelValue:"Cancel"},a={open:!0,title:null,content:null,duration:null,okValue:null,cancelValue:null,ok:null,cancel:null,notice:!1,$destroy:n,$ok:function(){this.ok&&this.ok()!==!1&&(this.open=!1,this.$destroy())},$cancel:function(){this.cancel&&this.cancel()!==!1&&(this.open=!1,this.$destroy())},$close:function(){this.cancel?this.$cancel():this.$ok()}},s={close:function(){a.$close()}},l='<dialog ng-if="$$Popup.open && !$$Popup.notice" modal fixed close="$$Popup.$close()"><div dialog-title ng-bind="$$Popup.title"></div><div dialog-content ng-bind="$$Popup.content"></div><div dialog-buttons><button ng-if="$$Popup.ok" autofocus ng-click="$$Popup.$ok()">{{$$Popup.okValue}}</button><button ng-if="$$Popup.cancel" ng-click="$$Popup.$cancel()">{{$$Popup.cancelValue}}</button></dialog>',u='<notice ng-if="$$Popup.open && $$Popup.notice" fixed duration="{{$$Popup.duration}}" close="$$Popup.$close()">{{$$Popup.content}}</notice>';r.extend(this,o),this.$get=["$compile","$rootScope",function(o,c){function h(n){if(!t){var h=i(l);document.body.appendChild(h),o(h)(c);var d=i(u);document.body.appendChild(d),o(d)(c),t=!0}var p=Object.create(a);return p=r.extend(p,e,n),p.$destroy=function(){delete c.$$Popup},c.$$Popup=p,s}return{alert:function(e,t){return h({content:e,ok:t||n})},confirm:function(e,t,i){return h({content:e,ok:t||n,cancel:i||n})},notice:function(e,t,i){return h({content:e,duration:t||2e3,ok:i||n,notice:!0})}}}]})},function(e,t,n){t=e.exports=n(5)(),t.i(n(4),""),t.push([e.id,"body,html{-webkit-tap-highlight-color:rgba(255,255,255,0)}.ui-bubble{position:relative;background:hsla(50,89%,93%,.9);border:1px solid rgba(206,157,72,.7);border-radius:3px;outline:0;background-clip:padding-box;line-height:1.428571429;color:#cd9c4f}.ui-popup-focus .ui-bubble{box-shadow:0 0 5px rgba(0,0,0,.1)}.ui-bubble-content{padding:5px}.ui-popup-top-left .ui-bubble,.ui-popup-top-right .ui-bubble,.ui-popup-top .ui-bubble{top:-5px}.ui-popup-bottom-left .ui-bubble,.ui-popup-bottom-right .ui-bubble,.ui-popup-bottom .ui-bubble{top:5px}.ui-popup-left-bottom .ui-bubble,.ui-popup-left-top .ui-bubble,.ui-popup-left .ui-bubble{left:-5px}.ui-popup-right-bottom .ui-bubble,.ui-popup-right-top .ui-bubble,.ui-popup-right .ui-bubble{left:5px}.ui-bubble:after,.ui-bubble:before{content:'';position:absolute;display:none;width:0;height:0;overflow:hidden;border:5px dashed transparent}.ui-popup-anchor .ui-bubble:after,.ui-popup-anchor .ui-bubble:before{display:block}.ui-popup-top-left .ui-bubble:before,.ui-popup-top-right .ui-bubble:before,.ui-popup-top .ui-bubble:before{bottom:-10px;border-top:5px solid #cd9c4f}.ui-popup-top-left .ui-bubble:after,.ui-popup-top-right .ui-bubble:after,.ui-popup-top .ui-bubble:after{bottom:-9px;border-top:5px solid #fdf8df}.ui-popup-top-left .ui-bubble:after,.ui-popup-top-left .ui-bubble:before{left:9px}.ui-popup-top .ui-bubble:after,.ui-popup-top .ui-bubble:before{left:50%;margin-left:-5px}.ui-popup-top-right .ui-bubble:after,.ui-popup-top-right .ui-bubble:before{right:9px}.ui-popup-bottom-left .ui-bubble:before,.ui-popup-bottom-right .ui-bubble:before,.ui-popup-bottom .ui-bubble:before{top:-10px;border-bottom:5px solid #cd9c4f}.ui-popup-bottom-left .ui-bubble:after,.ui-popup-bottom-right .ui-bubble:after,.ui-popup-bottom .ui-bubble:after{top:-9px;border-bottom:5px solid #fdf8df}.ui-popup-bottom-left .ui-bubble:after,.ui-popup-bottom-left .ui-bubble:before{left:9px}.ui-popup-bottom .ui-bubble:after,.ui-popup-bottom .ui-bubble:before{margin-left:-5px;left:50%}.ui-popup-bottom-right .ui-bubble:after,.ui-popup-bottom-right .ui-bubble:before{right:9px}.ui-popup-left-bottom .ui-bubble:before,.ui-popup-left-top .ui-bubble:before,.ui-popup-left .ui-bubble:before{right:-10px;border-left:5px solid #cd9c4f}.ui-popup-left-bottom .ui-bubble:after,.ui-popup-left-top .ui-bubble:after,.ui-popup-left .ui-bubble:after{right:-9px;border-left:5px solid #fdf8df}.ui-popup-left-top .ui-bubble:after,.ui-popup-left-top .ui-bubble:before{top:9px}.ui-popup-left .ui-bubble:after,.ui-popup-left .ui-bubble:before{margin-top:-5px;top:50%}.ui-popup-left-bottom .ui-bubble:after,.ui-popup-left-bottom .ui-bubble:before{bottom:9px}.ui-popup-right-bottom .ui-bubble:before,.ui-popup-right-top .ui-bubble:before,.ui-popup-right .ui-bubble:before{left:-10px;border-right:5px solid #cd9c4f}.ui-popup-right-bottom .ui-bubble:after,.ui-popup-right-top .ui-bubble:after,.ui-popup-right .ui-bubble:after{left:-9px;border-right:5px solid #fdf8df}.ui-popup-right-top .ui-bubble:after,.ui-popup-right-top .ui-bubble:before{top:9px}.ui-popup-right .ui-bubble:after,.ui-popup-right .ui-bubble:before{margin-top:-5px;top:50%}.ui-popup-right-bottom .ui-bubble:after,.ui-popup-right-bottom .ui-bubble:before{bottom:9px}","",{version:3,sources:["/./src/css/ui-bubble.css"],names:[],mappings:"AACA,UACI,+CAAgD,CACnD,AACD,WACI,kBAAmB,AACnB,+BAAoC,AACpC,qCAAyC,AACzC,kBAAmB,AACnB,UAAW,AACX,4BAA6B,AAC7B,wBAAyB,AACzB,aAAe,CAElB,AACD,2BACI,iCAAuC,CAC1C,AACD,mBACI,WAAa,CAChB,AAED,sFAGI,QAAU,CACb,AACD,+FAGI,OAAS,CACZ,AACD,yFAGI,SAAW,CACd,AACD,4FAGI,QAAU,CACb,AACD,mCAEI,WAAY,AACZ,kBAAmB,AACnB,aAAc,AACd,QAAS,AACT,SAAU,AACV,gBAAgB,AAChB,6BAA8B,CACjC,AACD,qEAEI,aAAe,CAClB,AACD,2GAGI,aAAc,AACd,4BAA6B,CAChC,AACD,wGAGI,YAAa,AACb,4BAA6B,CAChC,AACD,yEAEI,QAAU,CACb,AACD,+DAEI,SAAU,AACV,gBAAkB,CACrB,AACD,2EAEI,SAAW,CACd,AACD,oHAGI,UAAW,AACX,+BAAgC,CACnC,AACD,iHAGI,SAAU,AACV,+BAAgC,CACnC,AACD,+EAEI,QAAU,CACb,AACD,qEAEI,iBAAkB,AAClB,QAAU,CACb,AACD,iFAEI,SAAW,CACd,AACD,8GAGI,YAAa,AACb,6BAA8B,CACjC,AACD,2GAGI,WAAY,AACZ,6BAA8B,CACjC,AACD,yEAEI,OAAS,CACZ,AACD,iEAEI,gBAAiB,AACjB,OAAS,CACZ,AACD,+EAEI,UAAY,CACf,AACD,iHAGI,WAAY,AACZ,8BAA+B,CAClC,AACD,8GAGI,UAAW,AACX,8BAA+B,CAClC,AACD,2EAEI,OAAS,CACZ,AACD,mEAEI,gBAAiB,AACjB,OAAS,CACZ,AACD,iFAEI,UAAY,CACf",file:"ui-bubble.css",sourcesContent:["@import url('./ui-popup.css');\nhtml, body {\n    -webkit-tap-highlight-color:rgba(255,255,255,0);\n}\n.ui-bubble {\n    position: relative;\n    background: rgba(253, 248, 222, .9);\n    border: 1px solid rgba(206, 157, 72, .7);\n    border-radius: 3px;\n    outline: 0;\n    background-clip: padding-box;\n    line-height: 1.428571429;\n    color: #CD9C4F;\n    /*-webkit-backdrop-filter: saturate(180%) blur(20px);*/\n}\n.ui-popup-focus .ui-bubble {\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\n}\n.ui-bubble-content {\n    padding: 5px;\n}\n\n.ui-popup-top-left .ui-bubble,\n.ui-popup-top .ui-bubble,\n.ui-popup-top-right .ui-bubble {\n    top: -5px;\n}\n.ui-popup-bottom-left .ui-bubble,\n.ui-popup-bottom .ui-bubble,\n.ui-popup-bottom-right .ui-bubble {\n    top: 5px;\n}\n.ui-popup-left-top .ui-bubble,\n.ui-popup-left .ui-bubble,\n.ui-popup-left-bottom .ui-bubble {\n    left: -5px;\n}\n.ui-popup-right-top .ui-bubble,\n.ui-popup-right .ui-bubble,\n.ui-popup-right-bottom .ui-bubble {\n    left: 5px;\n}\n.ui-bubble::before,\n.ui-bubble::after {\n    content: '';\n    position: absolute;\n    display: none;\n    width: 0;\n    height: 0;\n    overflow:hidden;\n    border:5px dashed transparent;\n}\n.ui-popup-anchor .ui-bubble::before,\n.ui-popup-anchor .ui-bubble::after{\n    display: block;\n}\n.ui-popup-top-left .ui-bubble::before,\n.ui-popup-top .ui-bubble::before,\n.ui-popup-top-right .ui-bubble::before {\n    bottom: -10px;\n    border-top:5px solid #CD9C4F;\n}\n.ui-popup-top-left .ui-bubble::after,\n.ui-popup-top .ui-bubble::after,\n.ui-popup-top-right .ui-bubble::after {\n    bottom: -9px;\n    border-top:5px solid #FDF8DF;\n}\n.ui-popup-top-left .ui-bubble::before,\n.ui-popup-top-left .ui-bubble::after  {\n    left: 9px;\n}\n.ui-popup-top .ui-bubble::before,\n.ui-popup-top .ui-bubble::after  {\n    left: 50%;\n    margin-left: -5px;\n}\n.ui-popup-top-right .ui-bubble::before,\n.ui-popup-top-right .ui-bubble::after {\n    right: 9px;\n}\n.ui-popup-bottom-left .ui-bubble::before,\n.ui-popup-bottom .ui-bubble::before,\n.ui-popup-bottom-right .ui-bubble::before {\n    top: -10px;\n    border-bottom:5px solid #CD9C4F;\n}\n.ui-popup-bottom-left .ui-bubble::after,\n.ui-popup-bottom .ui-bubble::after,\n.ui-popup-bottom-right .ui-bubble::after {\n    top: -9px;\n    border-bottom:5px solid #FDF8DF;\n}\n.ui-popup-bottom-left .ui-bubble::before,\n.ui-popup-bottom-left .ui-bubble::after {\n    left: 9px;\n}\n.ui-popup-bottom .ui-bubble::before,\n.ui-popup-bottom .ui-bubble::after {\n    margin-left: -5px;\n    left: 50%;\n}\n.ui-popup-bottom-right .ui-bubble::before,\n.ui-popup-bottom-right .ui-bubble::after {\n    right: 9px;\n}\n.ui-popup-left-top .ui-bubble::before,\n.ui-popup-left .ui-bubble::before,\n.ui-popup-left-bottom .ui-bubble::before {\n    right: -10px;\n    border-left:5px solid #CD9C4F;\n}\n.ui-popup-left-top .ui-bubble::after,\n.ui-popup-left .ui-bubble::after,\n.ui-popup-left-bottom .ui-bubble::after {\n    right: -9px;\n    border-left:5px solid #FDF8DF;\n}\n.ui-popup-left-top .ui-bubble::before,\n.ui-popup-left-top .ui-bubble::after {\n    top: 9px;\n}\n.ui-popup-left .ui-bubble::before,\n.ui-popup-left .ui-bubble::after {\n    margin-top: -5px;\n    top: 50%;\n}\n.ui-popup-left-bottom .ui-bubble::before,\n.ui-popup-left-bottom .ui-bubble::after {\n    bottom: 9px;\n}\n.ui-popup-right-top .ui-bubble::before,\n.ui-popup-right .ui-bubble::before,\n.ui-popup-right-bottom .ui-bubble::before {\n    left: -10px;\n    border-right:5px solid #CD9C4F;\n}\n.ui-popup-right-top .ui-bubble::after,\n.ui-popup-right .ui-bubble::after,\n.ui-popup-right-bottom .ui-bubble::after {\n    left: -9px;\n    border-right:5px solid #FDF8DF;\n}\n.ui-popup-right-top .ui-bubble::before,\n.ui-popup-right-top .ui-bubble::after {\n    top: 9px;\n}\n.ui-popup-right .ui-bubble::before,\n.ui-popup-right .ui-bubble::after {\n    margin-top: -5px;\n    top: 50%;\n}\n.ui-popup-right-bottom .ui-bubble::before,\n.ui-popup-right-bottom .ui-bubble::after {\n    bottom: 9px;\n}"],sourceRoot:"webpack://"}])},function(e,t,n){t=e.exports=n(5)(),t.i(n(4),""),t.push([e.id,".ui-dialog{position:relative;background-color:#fff;border:1px solid rgba(0,0,0,.3);border-radius:6px;outline:0;background-clip:padding-box;font-size:14px;line-height:1.428571429;text-align:left;color:#333}@media (max-width:768px){.ui-dialog{width:90vw}}.ui-popup-focus .ui-dialog{box-shadow:0 0 8px rgba(0,0,0,.1)}.ui-popup-modal .ui-dialog{box-shadow:none}.ui-dialog-header{white-space:nowrap}.ui-dialog-header:after{content:'';display:block;height:0;border-bottom:1px solid #e5e5e5}.ui-dialog-close{position:relative;float:right;top:13px;right:13px;margin-top:-1px;padding:0;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;cursor:pointer;background:transparent;border:0;-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}.ui-dialog-close:active,.ui-dialog-close:focus,.ui-dialog-close:hover{color:#000;text-decoration:none;cursor:pointer;outline:0;opacity:.5}.ui-dialog-title{margin:0;line-height:1.428571429;min-height:16.428571429px;padding:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700;cursor:default}.ui-dialog-body{padding:20px;text-align:center}.ui-dialog-content{display:inline-block;position:relative;vertical-align:middle;text-align:left}.ui-dialog-footer{padding:0 20px 20px;text-align:center}.ui-dialog-footer:after{content:'';display:block;clear:both;height:0;overflow:hidden}.ui-dialog-statusbar{float:left;margin-right:20px;padding:6px 0;line-height:1.428571429;font-size:14px;color:#888;white-space:nowrap}.ui-dialog-statusbar label:hover{color:#333}.ui-dialog-statusbar .label,.ui-dialog-statusbar input{vertical-align:middle}.ui-dialog-buttons{float:right;white-space:nowrap}.ui-dialog-footer button+button{margin-bottom:0;margin-left:5px}.ui-dialog-footer button{width:auto;overflow:visible;display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.428571429;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.ui-dialog-footer button:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.ui-dialog-footer button:focus,.ui-dialog-footer button:hover{color:#333;text-decoration:none}.ui-dialog-footer button:active{background-image:none;outline:0;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.ui-dialog-footer button:disabled{pointer-events:none;cursor:not-allowed;opacity:.65;box-shadow:none}.ui-dialog-footer button{color:#333;background-color:#fff;border-color:#ccc}.ui-dialog-footer button:active,.ui-dialog-footer button:focus,.ui-dialog-footer button:hover{color:#333;background-color:#ebebeb;border-color:#adadad}.ui-dialog-footer button:active{background-image:none}.ui-dialog-footer button:disabled,.ui-dialog-footer button:disabled:active,.ui-dialog-footer button:disabled:focus,.ui-dialog-footer button:disabled:hover{background-color:#fff;border-color:#ccc}.ui-dialog-footer button[autofocus]{color:#fff;background-color:#428bca;border-color:#357ebd}.ui-dialog-footer button[autofocus]:active,.ui-dialog-footer button[autofocus]:focus,.ui-dialog-footer button[autofocus]:hover{color:#fff;background-color:#3276b1;border-color:#285e8e}.ui-dialog-footer button[autofocus]:active{background-image:none}.ui-popup-top-left .ui-dialog,.ui-popup-top-right .ui-dialog,.ui-popup-top .ui-dialog{top:-8px}.ui-popup-bottom-left .ui-dialog,.ui-popup-bottom-right .ui-dialog,.ui-popup-bottom .ui-dialog{top:8px}.ui-popup-left-bottom .ui-dialog,.ui-popup-left-top .ui-dialog,.ui-popup-left .ui-dialog{left:-8px}.ui-popup-right-bottom .ui-dialog,.ui-popup-right-top .ui-dialog,.ui-popup-right .ui-dialog{left:8px}.ui-dialog:after,.ui-dialog:before{content:'';position:absolute;display:none;width:0;height:0;overflow:hidden;border:8px dashed transparent}.ui-popup-anchor .ui-dialog:after,.ui-popup-anchor .ui-dialog:before{display:block}.ui-popup-top-left .ui-dialog:before,.ui-popup-top-right .ui-dialog:before,.ui-popup-top .ui-dialog:before{bottom:-16px;border-top:8px solid #7c7c7c}.ui-popup-top-left .ui-dialog:after,.ui-popup-top-right .ui-dialog:after,.ui-popup-top .ui-dialog:after{bottom:-15px;border-top:8px solid #fff}.ui-popup-top-left .ui-dialog:after,.ui-popup-top-left .ui-dialog:before{left:15px}.ui-popup-top .ui-dialog:after,.ui-popup-top .ui-dialog:before{left:50%;margin-left:-8px}.ui-popup-top-right .ui-dialog:after,.ui-popup-top-right .ui-dialog:before{right:15px}.ui-popup-bottom-left .ui-dialog:before,.ui-popup-bottom-right .ui-dialog:before,.ui-popup-bottom .ui-dialog:before{top:-16px;border-bottom:8px solid #7c7c7c}.ui-popup-bottom-left .ui-dialog:after,.ui-popup-bottom-right .ui-dialog:after,.ui-popup-bottom .ui-dialog:after{top:-15px;border-bottom:8px solid #fff}.ui-popup-bottom-left .ui-dialog:after,.ui-popup-bottom-left .ui-dialog:before{left:15px}.ui-popup-bottom .ui-dialog:after,.ui-popup-bottom .ui-dialog:before{margin-left:-8px;left:50%}.ui-popup-bottom-right .ui-dialog:after,.ui-popup-bottom-right .ui-dialog:before{right:15px}.ui-popup-left-bottom .ui-dialog:before,.ui-popup-left-top .ui-dialog:before,.ui-popup-left .ui-dialog:before{right:-16px;border-left:8px solid #7c7c7c}.ui-popup-left-bottom .ui-dialog:after,.ui-popup-left-top .ui-dialog:after,.ui-popup-left .ui-dialog:after{right:-15px;border-left:8px solid #fff}.ui-popup-left-top .ui-dialog:after,.ui-popup-left-top .ui-dialog:before{top:15px}.ui-popup-left .ui-dialog:after,.ui-popup-left .ui-dialog:before{margin-top:-8px;top:50%}.ui-popup-left-bottom .ui-dialog:after,.ui-popup-left-bottom .ui-dialog:before{bottom:15px}.ui-popup-right-bottom .ui-dialog:before,.ui-popup-right-top .ui-dialog:before,.ui-popup-right .ui-dialog:before{left:-16px;border-right:8px solid #7c7c7c}.ui-popup-right-bottom .ui-dialog:after,.ui-popup-right-top .ui-dialog:after,.ui-popup-right .ui-dialog:after{left:-15px;border-right:8px solid #fff}.ui-popup-right-top .ui-dialog:after,.ui-popup-right-top .ui-dialog:before{top:15px}.ui-popup-right .ui-dialog:after,.ui-popup-right .ui-dialog:before{margin-top:-8px;top:50%}.ui-popup-right-bottom .ui-dialog:after,.ui-popup-right-bottom .ui-dialog:before{bottom:15px}.ui-dialog-loading{vertical-align:middle;display:inline-block;overflow:hidden;width:32px;height:32px;font-size:0;text-indent:-999em;color:#666;width:100%\\9;text-indent:0;line-height:32px\\9;text-align:center\\9;font-size:12px\\9}.ui-dialog-loading:after{position:absolute;content:'';width:3px;height:3px;margin:14.5px 0 0 14.5px;border-radius:100%;box-shadow:0 -10px 0 1px #ccc,10px 0 #ccc,0 10px #ccc,-10px 0 #ccc,-7px -7px 0 .5px #ccc,7px -7px 0 1.5px #ccc,7px 7px #ccc,-7px 7px #ccc;-webkit-transform:rotate(1turn);-webkit-animation:ui-dialog-loading 1.5s infinite linear;transform:rotate(1turn);animation:ui-dialog-loading 1.5s infinite linear;display:none\\9}@-webkit-keyframes ui-dialog-loading{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes ui-dialog-loading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}","",{version:3,sources:["/./src/css/ui-dialog.css"],names:[],mappings:"AACA,WACI,kBAAmB,AACnB,sBAAuB,AACvB,gCAAoC,AACpC,kBAAmB,AACnB,UAAW,AACX,4BAA6B,AAC7B,eAAgB,AAChB,wBAAyB,AACzB,gBAAiB,AACjB,UAAY,CACf,AACD,yBACI,WACI,UAAY,CACf,CACJ,AACD,2BACI,iCAAuC,CAC1C,AACD,2BACI,eAAiB,CACpB,AACD,kBACI,kBAAoB,CACvB,AACD,wBACI,WAAY,AACZ,cAAe,AACf,SAAU,AACV,+BAAiC,CACpC,AACD,iBACI,kBAAmB,AACnB,YAAa,AACb,SAAU,AACV,WAAY,AACZ,gBAAiB,AACjB,UAAW,AACX,eAAgB,AAChB,gBAAkB,AAClB,cAAe,AACf,WAAY,AACZ,yBAA0B,AAC1B,WAAY,AACZ,eAAgB,AAChB,uBAAwB,AACxB,SAAU,AACV,wBAAyB,AACzB,+CAAgD,CACnD,AACD,sEAGI,WAAY,AACZ,qBAAsB,AACtB,eAAgB,AAChB,UAAW,AACX,UAAa,CAChB,AACD,iBACI,SAAU,AACV,wBAAyB,AACzB,0BAA2B,AAC3B,aAAc,AACd,gBAAgB,AAChB,mBAAoB,AACpB,uBAAwB,AACxB,gBAAkB,AAClB,cAAgB,CACnB,AACD,gBACI,aAAc,AACd,iBAAmB,CACtB,AACD,mBACI,qBAAsB,AACtB,kBAAmB,AACnB,sBAAuB,AACvB,eAAiB,CACpB,AACD,kBACI,oBAA0B,AAC1B,iBAAmB,CACtB,AACD,wBACI,WAAY,AACZ,cAAe,AACf,WAAY,AACZ,SAAU,AACV,eAAiB,CACpB,AACD,qBACI,WAAY,AACZ,kBAAmB,AACnB,cAAe,AACf,wBAAyB,AACzB,eAAgB,AAChB,WAAY,AACZ,kBAAoB,CACvB,AACD,iCACI,UAAY,CACf,AACD,uDAEI,qBAAuB,CAC1B,AACD,mBACI,YAAa,AACb,kBAAoB,CACvB,AACD,gCACI,gBAAiB,AACjB,eAAiB,CACpB,AACD,yBACI,WAAW,AACX,iBAAiB,AACjB,qBAAsB,AACtB,iBAAkB,AAClB,gBAAiB,AACjB,eAAgB,AAChB,gBAAoB,AACpB,wBAAyB,AACzB,kBAAmB,AACnB,mBAAoB,AACpB,sBAAuB,AACvB,eAAgB,AAChB,sBAAuB,AACvB,6BAA8B,AAC9B,kBAAmB,AACnB,yBAA0B,AACzB,sBAAuB,AACtB,qBAAsB,AACrB,oBAAqB,AAClB,gBAAkB,CAC3B,AAED,+BACE,yBAA0B,AAC1B,0CAA2C,AAC3C,mBAAqB,CACtB,AAED,8DAEE,WAAe,AACf,oBAAsB,CACvB,AAED,gCACE,sBAAuB,AACvB,UAAW,AAEH,2CAAiD,CAC1D,AACD,kCACE,oBAAqB,AACrB,mBAAoB,AACpB,YAAc,AAEN,eAAiB,CAC1B,AAED,yBACE,WAAe,AACf,sBAA0B,AAC1B,iBAAsB,CACvB,AAED,8FAGE,WAAe,AACf,yBAA0B,AAC1B,oBAAsB,CACvB,AAED,gCACE,qBAAuB,CACxB,AAED,2JAIE,sBAA0B,AAC1B,iBAAsB,CACvB,AAED,oCACE,WAAe,AACf,yBAA0B,AAC1B,oBAAsB,CACvB,AAED,+HAGE,WAAe,AACf,yBAA0B,AAC1B,oBAAsB,CACvB,AAED,2CACE,qBAAuB,CACxB,AACD,sFAGI,QAAU,CACb,AACD,+FAGI,OAAS,CACZ,AACD,yFAGI,SAAW,CACd,AACD,4FAGI,QAAU,CACb,AAED,mCAEI,WAAY,AACZ,kBAAmB,AACnB,aAAc,AACd,QAAS,AACT,SAAU,AACV,gBAAgB,AAChB,6BAA8B,CACjC,AACD,qEAEI,aAAe,CAClB,AACD,2GAGI,aAAc,AACd,4BAA6B,CAChC,AACD,wGAGI,aAAc,AACd,yBAA0B,CAC7B,AACD,yEAEI,SAAW,CACd,AACD,+DAEI,SAAU,AACV,gBAAkB,CACrB,AACD,2EAEI,UAAY,CACf,AACD,oHAGI,UAAW,AACX,+BAAgC,CACnC,AACD,iHAGI,UAAW,AACX,4BAA6B,CAChC,AACD,+EAEI,SAAW,CACd,AACD,qEAEI,iBAAkB,AAClB,QAAU,CACb,AACD,iFAEI,UAAY,CACf,AACD,8GAGI,YAAa,AACb,6BAA8B,CACjC,AACD,2GAGI,YAAa,AACb,0BAA2B,CAC9B,AACD,yEAEI,QAAU,CACb,AACD,iEAEI,gBAAiB,AACjB,OAAS,CACZ,AACD,+EAEI,WAAa,CAChB,AACD,iHAGI,WAAY,AACZ,8BAA+B,CAClC,AACD,8GAGI,WAAY,AACZ,2BAA4B,CAC/B,AACD,2EAEI,QAAU,CACb,AACD,mEAEI,gBAAiB,AACjB,OAAS,CACZ,AACD,iFAEI,WAAa,CAChB,AAED,mBACI,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,WAAY,AACZ,YAAa,AACb,YAAa,AACb,mBAAoB,AACpB,WAAY,AAGZ,aAAc,AACd,cAAiB,AACjB,mBAAoB,AACpB,oBAAqB,AACrB,gBAAkB,CANrB,AASD,yBACI,kBAAmB,AACnB,WAAY,AACZ,UAAW,AACX,WAAY,AACZ,yBAA0B,AAC1B,mBAAoB,AACpB,0IAAqJ,AACrJ,gCAAkC,AAClC,yDAA0D,AAC1D,wBAA0B,AAC1B,iDAAkD,AAClD,cAAgB,CACnB,AAED,qCACI,GAAI,8BAAgC,CAAC,AACrC,GAAM,+BAAkC,CAAC,CAC5C,AACD,6BACI,GAAI,sBAAwB,CAAC,AAC7B,GAAM,uBAA0B,CAAC,CACpC",file:"ui-dialog.css",sourcesContent:["@import url('./ui-popup.css');\n.ui-dialog {\n    position: relative;\n    background-color: #FFF;\n    border: 1px solid rgba(0, 0, 0, .3);\n    border-radius: 6px;\n    outline: 0;\n    background-clip: padding-box;\n    font-size: 14px;\n    line-height: 1.428571429;\n    text-align: left;\n    color: #333;\n}\n@media (max-width: 768px) {\n    .ui-dialog {\n        width: 90vw;\n    }\n}\n.ui-popup-focus .ui-dialog {\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);\n}\n.ui-popup-modal .ui-dialog {\n    box-shadow: none;\n}\n.ui-dialog-header {\n    white-space: nowrap;\n}\n.ui-dialog-header::after {\n    content: '';\n    display: block;\n    height: 0;\n    border-bottom: 1px solid #E5E5E5;\n}\n.ui-dialog-close {\n    position: relative;\n    float: right;\n    top: 13px;\n    right: 13px;\n    margin-top: -1px;\n    padding: 0;\n    font-size: 21px;\n    font-weight: bold;\n    line-height: 1;\n    color: #000;\n    text-shadow: 0 1px 0 #FFF;\n    opacity: .2;\n    cursor: pointer;\n    background: transparent;\n    border: 0;\n    -webkit-appearance: none;\n    -webkit-tap-highlight-color:rgba(255,255,255,0);\n}\n.ui-dialog-close:hover,\n.ui-dialog-close:focus,\n.ui-dialog-close:active {\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n    outline: 0;\n    opacity: 0.5;\n}\n.ui-dialog-title {\n    margin: 0;\n    line-height: 1.428571429;\n    min-height: 16.428571429px;\n    padding: 15px;\n    overflow:hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    font-weight: bold;\n    cursor: default;\n}\n.ui-dialog-body {\n    padding: 20px;\n    text-align: center;\n}\n.ui-dialog-content {\n    display: inline-block;\n    position: relative;\n    vertical-align: middle;\n    text-align: left;\n}\n.ui-dialog-footer {\n    padding: 0 20px 20px 20px;\n    text-align: center;\n}\n.ui-dialog-footer::after {\n    content: '';\n    display: block;\n    clear: both;\n    height: 0;\n    overflow: hidden;\n}\n.ui-dialog-statusbar {\n    float: left;\n    margin-right: 20px;\n    padding: 6px 0;\n    line-height: 1.428571429;\n    font-size: 14px;\n    color: #888;\n    white-space: nowrap;\n}\n.ui-dialog-statusbar label:hover {\n    color: #333;\n}\n.ui-dialog-statusbar input,\n.ui-dialog-statusbar .label {\n    vertical-align: middle;\n}\n.ui-dialog-buttons {\n    float: right;\n    white-space: nowrap;\n}\n.ui-dialog-footer button+button {\n    margin-bottom: 0;\n    margin-left: 5px;\n}\n.ui-dialog-footer button {\n    width:auto;\n    overflow:visible;\n    display: inline-block;\n    padding: 6px 12px;\n    margin-bottom: 0;\n    font-size: 14px;\n    font-weight: normal;\n    line-height: 1.428571429;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    cursor: pointer;\n    background-image: none;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n       -o-user-select: none;\n          user-select: none;\n}\n\n.ui-dialog-footer button:focus {\n  outline: thin dotted #333;\n  outline: 5px auto -webkit-focus-ring-color;\n  outline-offset: -2px;\n}\n\n.ui-dialog-footer button:hover,\n.ui-dialog-footer button:focus {\n  color: #333333;\n  text-decoration: none;\n}\n\n.ui-dialog-footer button:active {\n  background-image: none;\n  outline: 0;\n  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n          box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n}\n.ui-dialog-footer button:disabled {\n  pointer-events: none;\n  cursor: not-allowed;\n  opacity: 0.65;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n}\n\n.ui-dialog-footer button {\n  color: #333333;\n  background-color: #ffffff;\n  border-color: #cccccc;\n}\n\n.ui-dialog-footer button:hover,\n.ui-dialog-footer button:focus,\n.ui-dialog-footer button:active {\n  color: #333333;\n  background-color: #ebebeb;\n  border-color: #adadad;\n}\n\n.ui-dialog-footer button:active{\n  background-image: none;\n}\n\n.ui-dialog-footer button:disabled,\n.ui-dialog-footer button:disabled:hover,\n.ui-dialog-footer button:disabled:focus,\n.ui-dialog-footer button:disabled:active {\n  background-color: #ffffff;\n  border-color: #cccccc;\n}\n\n.ui-dialog-footer button[autofocus] {\n  color: #ffffff;\n  background-color: #428bca;\n  border-color: #357ebd;\n}\n\n.ui-dialog-footer button[autofocus]:hover,\n.ui-dialog-footer button[autofocus]:focus,\n.ui-dialog-footer button[autofocus]:active {\n  color: #ffffff;\n  background-color: #3276b1;\n  border-color: #285e8e;\n}\n\n.ui-dialog-footer button[autofocus]:active {\n  background-image: none;\n}\n.ui-popup-top-left .ui-dialog,\n.ui-popup-top .ui-dialog,\n.ui-popup-top-right .ui-dialog {\n    top: -8px;\n}\n.ui-popup-bottom-left .ui-dialog,\n.ui-popup-bottom .ui-dialog,\n.ui-popup-bottom-right .ui-dialog {\n    top: 8px;\n}\n.ui-popup-left-top .ui-dialog,\n.ui-popup-left .ui-dialog,\n.ui-popup-left-bottom .ui-dialog {\n    left: -8px;\n}\n.ui-popup-right-top .ui-dialog,\n.ui-popup-right .ui-dialog,\n.ui-popup-right-bottom .ui-dialog {\n    left: 8px;\n}\n\n.ui-dialog::before,\n.ui-dialog::after {\n    content: '';\n    position: absolute;\n    display: none;\n    width: 0;\n    height: 0;\n    overflow:hidden;\n    border:8px dashed transparent;\n}\n.ui-popup-anchor .ui-dialog::before,\n.ui-popup-anchor .ui-dialog::after{\n    display: block;\n}\n.ui-popup-top-left .ui-dialog::before,\n.ui-popup-top .ui-dialog::before,\n.ui-popup-top-right .ui-dialog::before {\n    bottom: -16px;\n    border-top:8px solid #7C7C7C;\n}\n.ui-popup-top-left .ui-dialog::after,\n.ui-popup-top .ui-dialog::after,\n.ui-popup-top-right .ui-dialog::after {\n    bottom: -15px;\n    border-top:8px solid #fff;\n}\n.ui-popup-top-left .ui-dialog::before,\n.ui-popup-top-left .ui-dialog::after  {\n    left: 15px;\n}\n.ui-popup-top .ui-dialog::before,\n.ui-popup-top .ui-dialog::after  {\n    left: 50%;\n    margin-left: -8px;\n}\n.ui-popup-top-right .ui-dialog::before,\n.ui-popup-top-right .ui-dialog::after {\n    right: 15px;\n}\n.ui-popup-bottom-left .ui-dialog::before,\n.ui-popup-bottom .ui-dialog::before,\n.ui-popup-bottom-right .ui-dialog::before {\n    top: -16px;\n    border-bottom:8px solid #7C7C7C;\n}\n.ui-popup-bottom-left .ui-dialog::after,\n.ui-popup-bottom .ui-dialog::after,\n.ui-popup-bottom-right .ui-dialog::after {\n    top: -15px;\n    border-bottom:8px solid #fff;\n}\n.ui-popup-bottom-left .ui-dialog::before,\n.ui-popup-bottom-left .ui-dialog::after {\n    left: 15px;\n}\n.ui-popup-bottom .ui-dialog::before,\n.ui-popup-bottom .ui-dialog::after {\n    margin-left: -8px;\n    left: 50%;\n}\n.ui-popup-bottom-right .ui-dialog::before,\n.ui-popup-bottom-right .ui-dialog::after {\n    right: 15px;\n}\n.ui-popup-left-top .ui-dialog::before,\n.ui-popup-left .ui-dialog::before,\n.ui-popup-left-bottom .ui-dialog::before {\n    right: -16px;\n    border-left:8px solid #7C7C7C;\n}\n.ui-popup-left-top .ui-dialog::after,\n.ui-popup-left .ui-dialog::after,\n.ui-popup-left-bottom .ui-dialog::after {\n    right: -15px;\n    border-left:8px solid #fff;\n}\n.ui-popup-left-top .ui-dialog::before,\n.ui-popup-left-top .ui-dialog::after {\n    top: 15px;\n}\n.ui-popup-left .ui-dialog::before,\n.ui-popup-left .ui-dialog::after {\n    margin-top: -8px;\n    top: 50%;\n}\n.ui-popup-left-bottom .ui-dialog::before,\n.ui-popup-left-bottom .ui-dialog::after {\n    bottom: 15px;\n}\n.ui-popup-right-top .ui-dialog::before,\n.ui-popup-right .ui-dialog::before,\n.ui-popup-right-bottom .ui-dialog::before {\n    left: -16px;\n    border-right:8px solid #7C7C7C;\n}\n.ui-popup-right-top .ui-dialog::after,\n.ui-popup-right .ui-dialog::after,\n.ui-popup-right-bottom .ui-dialog::after {\n    left: -15px;\n    border-right:8px solid #fff;\n}\n.ui-popup-right-top .ui-dialog::before,\n.ui-popup-right-top .ui-dialog::after {\n    top: 15px;\n}\n.ui-popup-right .ui-dialog::before,\n.ui-popup-right .ui-dialog::after {\n    margin-top: -8px;\n    top: 50%;\n}\n.ui-popup-right-bottom .ui-dialog::before,\n.ui-popup-right-bottom .ui-dialog::after {\n    bottom: 15px;\n}\n\n.ui-dialog-loading {\n    vertical-align: middle;\n    display: inline-block;\n    overflow: hidden;\n    width: 32px;\n    height: 32px;\n    font-size: 0;\n    text-indent: -999em;\n    color: #666;\n}\n.ui-dialog-loading {\n    width: 100%\\9;\n    text-indent: 0\\9;\n    line-height: 32px\\9;\n    text-align: center\\9;\n    font-size: 12px\\9;\n}\n\n.ui-dialog-loading::after {\n    position: absolute;\n    content: '';\n    width: 3px;\n    height: 3px;\n    margin: 14.5px 0 0 14.5px;\n    border-radius: 100%;\n    box-shadow: 0 -10px 0 1px #ccc, 10px 0px #ccc, 0 10px #ccc, -10px 0 #ccc, -7px -7px 0 0.5px #ccc, 7px -7px 0 1.5px #ccc, 7px 7px #ccc, -7px 7px #ccc;\n    -webkit-transform: rotate(360deg);\n    -webkit-animation: ui-dialog-loading 1.5s infinite linear;\n    transform: rotate(360deg);\n    animation: ui-dialog-loading 1.5s infinite linear;\n    display: none\\9;\n}\n\n@-webkit-keyframes ui-dialog-loading {\n    0% {-webkit-transform: rotate(0deg);}\n    100% {-webkit-transform: rotate(360deg);}\n}\n@keyframes ui-dialog-loading {\n    0% {transform: rotate(0deg);}\n    100% {transform: rotate(360deg);}\n}\n"],
sourceRoot:"webpack://"}])},function(e,t,n){t=e.exports=n(5)(),t.i(n(4),""),t.push([e.id,".ui-notice{padding:10px;border:1px solid #000;border-radius:5px;background:rgba(0,0,0,.7);color:#fff}","",{version:3,sources:["/./src/css/ui-notice.css"],names:[],mappings:"AACA,WACI,aAAc,AACd,sBAAmC,AACnC,kBAAmB,AACnB,0BAA8B,AAC9B,UAAY,CACf",file:"ui-notice.css",sourcesContent:["@import url('./ui-popup.css');\n.ui-notice {\n    padding: 10px;\n    border: 1px solid rgba(0, 0, 0, 9);\n    border-radius: 5px;\n    background: rgba(0, 0, 0, .7);\n    color: #FFF;\n}"],sourceRoot:"webpack://"}])},function(e,t,n){var i=n(13);"string"==typeof i&&(i=[[e.id,i,""]]),n(6)(i,{}),i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(14);"string"==typeof i&&(i=[[e.id,i,""]]),n(6)(i,{}),i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(15);"string"==typeof i&&(i=[[e.id,i,""]]),n(6)(i,{}),i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(4);"string"==typeof i&&(i=[[e.id,i,""]]),n(6)(i,{}),i.locals&&(e.exports=i.locals)}]),!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.echarts=t()}(this,function(){var e,t;!function(){function n(e,t){if(!t)return e;if(0===e.indexOf(".")){var n=t.split("/"),i=e.split("/"),r=n.length-1,o=i.length,a=0,s=0;e:for(var l=0;o>l;l++)switch(i[l]){case"..":if(!(r>a))break e;a++,s++;break;case".":s++;break;default:break e}return n.length=r-a,i=i.slice(s),n.concat(i).join("/")}return e}function i(e){function t(t,a){if("string"==typeof t){var s=i[t];return s||(s=o(n(t,e)),i[t]=s),s}t instanceof Array&&(a=a||function(){},a.apply(this,r(t,a,e)))}var i={};return t}function r(t,i,r){for(var s=[],l=a[r],u=0,c=Math.min(t.length,i.length);c>u;u++){var h,d=n(t[u],r);switch(d){case"require":h=l&&l.require||e;break;case"exports":h=l.exports;break;case"module":h=l;break;default:h=o(d)}s.push(h)}return s}function o(e){var t=a[e];if(!t)throw new Error("No "+e);if(!t.defined){var n=t.factory,i=n.apply(this,r(t.deps||[],n,e));"undefined"!=typeof i&&(t.exports=i),t.defined=1}return t.exports}var a={};t=function(e,t,n){a[e]={id:e,deps:t,factory:n,defined:0,exports:{},require:i(e)}},e=i("")}();var n="buildPath",i="moveTo",r="transform",o="undefined",a="getName",s="rotation",l="inside",u="stroke",c="lineWidth",h="applyTransform",d="option",p="normal",f="category",m="ordinal",g="getItemGraphicEl",v="animation",y="getItemLayout",b="getItemVisual",_="radius",x="../../util/graphic",A="concat",w="getContext",C="createElement",S="getShallow",k="getItemModel",I="contain",M="_extent",T="getExtent",L="opacity",D="position",B="center",O="middle",P="getBoundingRect",E="getTextColor",z="getFont",R="textAlign",$="textStyle",N="inherits",F="indexOf",j="filter",V="number",G="function",H="isArray",U="zlevel",W="setStyle",q="seriesIndex",Y="dataIndex",X="mouseout",Z="mouseover",Q="splice",J="trigger",K="length",ee="extend",te="remove",ne="isObject",ie="update",re="create",oe="height",ae="bottom",se="ignore",le="canvasSupported",ue="getHeight",ce="getWidth",he="getModel",de="resize",pe="canvas",fe="string",me="prototype",ge="toLowerCase",ve="zrender/core/vector",ye="defaults",be="coordinateSystem",_e="removeAll",xe="getData",Ae="zrender/core/util",we="require";t("echarts/chart/line",[we,Ae,"../echarts","./line/LineSeries","./line/LineView","../visual/symbol","../layout/points","../processor/dataSample","../component/grid"],function(e){var t=e(Ae),n=e("../echarts"),i=n.PRIORITY;e("./line/LineSeries"),e("./line/LineView"),n.registerVisual(t.curry(e("../visual/symbol"),"line","circle","line")),n.registerLayout(t.curry(e("../layout/points"),"line")),n.registerProcessor(i.PROCESSOR.STATISTIC,t.curry(e("../processor/dataSample"),"line")),e("../component/grid")}),t("echarts/chart/bar",[we,Ae,"../coord/cartesian/Grid","./bar/BarSeries","./bar/BarView","../layout/barGrid","../echarts","../component/grid"],function(e){var t=e(Ae);e("../coord/cartesian/Grid"),e("./bar/BarSeries"),e("./bar/BarView");var n=e("../layout/barGrid"),i=e("../echarts");i.registerLayout(t.curry(n,"bar")),i.registerVisual(function(e){e.eachSeriesByType("bar",function(e){var t=e[xe]();t.setVisual("legendSymbol","roundRect")})}),e("../component/grid")}),t("echarts/component/grid",[we,"../util/graphic",Ae,"../coord/cartesian/Grid","./axis","../echarts"],function(e){var t=e("../util/graphic"),n=e(Ae);e("../coord/cartesian/Grid"),e("./axis"),e("../echarts").extendComponentView({type:"grid",render:function(e){this.group[_e](),e.get("show")&&this.group.add(new t.Rect({shape:e[be].getRect(),style:n[ye]({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0}))}})}),t("echarts/chart/pie",[we,Ae,"../echarts","./pie/PieSeries","./pie/PieView","../action/createDataSelectAction","../visual/dataColor","./pie/pieLayout","../processor/dataFilter"],function(e){var t=e(Ae),n=e("../echarts");e("./pie/PieSeries"),e("./pie/PieView"),e("../action/createDataSelectAction")("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(t.curry(e("../visual/dataColor"),"pie")),n.registerLayout(t.curry(e("./pie/pieLayout"),"pie")),n.registerProcessor(t.curry(e("../processor/dataFilter"),"pie"))}),t("echarts/echarts",[we,"zrender/core/env","./model/Global","./ExtensionAPI","./CoordinateSystem","./model/OptionManager","./model/Component","./model/Series","./view/Component","./view/Chart","./util/graphic","zrender",Ae,"zrender/tool/color","zrender/mixin/Eventful","zrender/core/timsort","./loading/default","./visual/seriesColor","./preprocessor/backwardCompat","./data/List","./model/Model","./util/number","./util/format","zrender/core/matrix",ve],function(e){function t(e){return function(t,n,i){t=t&&t[ge](),T[me][e].call(this,t,n,i)}}function n(){T.call(this)}function i(e,t,i){function r(e,t){return e.prio-t.prio}i=i||{},typeof t===fe&&(t=Be[t]),this.id,this.group,this._dom=e,this._zr=k.init(e,{renderer:i.renderer||pe,devicePixelRatio:i.devicePixelRatio}),this._theme=I.clone(t),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new y(this),this._coordSysMgr=new b,T.call(this),this._messageCenter=new n,this._initEvents(),this[de]=I.bind(this[de],this),this._pendingActions=[],L(De,r),L(Te,r)}function r(e,t){var n=this._model;n&&n.eachComponent({mainType:"series",query:t},function(i){var r=this._chartsMap[i.__viewId];r&&r.__alive&&r[e](i,n,this._api,t)},this)}function o(e,t,n){var i=this._api;D(this._componentsViews,function(r){var o=r.__model;r[e](o,t,i,n),f(o,r)},this),t.eachSeries(function(r){var o=this._chartsMap[r.__viewId];o[e](r,t,i,n),f(r,o),p(r,o)},this),d(this._zr,t)}function a(e,t){for(var n="component"===e,i=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,o=this._zr,a=0;a<i[K];a++)i[a].__alive=!1;t[n?"eachComponent":"eachSeries"](function(e,a){if(n){if("series"===e)return}else a=e;var s=a.id+"_"+a.type,l=r[s];if(!l){var u=x.parseClassType(a.type),c=n?w.getClass(u.main,u.sub):C.getClass(u.sub);if(!c)return;l=new c,l.init(t,this._api),r[s]=l,i.push(l),o.add(l.group)}a.__viewId=s,l.__alive=!0,l.__id=s,l.__model=a},this);for(var a=0;a<i[K];){var s=i[a];s.__alive?a++:(o[te](s.group),s.dispose(t,this._api),i[Q](a,1),delete r[s.__id])}}function s(e,t){D(Te,function(n){n.func(e,t)})}function l(e){var t={};e.eachSeries(function(e){var n=e.get("stack"),i=e[xe]();if(n&&"list"===i.type){var r=t[n];r&&(i.stackedOn=r),t[n]=i}})}function u(e,t){var n=this._api;D(De,function(i){i.isLayout&&i.func(e,n,t)})}function c(e,t){var n=this._api;e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()}),D(De,function(i){i.func(e,n,t)})}function h(e,t){var n=this._api;D(this._componentsViews,function(i){var r=i.__model;i.render(r,e,n,t),f(r,i)},this),D(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(i){var r=this._chartsMap[i.__viewId];r.__alive=!0,r.render(i,e,n,t),r.group.silent=!!i.get("silent"),f(i,r),p(i,r)},this),d(this._zr,e),D(this._chartsViews,function(t){t.__alive||t[te](e,n)},this)}function d(e,t){var n=e.storage,i=0;n.traverse(function(e){e.isGroup||i++}),i>t.get("hoverLayerThreshold")&&!g.node&&n.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function p(e,t){var n=0;t.group.traverse(function(e){"group"===e.type||e[se]||n++});var i=+e.get("progressive"),r=n>e.get("progressiveThreshold")&&i&&!g.node;r&&t.group.traverse(function(e){e.isGroup||(e.progressive=r?Math.floor(n++/i):-1,r&&e.stopAnimation(!0))});var o=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e[W]("blend",o)})}function f(e,t){var n=e.get("z"),i=e.get(U);t.group.traverse(function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=i&&(e[U]=i))})}function m(e){function t(e,t){for(var n=0;n<e[K];n++){var i=e[n];i[o]=t}}var n=0,i=1,r=2,o="__connectUpdateStatus";I.each(Me,function(a,s){e._messageCenter.on(s,function(a){if(Pe[e.group]&&e[o]!==n){var s=e.makeActionFromEvent(a),l=[];for(var u in Oe){var c=Oe[u];c!==e&&c.group===e.group&&l.push(c)}t(l,n),D(l,function(e){e[o]!==i&&e.dispatchAction(s)}),t(l,r)}})})}var g=e("zrender/core/env"),v=e("./model/Global"),y=e("./ExtensionAPI"),b=e("./CoordinateSystem"),_=e("./model/OptionManager"),x=e("./model/Component"),A=e("./model/Series"),w=e("./view/Component"),C=e("./view/Chart"),S=e("./util/graphic"),k=e("zrender"),I=e(Ae),M=e("zrender/tool/color"),T=e("zrender/mixin/Eventful"),L=e("zrender/core/timsort"),D=I.each,B=1e3,O=5e3,P=1e3,E=2e3,z=3e3,R=4e3,$=5e3,be="__flag_in_main_process",_e="_hasGradientOrPatternBg";n[me].on=t("on"),n[me].off=t("off"),n[me].one=t("one"),I.mixin(n,T);var we=i[me];we.getDom=function(){return this._dom},we.getZr=function(){return this._zr},we.setOption=function(e,t,n){if(this[be]=!0,!this._model||t){var i=new _(this._api),r=this._theme,o=this._model=new v(null,null,r,i);o.init(null,null,r,i)}this._model.setOption(e,Le),Ce.prepareAndUpdate.call(this),this[be]=!1,this._flushPendingActions(),!n&&this._zr.refreshImmediately()},we.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},we[he]=function(){return this._model},we.getOption=function(){return this._model.getOption()},we[ce]=function(){return this._zr[ce]()},we[ue]=function(){return this._zr[ue]()},we.getRenderedCanvas=function(e){if(g[le]){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,n=t.storage.getDisplayList();return I.each(n,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},we.getDataURL=function(e){e=e||{};var t=e.excludeComponents,n=this._model,i=[],r=this;D(t,function(e){n.eachComponent({mainType:e},function(e){var t=r._componentsMap[e.__viewId];t.group[se]||(i.push(t),t.group[se]=!0)})});var o=this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return D(i,function(e){e.group[se]=!1}),o},we.getConnectedDataURL=function(e){if(g[le]){var t=this.group,n=Math.min,i=Math.max,r=1/0;if(Pe[t]){var o=r,a=r,s=-r,l=-r,u=[],c=e&&e.pixelRatio||1;for(var h in Oe){var d=Oe[h];if(d.group===t){var p=d.getRenderedCanvas(I.clone(e)),f=d.getDom().getBoundingClientRect();o=n(f.left,o),a=n(f.top,a),s=i(f.right,s),l=i(f[ae],l),u.push({dom:p,left:f.left,top:f.top})}}o*=c,a*=c,s*=c,l*=c;var m=s-o,v=l-a,y=I.createCanvas();y.width=m,y[oe]=v;var b=k.init(y);return D(u,function(e){var t=new S.Image({style:{x:e.left*c-o,y:e.top*c-a,image:e.dom}});b.add(t)}),b.refreshImmediately(),y.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}};var Ce={update:function(e){var t=this._model,n=this._api,i=this._coordSysMgr,r=this._zr;if(t){t.restoreData(),i[re](this._model,this._api),s.call(this,t,n),l.call(this,t),i[ie](t,n),c.call(this,t,e),h.call(this,t,e);var o=t.get("backgroundColor")||"transparent",a=r.painter;if(a.isSingleCanvas&&a.isSingleCanvas())r.configLayer(0,{clearColor:o});else{if(!g[le]){var u=M.parse(o);o=M.stringify(u,"rgb"),0===u[3]&&(o="transparent")}o.colorStops||o.image?(r.configLayer(0,{clearColor:o}),this[_e]=!0,this._dom.style.background="transparent"):(this[_e]&&r.configLayer(0,{clearColor:null}),this[_e]=!1,this._dom.style.background=o)}}},updateView:function(e){var t=this._model;t&&(t.eachSeries(function(e){e[xe]().clearAllVisual()}),c.call(this,t,e),o.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(t.eachSeries(function(e){e[xe]().clearAllVisual()}),c.call(this,t,e),o.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(u.call(this,t,e),o.call(this,"updateLayout",t,e))},highlight:function(e){r.call(this,"highlight",e)},downplay:function(e){r.call(this,"downplay",e)},prepareAndUpdate:function(e){var t=this._model;a.call(this,"component",t),a.call(this,"chart",t),Ce[ie].call(this,e)}};we[de]=function(){this[be]=!0,this._zr[de]();var e=this._model&&this._model.resetOption("media");Ce[e?"prepareAndUpdate":ie].call(this),this._loadingFX&&this._loadingFX[de](),this[be]=!1,this._flushPendingActions()};var Se=e("./loading/default");we.showLoading=function(e,t){I[ne](e)&&(t=e,e="default"),this.hideLoading();var n=Se(this._api,t),i=this._zr;this._loadingFX=n,i.add(n)},we.hideLoading=function(){this._loadingFX&&this._zr[te](this._loadingFX),this._loadingFX=null},we.makeActionFromEvent=function(e){var t=I[ee]({},e);return t.type=Me[e.type],t},we.dispatchAction=function(e,t){var n=Ie[e.type];if(n){var i=n.actionInfo,r=i[ie]||ie;if(this[be])return void this._pendingActions.push(e);this[be]=!0;var o=[e],a=!1;e.batch&&(a=!0,o=I.map(e.batch,function(t){return t=I[ye](I[ee]({},t),e),t.batch=null,t}));for(var s,l=[],u="highlight"===e.type||"downplay"===e.type,c=0;c<o[K];c++){var h=o[c];s=n.action(h,this._model),s=s||I[ee]({},h),s.type=i.event||s.type,l.push(s),u&&Ce[r].call(this,h)}"none"!==r&&!u&&Ce[r].call(this,e),s=a?{type:i.event||e.type,batch:l}:l[0],this[be]=!1,!t&&this._messageCenter[J](s.type,s),this._flushPendingActions()}},we._flushPendingActions=function(){for(var e=this._pendingActions;e[K];){var t=e.shift();this.dispatchAction(t)}},we.on=t("on"),we.off=t("off"),we.one=t("one");var ke=["click","dblclick",Z,X,"mousedown","mouseup","globalout"];we._initEvents=function(){D(ke,function(e){this._zr.on(e,function(t){var n=this[he](),i=t.target;if(i&&null!=i[Y]){var r=i.dataModel||n.getSeriesByIndex(i[q]),o=r&&r.getDataParams(i[Y],i.dataType)||{};o.event=t,o.type=e,this[J](e,o)}else i&&i.eventData&&this[J](e,i.eventData)},this)},this),D(Me,function(e,t){this._messageCenter.on(t,function(e){this[J](t,e)},this)},this)},we.isDisposed=function(){return this._disposed},we.clear=function(){this.setOption({},!0)},we.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._api,t=this._model;D(this._componentsViews,function(n){n.dispose(t,e)}),D(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Oe[this.id]}},I.mixin(i,T);var Ie=[],Me={},Te=[],Le=[],De=[],Be={},Oe={},Pe={},Ee=new Date-0,ze=new Date-0,Re="_echarts_instance_",$e={version:"3.2.2",dependencies:{zrender:"3.1.2"}};$e.init=function(e,t,n){var r=new i(e,t,n);return r.id="ec_"+Ee++,Oe[r.id]=r,e.setAttribute&&e.setAttribute(Re,r.id),m(r),r},$e.connect=function(e){if(I[H](e)){var t=e;e=null,I.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+ze++,I.each(t,function(t){t.group=e})}return Pe[e]=!0,e},$e.disConnect=function(e){Pe[e]=!1},$e.dispose=function(e){I.isDom(e)?e=$e.getInstanceByDom(e):typeof e===fe&&(e=Oe[e]),e instanceof i&&!e.isDisposed()&&e.dispose()},$e.getInstanceByDom=function(e){var t=e.getAttribute(Re);return Oe[t]},$e.getInstanceById=function(e){return Oe[e]},$e.registerTheme=function(e,t){Be[e]=t},$e.registerPreprocessor=function(e){Le.push(e)},$e.registerProcessor=function(e,t){typeof e===G&&(t=e,e=B),Te.push({prio:e,func:t})},$e.registerAction=function(e,t,n){typeof t===G&&(n=t,t="");var i=I[ne](e)?e.type:[e,e={event:t}][0];e.event=(e.event||i)[ge](),t=e.event,Ie[i]||(Ie[i]={action:n,actionInfo:e}),Me[t]=i},$e.registerCoordinateSystem=function(e,t){b.register(e,t)},$e.registerLayout=function(e,t){typeof e===G&&(t=e,e=P),De.push({prio:e,func:t,isLayout:!0})},$e.registerVisual=function(e,t){typeof e===G&&(t=e,e=z),De.push({prio:e,func:t})};var Ne=x.parseClassType;return $e.extendComponentModel=function(e,t){var n=x;if(t){var i=Ne(t);n=x.getClass(i.main,i.sub,!0)}return n[ee](e)},$e.extendComponentView=function(e,t){var n=w;if(t){var i=Ne(t);n=w.getClass(i.main,i.sub,!0)}return n[ee](e)},$e.extendSeriesModel=function(e,t){var n=A;if(t){t="series."+t.replace("series.","");var i=Ne(t);n=A.getClass(i.main,i.sub,!0)}return n[ee](e)},$e.extendChartView=function(e,t){var n=C;if(t){t.replace("series.","");var i=Ne(t);n=C.getClass(i.main,!0)}return C[ee](e)},$e.setCanvasCreator=function(e){I.createCanvas=e},$e.registerVisual(E,e("./visual/seriesColor")),$e.registerPreprocessor(e("./preprocessor/backwardCompat")),$e.registerAction({type:"highlight",event:"highlight",update:"highlight"},I.noop),$e.registerAction({type:"downplay",event:"downplay",update:"downplay"},I.noop),$e.List=e("./data/List"),$e.Model=e("./model/Model"),$e.graphic=e("./util/graphic"),$e[V]=e("./util/number"),$e.format=e("./util/format"),$e.matrix=e("zrender/core/matrix"),$e.vector=e(ve),$e.color=e("zrender/tool/color"),$e.util={},D(["map","each",j,F,N,"reduce",j,"bind","curry",H,"isString",ne,"isFunction",ee,ye],function(e){$e.util[e]=I[e]}),$e.PRIORITY={PROCESSOR:{FILTER:B,STATISTIC:O},VISUAL:{LAYOUT:P,GLOBAL:E,CHART:z,COMPONENT:R,BRUSH:$}},$e}),t("echarts/component/title",[we,"../echarts","../util/graphic","../util/layout"],function(e){var t=e("../echarts"),n=e("../util/graphic"),i=e("../util/layout");t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(e,t,r){if(this.group[_e](),e.get("show")){var o=this.group,a=e[he]($),s=e[he]("subtextStyle"),l=e.get(R),u=e.get("textBaseline"),c=new n.Text({style:{text:e.get("text"),textFont:a[z](),fill:a[E]()},z2:10}),h=c[P](),d=e.get("subtext"),p=new n.Text({style:{text:d,textFont:s[z](),fill:s[E](),y:h[oe]+e.get("itemGap"),textBaseline:"top"},z2:10}),f=e.get("link"),m=e.get("sublink");c.silent=!f,p.silent=!m,f&&c.on("click",function(){window.open(f,"_"+e.get("target"))}),m&&p.on("click",function(){window.open(m,"_"+e.get("subtarget"))}),o.add(c),d&&o.add(p);var g=o[P](),v=e.getBoxLayoutParams();v.width=g.width,v[oe]=g[oe];var y=i.getLayoutRect(v,{width:r[ce](),height:r[ue]()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l===O&&(l=B),"right"===l?y.x+=y.width:l===B&&(y.x+=y.width/2)),u||(u=e.get("top")||e.get(ae),u===B&&(u=O),u===ae?y.y+=y[oe]:u===O&&(y.y+=y[oe]/2),u=u||"top"),o.attr(D,[y.x,y.y]);var b={textAlign:l,textVerticalAlign:u};c[W](b),p[W](b),g=o[P]();var _=y.margin,x=e.getItemStyle(["color",L]);x.fill=e.get("backgroundColor");var A=new n.Rect({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g[oe]+_[0]+_[2]},style:x,silent:!0});n.subPixelOptimizeRect(A),o.add(A)}}})}),t("echarts/component/tooltip",[we,"./tooltip/TooltipModel","./tooltip/TooltipView","../echarts"],function(e){e("./tooltip/TooltipModel"),e("./tooltip/TooltipView"),e("../echarts").registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),e("../echarts").registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})}),t("echarts/component/legend",[we,"./legend/LegendModel","./legend/legendAction","./legend/LegendView","../echarts","./legend/legendFilter"],function(e){e("./legend/LegendModel"),e("./legend/legendAction"),e("./legend/LegendView");var t=e("../echarts");t.registerProcessor(e("./legend/legendFilter"))}),t("zrender/vml/vml",[we,"./graphic","../zrender","./Painter"],function(e){e("./graphic"),e("../zrender").registerPainter("vml",e("./Painter"))}),t("echarts/scale/Log",[we,Ae,"./Scale","../util/number","./Interval"],function(e){var t=e(Ae),n=e("./Scale"),i=e("../util/number"),r=e("./Interval"),o=n[me],a=r[me],s=Math.floor,l=Math.ceil,u=Math.pow,c=10,h=Math.log,d=n[ee]({type:"log",getTicks:function(){return t.map(a.getTicks.call(this),function(e){return i.round(u(c,e))})},getLabel:a.getLabel,scale:function(e){return e=o.scale.call(this,e),u(c,e)},setExtent:function(e,t){e=h(e)/h(c),t=h(t)/h(c),a.setExtent.call(this,e,t)},getExtent:function(){var e=o[T].call(this);return e[0]=u(c,e[0]),e[1]=u(c,e[1]),e},unionExtent:function(e){e[0]=h(e[0])/h(c),e[1]=h(e[1])/h(c),o.unionExtent.call(this,e)},niceTicks:function(e){e=e||10;var t=this[M],n=t[1]-t[0];if(!(1/0===n||0>=n)){var r=u(10,s(h(n/e)/Math.LN10)),o=e/n*r;.5>=o&&(r*=10);var a=[i.round(l(t[0]/r)*r),i.round(s(t[1]/r)*r)];this._interval=r,this._niceExtent=a}},niceExtent:a.niceExtent});return t.each([I,"normalize"],function(e){d[me][e]=function(t){return t=h(t)/h(c),o[e].call(this,t)}}),d[re]=function(){return new d},d}),t("echarts/visual/symbol",[we],function(){return function(e,t,n,i){i.eachRawSeriesByType(e,function(e){var r=e[xe](),o=e.get("symbol")||t,a=e.get("symbolSize");r.setVisual({legendSymbol:n||o,symbol:o,symbolSize:a}),i.isSeriesFiltered(e)||(typeof a===G&&r.each(function(t){var n=e.getRawValue(t),i=e.getDataParams(t);r.setItemVisual(t,"symbolSize",a(n,i))}),r.each(function(e){var t=r[k](e),n=t[S]("symbol",!0),i=t[S]("symbolSize",!0);null!=n&&r.setItemVisual(e,"symbol",n),null!=i&&r.setItemVisual(e,"symbolSize",i)}))})}}),t("echarts/chart/line/LineSeries",[we,"../helper/createListFromArray","../../model/Series"],function(e){var t=e("../helper/createListFromArray"),n=e("../../model/Series");return n[ee]({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,n){return t(e.data,this,n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})}),t("echarts/scale/Time",[we,Ae,"../util/number","../util/format","./Interval"],function(e){var t=e(Ae),n=e("../util/number"),i=e("../util/format"),r=e("./Interval"),o=r[me],a=Math.ceil,s=Math.floor,l=1e3,u=60*l,c=60*u,h=24*c,d=function(e,t,n,i){for(;i>n;){var r=n+i>>>1;e[r][2]<t?n=r+1:i=r}return n},p=r[ee]({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return i.formatTime(t[0],n)},niceExtent:function(e,t,i){var r=this[M];if(r[0]===r[1]&&(r[0]-=h,r[1]+=h),r[1]===-1/0&&1/0===r[0]){var o=new Date;r[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),r[0]=r[1]-h}this.niceTicks(e);var l=this._interval;t||(r[0]=n.round(s(r[0]/l)*l)),i||(r[1]=n.round(a(r[1]/l)*l))},niceTicks:function(e){e=e||10;var t=this[M],i=t[1]-t[0],r=i/e,o=f[K],l=d(f,r,0,o),u=f[Math.min(l,o-1)],c=u[2];if("year"===u[0]){var h=i/c,p=n.nice(h/e,!0);c*=p}var m=[a(t[0]/c)*c,s(t[1]/c)*c];this._stepLvl=u,this._interval=c,this._niceExtent=m},parse:function(e){return+n.parseDate(e)}});t.each([I,"normalize"],function(e){p[me][e]=function(t){return o[e].call(this,this.parse(t))}});var f=[["hh:mm:ss",1,l],["hh:mm:ss",5,5*l],["hh:mm:ss",10,10*l],["hh:mm:ss",15,15*l],["hh:mm:ss",30,30*l],["hh:mm\nMM-dd",1,u],["hh:mm\nMM-dd",5,5*u],["hh:mm\nMM-dd",10,10*u],["hh:mm\nMM-dd",15,15*u],["hh:mm\nMM-dd",30,30*u],["hh:mm\nMM-dd",1,c],["hh:mm\nMM-dd",2,2*c],["hh:mm\nMM-dd",6,6*c],["hh:mm\nMM-dd",12,12*c],["MM-dd\nyyyy",1,h],["week",7,7*h],["month",1,31*h],["quarter",3,380*h/4],["half-year",6,380*h/2],["year",1,380*h]];return p[re]=function(){return new p},p}),t(Ae,[we],function(){function e(t){if("object"==typeof t&&null!==t){var n=t;if(t instanceof Array){n=[];for(var i=0,r=t[K];r>i;i++)n[i]=e(t[i])}else if(!S(t)&&!k(t)){n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]))}return n}return t}function t(n,i,r){if(!x(i)||!x(n))return r?e(i):n;for(var o in i)if(i.hasOwnProperty(o)){var a=n[o],s=i[o];!x(s)||!x(a)||y(s)||y(a)||k(s)||k(a)||S(s)||S(a)?!r&&o in n||(n[o]=e(i[o],!0)):t(a,s,r)}return n}function n(e,n){for(var i=e[0],r=1,o=e[K];o>r;r++)i=t(i,e[r],n);return i}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function r(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function o(){return document[C](pe)}function a(){return L||(L=N.createCanvas()[w]("2d")),L}function s(e,t){if(e){if(e[F])return e[F](t);for(var n=0,i=e[K];i>n;n++)if(e[n]===t)return n}return-1}function l(e,t){function n(){}var i=e[me];n[me]=t[me],e[me]=new n;for(var r in i)e[me][r]=i[r];e[me].constructor=e,e.superClass=t}function u(e,t,n){e=me in e?e[me]:e,t=me in t?t[me]:t,r(e,t,n)}function c(e){return e?typeof e!=fe&&typeof e[K]==V:void 0}function h(e,t,n){if(e&&t)if(e.forEach&&e.forEach===P)e.forEach(t,n);else if(e[K]===+e[K])for(var i=0,r=e[K];r>i;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function d(e,t,n){if(e&&t){if(e.map&&e.map===R)return e.map(t,n);for(var i=[],r=0,o=e[K];o>r;r++)i.push(t.call(n,e[r],r,e));return i}}function p(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===$)return e.reduce(t,n,i);for(var r=0,o=e[K];o>r;r++)n=t.call(i,n,e[r],r,e);return n}}function f(e,t,n){if(e&&t){if(e[j]&&e[j]===E)return e[j](t,n);for(var i=[],r=0,o=e[K];o>r;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}}function m(e,t,n){if(e&&t)for(var i=0,r=e[K];r>i;i++)if(t.call(n,e[i],i,e))return e[i]}function g(e,t){var n=z.call(arguments,2);return function(){return e.apply(t,n[A](z.call(arguments)))}}function v(e){var t=z.call(arguments,1);return function(){return e.apply(this,t[A](z.call(arguments)))}}function y(e){return"[object Array]"===B.call(e)}function b(e){return typeof e===G}function _(e){return"[object String]"===B.call(e)}function x(e){var t=typeof e;return t===G||!!e&&"object"==t}function S(e){return!!D[B.call(e)]}function k(e){return e&&1===e.nodeType&&typeof e.nodeName==fe}function I(){for(var e=0,t=arguments[K];t>e;e++)if(null!=arguments[e])return arguments[e]}function M(){return Function.call.apply(z,arguments)}function T(e,t){if(!e)throw new Error(t)}var L,D={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1},B=Object[me].toString,O=Array[me],P=O.forEach,E=O[j],z=O.slice,R=O.map,$=O.reduce,N={inherits:l,mixin:u,clone:e,merge:t,mergeAll:n,extend:i,defaults:r,getContext:a,createCanvas:o,indexOf:s,slice:M,find:m,isArrayLike:c,each:h,map:d,reduce:p,filter:f,bind:g,curry:v,isArray:y,isString:_,isObject:x,isFunction:b,isBuildInObject:S,isDom:k,retrieve:I,assert:T,noop:function(){}};return N}),t("echarts/layout/points",[we],function(){return function(e,t){t.eachSeriesByType(e,function(e){var t=e[xe](),n=e[be];if(n){var i=n.dimensions;"singleAxis"===n.type?t.each(i[0],function(e,i){t.setItemLayout(i,isNaN(e)?[NaN,NaN]:n.dataToPoint(e))}):t.each(i,function(e,i,r){t.setItemLayout(r,isNaN(e)||isNaN(i)?[NaN,NaN]:n.dataToPoint([e,i]))},!0)}})}}),t("echarts/chart/line/LineView",[we,Ae,"../helper/SymbolDraw","../helper/Symbol","./lineAnimationDiff",x,"./poly","../../view/Chart"],function(e){function t(e,t){if(e[K]===t[K]){for(var n=0;n<e[K];n++){var i=e[n],r=t[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function n(e){return typeof e===V?e:e?.3:0}function i(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function r(e){return e>=0?1:-1}function o(e,t){var n=e.getBaseAxis(),i=e.getOtherAxis(n),o=n.onZero?0:i.scale[T]()[0],a=i.dim,s="x"===a||a===_?1:0;return t.mapArray([a],function(i,l){for(var u,c=t.stackedOn;c&&r(c.get(a,l))===r(i);){u=c;break}var h=[];return h[s]=t.get(n.dim,l),h[1-s]=u?u.get(a,l,!0):o,e.dataToPoint(h)},!0)}function a(e,t){return null!=t[Y]?t[Y]:null!=t.name?e.indexOfName(t.name):void 0}function s(e,t,n){var r=i(e.getAxis("x")),o=i(e.getAxis("y")),a=e.getBaseAxis().isHorizontal(),s=Math.min(r[0],r[1]),l=Math.min(o[0],o[1]),u=Math.max(r[0],r[1])-s,c=Math.max(o[0],o[1])-l,h=n.get("lineStyle.normal.width")||2,d=n.get("clipOverflow")?h/2:Math.max(u,c);a?(l-=d,c+=2*d):(s-=d,u+=2*d);var p=new C.Rect({shape:{x:s,y:l,width:u,height:c}});return t&&(p.shape[a?"width":oe]=0,C.initProps(p,{shape:{width:u,height:c}},n)),p}function l(e,t,n){var i=e.getAngleAxis(),r=e.getRadiusAxis(),o=r[T](),a=i[T](),s=Math.PI/180,l=new C.Sector({shape:{cx:e.cx,cy:e.cy,r0:o[0],r:o[1],startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return t&&(l.shape.endAngle=-a[0]*s,C.initProps(l,{shape:{endAngle:-a[1]*s}},n)),l}function u(e,t,n){return"polar"===e.type?l(e,t,n):s(e,t,n)}function c(e,t,n){for(var i=t.getBaseAxis(),r="x"===i.dim||i.dim===_?0:1,o=[],a=0;a<e[K]-1;a++){var s=e[a+1],l=e[a];o.push(l);var u=[];switch(n){case"end":u[r]=s[r],u[1-r]=l[1-r],o.push(u);break;case O:var c=(l[r]+s[r])/2,h=[];u[r]=h[r]=c,u[1-r]=l[1-r],h[1-r]=s[1-r],o.push(u),o.push(h);break;default:u[r]=l[r],u[1-r]=s[1-r],o.push(u)}}return e[a]&&o.push(e[a]),o}function h(e,t){return Math.max(Math.min(e,t[1]),t[0])}function d(e,t){var n=e.getVisual("visualMeta");if(n&&n[K]){for(var i,r=n[K]-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(i&&"cartesian2d"===t.type){var o=i.dimension,a=e.dimensions[o],s=e.getDataExtent(a),l=i.stops,u=[];l[0].interval&&l.sort(function(e,t){return e.interval[0]-t.interval[0]});var c=l[0],d=l[l[K]-1],p=c.interval?h(c.interval[0],s):c.value,f=d.interval?h(d.interval[1],s):d.value,m=f-p;if(0===m)return e[b](0,"color");for(var r=0;r<l[K];r++)if(l[r].interval){if(l[r].interval[1]===l[r].interval[0])continue;u.push({offset:(h(l[r].interval[0],s)-p)/m,color:l[r].color},{offset:(h(l[r].interval[1],s)-p)/m,color:l[r].color})}else u.push({offset:(l[r].value-p)/m,color:l[r].color});var g=new C.LinearGradient(0,0,0,0,u,(!0)),v=t.getAxis(a),y=Math.round(v.toGlobalCoord(v.dataToCoord(p))),_=Math.round(v.toGlobalCoord(v.dataToCoord(f)));return g[a]=y,g[a+"2"]=_,g}}}var p=e(Ae),f=e("../helper/SymbolDraw"),A=e("../helper/Symbol"),w=e("./lineAnimationDiff"),C=e(x),S=e("./poly"),k=e("../../view/Chart");return k[ee]({type:"line",init:function(){var e=new C.Group,t=new f;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,i,r){var a=e[be],s=this.group,l=e[xe](),h=e[he]("lineStyle.normal"),f=e[he]("areaStyle.normal"),m=l.mapArray(l[y],!0),g="polar"===a.type,b=this._coordSys,_=this._symbolDraw,x=this._polyline,A=this._polygon,w=this._lineGroup,C=e.get(v),S=!f.isEmpty(),k=o(a,l),I=e.get("showSymbol"),M=I&&!g&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,a),T=this._data;T&&T.eachItemGraphicEl(function(e,t){e.__temp&&(s[te](e),T.setItemGraphicEl(t,null))}),I||_[te](),s.add(w);var L=!g&&e.get("step");x&&b.type===a.type&&L===this._step?(S&&!A?A=this._newPolygon(m,k,a,C):A&&!S&&(w[te](A),A=this._polygon=null),w.setClipPath(u(a,!1,e)),I&&_.updateData(l,M),l.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),t(this._stackedOnPoints,k)&&t(this._points,m)||(C?this._updateAnimation(l,k,a,r,L):(x.setShape({points:m}),A&&A.setShape({points:m,stackedOnPoints:k})))):(I&&_.updateData(l,M),L&&(m=c(m,a,L),k=c(k,a,L)),x=this._newPolyline(m,a,C),S&&(A=this._newPolygon(m,k,a,C)),w.setClipPath(u(a,!0,e)));var D=d(l,a)||l.getVisual("color");x.useStyle(p[ye](h.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"}));var B=e.get("smooth");if(B=n(e.get("smooth")),x.setShape({smooth:B,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),A){var O=l.stackedOn,P=0;if(A.useStyle(p[ye](f.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel"})),O){var E=O.hostModel;P=n(E.get("smooth"))}A.setShape({smooth:B,
stackedOnSmooth:P,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=l,this._coordSys=a,this._stackedOnPoints=k,this._points=m,this._step=L},highlight:function(e,t,n,i){var r=e[xe](),o=a(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var s=r[g](o);if(!s){var l=r[y](o);s=new A(r,o),s[D]=l,s.setZ(e.get(U),e.get("z")),s[se]=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else k[me].highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var r=e[xe](),o=a(r,i);if(null!=o&&o>=0){var s=r[g](o);s&&(s.__temp?(r.setItemGraphicEl(o,null),this.group[te](s)):s.downplay())}else k[me].downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup[te](t),t=new S.Polyline({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup[te](n),n=new S.Polygon({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale(m)[0];return n&&n.isLabelIgnored?p.bind(n.isLabelIgnored,n):void 0},_updateAnimation:function(e,t,n,i,r){var o=this._polyline,a=this._polygon,s=e.hostModel,l=w(this._data,e,this._stackedOnPoints,t,this._coordSys,n),u=l.current,h=l.stackedOnCurrent,d=l.next,p=l.stackedOnNext;r&&(u=c(l.current,n,r),h=c(l.stackedOnCurrent,n,r),d=c(l.next,n,r),p=c(l.stackedOnNext,n,r)),o.shape.__points=l.current,o.shape.points=u,C.updateProps(o,{shape:{points:d}},s),a&&(a.setShape({points:u,stackedOnPoints:h}),C.updateProps(a,{shape:{points:d,stackedOnPoints:p,__points:l.next}},s));for(var f=[],m=l.status,v=0;v<m[K];v++){var y=m[v].cmd;if("="===y){var b=e[g](m[v].idx1);b&&f.push({el:b,ptIdx:v})}}o.animators&&o.animators[K]&&o.animators[0].during(function(){for(var e=0;e<f[K];e++){var t=f[e].el;t.attr(D,o.shape.__points[f[e].ptIdx])}})},remove:function(){var e=this.group,t=this._data;this._lineGroup[_e](),this._symbolDraw[te](!0),t&&t.eachItemGraphicEl(function(n,i){n.__temp&&(e[te](n),t.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})}),t("echarts/processor/dataSample",[],function(){var e={average:function(e){for(var t=0,n=0,i=0;i<e[K];i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e[K];n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e[K];n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e[K];n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},t=function(e){return Math.round(e[K]/2)};return function(n,i){i.eachSeriesByType(n,function(n){var i=n[xe](),r=n.get("sampling"),o=n[be];if("cartesian2d"===o.type&&r){var a=o.getBaseAxis(),s=o.getOtherAxis(a),l=a[T](),u=l[1]-l[0],c=Math.round(i.count()/u);if(c>1){var h;typeof r===fe?h=e[r]:typeof r===G&&(h=r),h&&(i=i.downSample(s.dim,1/c,h,t),n.setData(i))}}},this)}}),t("echarts/coord/cartesian/Grid",[we,"exports","../../util/layout","../../coord/axisHelper",Ae,"./Cartesian2D","./Axis2D","./GridModel","../../CoordinateSystem"],function(e){function t(e,t,n){return n.getComponent("grid",e.get("gridIndex"))===t}function n(e){var t,n=e.model,i=n.getFormattedLabels(),r=1,o=i[K];o>40&&(r=Math.ceil(o/40));for(var a=0;o>a;a+=r)if(!e.isLabelIgnored(a)){var s=n.getTextRect(i[a]);t?t.union(s):t=s}return t}function i(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this._model=e}function r(e,t){var n=e[T](),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}var o=e("../../util/layout"),a=e("../../coord/axisHelper"),s=e(Ae),l=e("./Cartesian2D"),u=e("./Axis2D"),c=s.each,h=a.ifAxisCrossZero,d=a.niceScaleExtent;e("./GridModel");var p=i[me];return p.type="grid",p.getRect=function(){return this._rect},p[ie]=function(e,t){function n(e){var t=i[e];for(var n in t){var r=t[n];if(r&&(r.type===f||!h(r)))return!0}return!1}var i=this._axesMap;this._updateScale(e,this._model),c(i.x,function(e){d(e,e.model)}),c(i.y,function(e){d(e,e.model)}),c(i.x,function(e){n("y")&&(e.onZero=!1)}),c(i.y,function(e){n("x")&&(e.onZero=!1)}),this[de](this._model,t)},p[de]=function(e,t){function i(){c(s,function(e){var t=e.isHorizontal(),n=t?[0,a.width]:[0,a[oe]],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),r(e,t?a.x:a.y)})}var a=o.getLayoutRect(e.getBoxLayoutParams(),{width:t[ce](),height:t[ue]()});this._rect=a;var s=this._axesList;i(),e.get("containLabel")&&(c(s,function(e){if(!e.model.get("axisLabel.inside")){var t=n(e);if(t){var i=e.isHorizontal()?oe:"width",r=e.model.get("axisLabel.margin");a[i]-=t[i]+r,"top"===e[D]?a.y+=t[oe]+r:"left"===e[D]&&(a.x+=t.width+r)}}}),i())},p.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)return n[i];return n[t]}},p.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}for(var i=0,r=this._coordsList;i<r[K];i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},p._initCartesian=function(e,n){function i(i){return function(l,c){if(t(l,e,n)){var h=l.get(D);"x"===i?"top"!==h&&h!==ae&&(h=ae,r[h]&&(h="top"===h?ae:"top")):"left"!==h&&"right"!==h&&(h="left",r[h]&&(h="left"===h?"right":"left")),r[h]=!0;var d=new u(i,a.createScaleByModel(l),[0,0],l.get("type"),h),p=d.type===f;d.onBand=p&&l.get("boundaryGap"),d.inverse=l.get("inverse"),d.onZero=l.get("axisLine.onZero"),l.axis=d,d.model=l,d.grid=this,d.index=c,this._axesList.push(d),o[i][c]=d,s[i]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};return n.eachComponent("xAxis",i("x"),this),n.eachComponent("yAxis",i("y"),this),s.x&&s.y?(this._axesMap=o,void c(o.x,function(e,t){c(o.y,function(n,i){var r="x"+t+"y"+i,o=new l(r);o.grid=this,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(n)},this)},this)):(this._axesMap={},void(this._axesList=[]))},p._updateScale=function(e,n){function i(e,t,n){c(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtent(e.getDataExtent(n,t.scale.type!==m))})}s.each(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(r){if("cartesian2d"===r.get(be)){var o=r.get("xAxisIndex"),a=r.get("yAxisIndex"),s=e.getComponent("xAxis",o),l=e.getComponent("yAxis",a);if(!t(s,n,e)||!t(l,n,e))return;var u=this.getCartesian(o,a),c=r[xe](),h=u.getAxis("x"),d=u.getAxis("y");"list"===c.type&&(i(c,h,r),i(c,d,r))}},this)},i[re]=function(e,t){var n=[];return e.eachComponent("grid",function(r,o){var a=new i(r,e,t);a.name="grid_"+o,a[de](r,t),r[be]=a,n.push(a)}),e.eachSeries(function(t){if("cartesian2d"===t.get(be)){var i=t.get("xAxisIndex"),r=t.get("yAxisIndex"),o=e.getComponent("xAxis",i),a=n[o.get("gridIndex")];t[be]=a.getCartesian(i,r)}}),n},i.dimensions=l[me].dimensions,e("../../CoordinateSystem").register("cartesian2d",i),i}),t("echarts/chart/bar/BarSeries",[we,"../../model/Series","../helper/createListFromArray"],function(e){var t=e("../../model/Series"),n=e("../helper/createListFromArray");return t[ee]({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(e,t){return n(e.data,this,t)},getMarkerPosition:function(e){var t=this[be];if(t){var n=t.dataToPoint(e,!0),i=this[xe](),r=i.getLayout("offset"),o=i.getLayout("size"),a=t.getBaseAxis().isHorizontal()?0:1;return n[a]+=r+o/2,n}return[NaN,NaN]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})}),t("echarts/layout/barGrid",[we,Ae,"../util/number"],function(e){function t(e){return e.get("stack")||"__ec_stack_"+e[q]}function n(e){return e.dim+e.index}function i(e){var i={};o.each(e,function(e){var r=e[xe](),o=e[be],a=o.getBaseAxis(),l=a[T](),u=a.type===f?a.getBandWidth():Math.abs(l[1]-l[0])/r.count(),c=i[n(a)]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=c.stacks;i[n(a)]=c;var d=t(e);h[d]||c.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var p=s(e.get("barWidth"),u),m=s(e.get("barMaxWidth"),u),g=e.get("barGap"),v=e.get("barCategoryGap");p&&!h[d].width&&(p=Math.min(c.remainedWidth,p),h[d].width=p,c.remainedWidth-=p),m&&(h[d].maxWidth=m),null!=g&&(c.gap=g),null!=v&&(c.categoryGap=v)});var r={};return o.each(i,function(e,t){r[t]={};var n=e.stacks,i=e.bandWidth,a=s(e.categoryGap,i),l=s(e.gap,1),u=e.remainedWidth,c=e.autoWidthCount,h=(u-a)/(c+(c-1)*l);h=Math.max(h,0),o.each(n,function(e){var t=e.maxWidth;!e.width&&t&&h>t&&(t=Math.min(t,u),u-=t,e.width=t,c--)}),h=(u-a)/(c+(c-1)*l),h=Math.max(h,0);var d,p=0;o.each(n,function(e){e.width||(e.width=h),d=e,p+=e.width*(1+l)}),d&&(p-=d.width*l);var f=-p/2;o.each(n,function(e,n){r[t][n]=r[t][n]||{offset:f,width:e.width},f+=e.width*(1+l)})}),r}function r(e,r){var a=i(o[j](r.getSeriesByType(e),function(e){return!r.isSeriesFiltered(e)&&e[be]&&"cartesian2d"===e[be].type})),s={};r.eachSeriesByType(e,function(e){var i=e[xe](),r=e[be],o=r.getBaseAxis(),l=t(e),u=a[n(o)][l],c=u.offset,h=u.width,d=r.getOtherAxis(o),p=e.get("barMinHeight")||0,f=o.onZero?d.toGlobalCoord(d.dataToCoord(0)):d.getGlobalExtent()[0],m=r.dataToPoints(i,!0);s[l]=s[l]||[],i.setLayout({offset:c,size:h}),i.each(d.dim,function(e,t){if(!isNaN(e)){s[l][t]||(s[l][t]={p:f,n:f});var n,r,o,a,u=e>=0?"p":"n",g=m[t],v=s[l][t][u];d.isHorizontal()?(n=v,r=g[1]+c,o=g[0]-v,a=h,Math.abs(o)<p&&(o=(0>o?-1:1)*p),s[l][t][u]+=o):(n=g[0]+c,r=v,o=h,a=g[1]-v,Math.abs(a)<p&&(a=(0>=a?-1:1)*p),s[l][t][u]+=a),i.setItemLayout(t,{x:n,y:r,width:o,height:a})}},!0)},this)}var o=e(Ae),a=e("../util/number"),s=a.parsePercent;return r}),t("echarts/chart/bar/BarView",[we,Ae,x,"../../model/Model","./barItemStyle","../../echarts"],function(e){function t(e,t){var n=e.width>0?1:-1,i=e[oe]>0?1:-1;t=Math.min(t,Math.abs(e.width),Math.abs(e[oe])),e.x+=n*t/2,e.y+=i*t/2,e.width-=n*t,e[oe]-=i*t}var n=e(Ae),i=e(x);return n[ee](e("../../model/Model")[me],e("./barItemStyle")),e("../../echarts").extendChartView({type:"bar",render:function(e,t,n){var i=e.get(be);return"cartesian2d"===i&&this._renderOnCartesian(e,t,n),this.group},_renderOnCartesian:function(e){function r(r,o){var s=a[y](r),l=a[k](r).get(d)||0;t(s,l);var u=new i.Rect({shape:n[ee]({},s)});if(h){var p=u.shape,f=c?oe:"width",m={};p[f]=0,m[f]=s[f],i[o?"updateProps":"initProps"](u,{shape:m},e,r)}return u}var o=this.group,a=e[xe](),s=this._data,l=e[be],u=l.getBaseAxis(),c=u.isHorizontal(),h=e.get(v),d=["itemStyle",p,"barBorderWidth"];a.diff(s).add(function(e){if(a.hasValue(e)){var t=r(e);a.setItemGraphicEl(e,t),o.add(t)}})[ie](function(n,l){var u=s[g](l);if(!a.hasValue(n))return void o[te](u);u||(u=r(n,!0));var c=a[y](n),h=a[k](n).get(d)||0;t(c,h),i.updateProps(u,{shape:c},e,n),a.setItemGraphicEl(n,u),o.add(u)})[te](function(t){var n=s[g](t);n&&(n.style.text="",i.updateProps(n,{shape:{width:0}},e,t,function(){o[te](n)}))}).execute(),this._updateStyle(e,a,c),this._data=a},_updateStyle:function(e,t,r){function o(e,t,n,r,o){i.setText(e,t,n),e.text=r,"outside"===e.textPosition&&(e.textPosition=o)}t.eachItemGraphicEl(function(a,s){var l=t[k](s),u=t[b](s,"color"),c=t[b](s,L),h=t[y](s),d=l[he]("itemStyle.normal"),f=l[he]("itemStyle.emphasis").getBarItemStyle();a.setShape("r",d.get("barBorderRadius")||0),a.useStyle(n[ye]({fill:u,opacity:c},d.getBarItemStyle()));var m=r?h[oe]>0?ae:"top":h.width>0?"left":"right",g=l[he]("label.normal"),v=l[he]("label.emphasis"),_=a.style;g.get("show")?o(_,g,u,n.retrieve(e.getFormattedLabel(s,p),e.getRawValue(s)),m):_.text="",v.get("show")?o(f,v,u,n.retrieve(e.getFormattedLabel(s,"emphasis"),e.getRawValue(s)),m):f.text="",i.setHoverStyle(a,f)})},remove:function(e){var t=this.group;e.get(v)?this._data&&this._data.eachItemGraphicEl(function(n){n.style.text="",i.updateProps(n,{shape:{width:0}},e,n[Y],function(){t[te](n)})}):t[_e]()}})}),t("echarts/chart/pie/PieSeries",[we,"../../data/List",Ae,"../../util/model","../../data/helper/completeDimensions","../../component/helper/selectableMixin","../../echarts"],function(e){var t=e("../../data/List"),n=e(Ae),i=e("../../util/model"),r=e("../../data/helper/completeDimensions"),o=e("../../component/helper/selectableMixin"),a=e("../../echarts").extendSeriesModel({type:"series.pie",init:function(e){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(e.data),this._defaultLabelLine(e)},mergeOption:function(e){a.superCall(this,"mergeOption",e),this.updateSelectedMap(this[d].data)},getInitialData:function(e){var n=r(["value"],e.data),i=new t(n,this);return i.initData(e.data),i},getDataParams:function(e){var t=this._data,n=a.superCall(this,"getDataParams",e),i=t.getSum("value");return n.percent=i?+(t.get("value",e)/i*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(e){i.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine[p],n=e.labelLine.emphasis;t.show=t.show&&e.label[p].show,n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});return n.mixin(a,o),a}),t("echarts/component/axis",[we,"../coord/cartesian/AxisModel","./axis/AxisView"],function(e){e("../coord/cartesian/AxisModel"),e("./axis/AxisView")}),t("echarts/util/graphic",[we,Ae,"zrender/tool/path","zrender/graphic/Path","zrender/tool/color","zrender/core/matrix",ve,"zrender/graphic/Gradient","zrender/container/Group","zrender/graphic/Image","zrender/graphic/Text","zrender/graphic/shape/Circle","zrender/graphic/shape/Sector","zrender/graphic/shape/Ring","zrender/graphic/shape/Polygon","zrender/graphic/shape/Polyline","zrender/graphic/shape/Rect","zrender/graphic/shape/Line","zrender/graphic/shape/BezierCurve","zrender/graphic/shape/Arc","zrender/graphic/CompoundPath","zrender/graphic/LinearGradient","zrender/graphic/RadialGradient","zrender/core/BoundingRect"],function(e){function t(e){return null!=e&&"none"!=e}function n(e){return typeof e===fe?k.lift(e,-.1):e}function i(e){if(e.__hoverStlDirty){var i=e.style[u],r=e.style.fill,o=e.__hoverStl;o.fill=o.fill||(t(r)?n(r):null),o[u]=o[u]||(t(i)?n(i):null);var a={};for(var s in o)o.hasOwnProperty(s)&&(a[s]=e.style[s]);e.__normalStl=a,e.__hoverStlDirty=!1}}function r(e){e.__isHover||(i(e),e.useHoverLayer?e.__zr&&e.__zr.addHover(e,e.__hoverStl):(e[W](e.__hoverStl),e.z2+=1),e.__isHover=!0)}function o(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e[W](t),e.z2-=1),e.__isHover=!1}}function a(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&r(e)}):r(e)}function d(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&o(e)}):o(e)}function f(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&i(e)}function m(){!this.__isEmphasis&&a(this)}function g(){!this.__isEmphasis&&d(this)}function y(){this.__isEmphasis=!0,a(this)}function b(){this.__isEmphasis=!1,d(this)}function _(e,t,n,i,r,o){typeof r===G&&(o=r,r=null);var a=i&&(i.ifEnableAnimation?i.ifEnableAnimation():i[S](v));if(a){var s=e?"Update":"",l=i&&i[S]("animationDuration"+s),u=i&&i[S]("animationEasing"+s),c=i&&i[S]("animationDelay"+s);typeof c===G&&(c=c(r)),l>0?t.animateTo(n,l,c||0,u,o):(t.attr(n),o&&o())}else t.attr(n),o&&o()}var x=e(Ae),A=e("zrender/tool/path"),w=Math.round,C=e("zrender/graphic/Path"),k=e("zrender/tool/color"),I=e("zrender/core/matrix"),M=e(ve),T=(e("zrender/graphic/Gradient"),{});return T.Group=e("zrender/container/Group"),T.Image=e("zrender/graphic/Image"),T.Text=e("zrender/graphic/Text"),T.Circle=e("zrender/graphic/shape/Circle"),T.Sector=e("zrender/graphic/shape/Sector"),T.Ring=e("zrender/graphic/shape/Ring"),T.Polygon=e("zrender/graphic/shape/Polygon"),T.Polyline=e("zrender/graphic/shape/Polyline"),T.Rect=e("zrender/graphic/shape/Rect"),T.Line=e("zrender/graphic/shape/Line"),T.BezierCurve=e("zrender/graphic/shape/BezierCurve"),T.Arc=e("zrender/graphic/shape/Arc"),T.CompoundPath=e("zrender/graphic/CompoundPath"),T.LinearGradient=e("zrender/graphic/LinearGradient"),T.RadialGradient=e("zrender/graphic/RadialGradient"),T.BoundingRect=e("zrender/core/BoundingRect"),T.extendShape=function(e){return C[ee](e)},T.extendPath=function(e,t){return A.extendFromString(e,t)},T.makePath=function(e,t,n,i){var r=A.createFromString(e,t),o=r[P]();if(n){var a=o.width/o[oe];if(i===B){var s,l=n[oe]*a;l<=n.width?s=n[oe]:(l=n.width,s=l/a);var u=n.x+n.width/2,c=n.y+n[oe]/2;n.x=u-l/2,n.y=c-s/2,n.width=l,n[oe]=s}this.resizePath(r,n)}return r},T.mergePath=A.mergePath,T.resizePath=function(e,t){if(e[h]){var n=e[P](),i=n.calculateTransform(t);e[h](i)}},T.subPixelOptimizeLine=function(e){var t=T.subPixelOptimize,n=e.shape,i=e.style[c];return w(2*n.x1)===w(2*n.x2)&&(n.x1=n.x2=t(n.x1,i,!0)),w(2*n.y1)===w(2*n.y2)&&(n.y1=n.y2=t(n.y1,i,!0)),e},T.subPixelOptimizeRect=function(e){var t=T.subPixelOptimize,n=e.shape,i=e.style[c],r=n.x,o=n.y,a=n.width,s=n[oe];return n.x=t(n.x,i,!0),n.y=t(n.y,i,!0),n.width=Math.max(t(r+a,i,!1)-n.x,0===a?0:1),n[oe]=Math.max(t(o+s,i,!1)-n.y,0===s?0:1),e},T.subPixelOptimize=function(e,t,n){var i=w(2*e);return(i+w(t))%2===0?i/2:(i+(n?1:-1))/2},T.setHoverStyle=function(e,t){"group"===e.type?e.traverse(function(e){"group"!==e.type&&f(e,t)}):f(e,t),e.on(Z,m).on(X,g),e.on("emphasis",y).on(p,b)},T.setText=function(e,t,n){var i=t[S](D)||l,r=i[F](l)>=0?"white":n,o=t[he]($);x[ee](e,{textDistance:t[S]("distance")||5,textFont:o[z](),textPosition:i,textFill:o[E]()||r})},T.updateProps=function(e,t,n,i,r){_(!0,e,t,n,i,r)},T.initProps=function(e,t,n,i,r){_(!1,e,t,n,i,r)},T.getTransform=function(e,t){for(var n=I.identity([]);e&&e!==t;)I.mul(n,e.getLocalTransform(),n),e=e.parent;return n},T[h]=function(e,t,n){return n&&(t=I.invert([],t)),M[h]([],e,t)},T.transformDirection=function(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-i:"right"===e?i:0,"top"===e?-r:e===ae?r:0];return o=T[h](o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?ae:"top"},T.groupTransition=function(e,t,n){function i(e){var t={};return e.traverse(function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)}),t}function r(e){var t={position:M.clone(e[D]),rotation:e[s]};return e.shape&&(t.shape=x[ee]({},e.shape)),t}if(e&&t){var o=i(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=o[e.anid];if(t){var i=r(e);e.attr(r(t)),T.updateProps(e,i,n,e[Y])}}})}},T}),t("echarts/action/createDataSelectAction",[we,"../echarts",Ae],function(e){var t=e("../echarts"),n=e(Ae);return function(e,i){n.each(i,function(n){n[ie]="updateView",t.registerAction(n,function(t,i){var r={};return i.eachComponent({mainType:"series",subType:e,query:t},function(e){e[n.method]&&e[n.method](t.name);var i=e[xe]();i.each(function(t){var n=i[a](t);r[n]=e.isSelected(n)||!1})}),{name:t.name,selected:r}})})}}),t("echarts/chart/pie/pieLayout",[we,"../../util/number","./labelLayout",Ae],function(e){var t=e("../../util/number"),n=t.parsePercent,i=e("./labelLayout"),r=e(Ae),o=2*Math.PI,a=Math.PI/180;return function(e,s,l){s.eachSeriesByType(e,function(e){var s=e.get(B),u=e.get(_);r[H](u)||(u=[0,u]),r[H](s)||(s=[s,s]);var c=l[ce](),h=l[ue](),d=Math.min(c,h),p=n(s[0],c),f=n(s[1],h),m=n(u[0],d/2),g=n(u[1],d/2),v=e[xe](),b=-e.get("startAngle")*a,x=e.get("minAngle")*a,A=v.getSum("value"),w=Math.PI/(A||v.count())*2,C=e.get("clockwise"),S=e.get("roseType"),k=v.getDataExtent("value");k[0]=0;var I=o,M=0,T=b,L=C?1:-1;if(v.each("value",function(e,n){var i;i="area"!==S?0===A?w:e*w:o/(v.count()||1),x>i?(i=x,I-=x):M+=e;var r=T+L*i;v.setItemLayout(n,{angle:i,startAngle:T,endAngle:r,clockwise:C,cx:p,cy:f,r0:m,r:S?t.linearMap(e,k,[m,g]):g}),T=r},!0),o>I)if(.001>=I){var D=o/v.count();v.each(function(e){var t=v[y](e);t.startAngle=b+L*e*D,t.endAngle=b+L*(e+1)*D})}else w=I/M,T=b,v.each("value",function(e,t){var n=v[y](t),i=n.angle===x?x:e*w;n.startAngle=T,n.endAngle=T+L*i,T+=i});i(e,g,c,h)})}}),t("echarts/processor/dataFilter",[],function(){return function(e,t){var n=t.findComponents({mainType:"legend"});n&&n[K]&&t.eachSeriesByType(e,function(e){var t=e[xe]();t.filterSelf(function(e){for(var i=t[a](e),r=0;r<n[K];r++)if(!n[r].isSelected(i))return!1;return!0},this)},this)}}),t("zrender/core/env",[],function(){function e(e){var t={},n={},i=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/);return i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1]),{browser:n,os:t,node:!1,canvasSupported:!!document[C](pe)[w],touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=10)}}var t={};return t=typeof navigator===o?{browser:{},os:{},node:!0,canvasSupported:!0}:e(navigator.userAgent)}),t("echarts/CoordinateSystem",[we],function(){function e(){this._coordinateSystems=[]}var t={};return e[me]={constructor:e,create:function(e,n){var i=[];for(var r in t){var o=t[r][re](e,n);o&&(i=i[A](o))}this._coordinateSystems=i},update:function(e,t){for(var n=this._coordinateSystems,i=0;i<n[K];i++)n[i][ie]&&n[i][ie](e,t)}},e.register=function(e,n){t[e]=n},e.get=function(e){return t[e]},e}),t("echarts/model/Global",[we,Ae,"../util/model","./Model","./Component","./globalDefault","./mixin/colorPalette"],function(e){function t(e,t){for(var n in t)b.hasClass(n)||("object"==typeof t[n]?e[n]=e[n]?u.merge(e[n],t[n],!1):u.clone(t[n]):null==e[n]&&(e[n]=t[n]))}function n(e){e=e,this[d]={},this[d][x]=1,this._componentsMap={},this._seriesIndices=null,t(e,this._theme[d]),u.merge(e,_,!1),this.mergeOption(e)}function i(e,t){u[H](t)||(t=t?[t]:[]);var n={};return p(t,function(t){n[t]=(e[t]||[]).slice()}),n}function r(e,t){var n={};p(t,function(e){var t=e.exist;t&&(n[t.id]=e)}),p(t,function(t){var i=t[d];if(u.assert(!i||null==i.id||!n[i.id]||n[i.id]===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&(n[i.id]=t),y(i)){var r=o(e,i,t.exist);t.keyInfo={mainType:e,subType:r}}}),p(t,function(e){var t=e.exist,i=e[d],r=e.keyInfo;if(y(i)){if(r.name=null!=i.name?i.name+"":t?t.name:"\0-",t)r.id=t.id;else if(null!=i.id)r.id=i.id+"";else{var o=0;do r.id="\0"+r.name+"\0"+o++;while(n[r.id])}n[r.id]=e}})}function o(e,t,n){var i=t.type?t.type:n?n.subType:b.determineSubType(e,t);return i}function a(e){return m(e,function(e){return e.componentIndex})||[]}function s(e,t){return t.hasOwnProperty("subType")?f(e,function(e){return e.subType===t.subType}):e}function l(e){}var u=e(Ae),c=e("../util/model"),h=e("./Model"),p=u.each,f=u[j],m=u.map,g=u[H],v=u[F],y=u[ne],b=e("./Component"),_=e("./globalDefault"),x="\0_ec_inner",A=h[ee]({constructor:A,init:function(e,t,n,i){n=n||{},this[d]=null,this._theme=new h(n),this._optionManager=i},setOption:function(e,t){u.assert(!(x in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption()},resetOption:function(e){var t=!1,i=this._optionManager;if(!e||"recreate"===e){var r=i.mountOption("recreate"===e);this[d]&&"recreate"!==e?(this.restoreData(),this.mergeOption(r)):n.call(this,r),t=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=i.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var a=i.getMediaOption(this,this._api);a[K]&&p(a,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){function t(t,s){var l=c.normalizeToArray(e[t]),h=c.mappingToExists(o[t],l);r(t,h);var f=i(o,s);n[t]=[],o[t]=[],p(h,function(e,i){var r=e.exist,a=e[d];if(u.assert(y(a)||r,"Empty component definition"),a){var s=b.getClass(t,e.keyInfo.subType,!0);if(r&&r instanceof s)r.mergeOption(a,this),r.optionUpdated(a,!1);else{var l=u[ee]({dependentModels:f,componentIndex:i},e.keyInfo);r=new s(a,this,this,l),r.init(a,this,this,l),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);o[t][i]=r,n[t][i]=r[d]},this),"series"===t&&(this._seriesIndices=a(o.series))}var n=this[d],o=this._componentsMap,s=[];p(e,function(e,t){null!=e&&(b.hasClass(t)?s.push(t):n[t]=null==n[t]?u.clone(e):u.merge(n[t],e,!0))}),b.topologicalTravel(s,b.getAllClassMainTypes(),t,this)},getOption:function(){var e=u.clone(this[d]);return p(e,function(t,n){if(b.hasClass(n)){for(var t=c.normalizeToArray(t),i=t[K]-1;i>=0;i--)c.isIdInner(t[i])&&t[Q](i,1);e[n]=t}}),delete e[x],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap[e];return n?n[t||0]:void 0},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,i=e.id,r=e.name,o=this._componentsMap[t];if(!o||!o[K])return[];var a;if(null!=n)g(n)||(n=[n]),a=f(m(n,function(e){return o[e]}),function(e){return!!e});else if(null!=i){var l=g(i);a=f(o,function(e){return l&&v(i,e.id)>=0||!l&&e.id===i})}else if(null!=r){var u=g(r);a=f(o,function(e){return u&&v(r,e.name)>=0||!u&&e.name===r})}return s(a,e)},findComponents:function(e){function t(e){var t=r+"Index",n=r+"Id",i=r+"Name";return e&&(e.hasOwnProperty(t)||e.hasOwnProperty(n)||e.hasOwnProperty(i))?{mainType:r,index:e[t],id:e[n],name:e[i]}:null}function n(t){return e[j]?f(t,e[j]):t}var i=e.query,r=e.mainType,o=t(i),a=o?this.queryComponents(o):this._componentsMap[r];return n(s(a,e))},eachComponent:function(e,t,n){var i=this._componentsMap;if(typeof e===G)n=t,t=e,p(i,function(e,i){p(e,function(e,r){t.call(n,i,e,r)})});else if(u.isString(e))p(i[e],t,n);else if(y(e)){var r=this.findComponents(e);p(r,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.series;return f(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.series[e]},getSeriesByType:function(e){var t=this._componentsMap.series;return f(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(e,t){l(this),p(this._seriesIndices,function(n){var i=this._componentsMap.series[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){p(this._componentsMap.series,e,t)},eachSeriesByType:function(e,t,n){l(this),p(this._seriesIndices,function(i){var r=this._componentsMap.series[i];r.subType===e&&t.call(n,r,i)},this)},eachRawSeriesByType:function(e,t,n){return p(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return l(this),u[F](this._seriesIndices,e.componentIndex)<0},filterSeries:function(e,t){l(this);var n=f(this._componentsMap.series,e,t);this._seriesIndices=a(n)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=a(e.series);var t=[];p(e,function(e,n){t.push(n)}),b.topologicalTravel(t,b.getAllClassMainTypes(),function(t){p(e[t],function(e){e.restoreData()})})}});return u.mixin(A,e("./mixin/colorPalette")),A}),t("echarts/ExtensionAPI",[we,Ae],function(e){function t(e){n.each(i,function(t){this[t]=n.bind(e[t],e)},this)}var n=e(Ae),i=["getDom","getZr",ce,ue,"dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL",he,"getOption"];return t}),t("echarts/model/OptionManager",[we,Ae,"../util/model","./Component"],function(e){function t(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function n(e,t,n){var i,r,o=[],a=[],l=e.timeline;if(e.baseOption&&(r=e.baseOption),(l||e.options)&&(r=r||{},o=(e.options||[]).slice()),e.media){r=r||{};var u=e.media;c(u,function(e){e&&e[d]&&(e.query?a.push(e):i||(i=e))})}return r||(r=e),r.timeline||(r.timeline=l),c([r][A](o)[A](s.map(a,function(e){return e[d]})),function(e){c(t,function(t){t(e,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function i(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return s.each(e,function(e,t){var n=t.match(m);if(n&&n[1]&&n[2]){var a=n[1],s=n[2][ge]();r(i[s],e,a)||(o=!1)}}),o}function r(e,t,n){return"min"===n?e>=t:"max"===n?t>=e:e===t}function o(e,t){return e.join(",")===t.join(",")}function a(e,t){t=t||{},c(t,function(t,n){if(null!=t){var i=e[n];if(u.hasClass(n)){t=l.normalizeToArray(t),i=l.normalizeToArray(i);var r=l.mappingToExists(i,t);e[n]=p(r,function(e){return e[d]&&e.exist?f(e.exist,e[d],!0):e.exist||e[d]})}else e[n]=f(i,t,!0)}})}var s=e(Ae),l=e("../util/model"),u=e("./Component"),c=s.each,h=s.clone,p=s.map,f=s.merge,m=/^(min|max)?(.+)$/;return t[me]={constructor:t,setOption:function(e,t){e=h(e,!0);var i=this._optionBackup,r=n.call(this,e,t,!i);this._newBaseOption=r.baseOption,i?(a(i.baseOption,r.baseOption),r.timelineOptions[K]&&(i.timelineOptions=r.timelineOptions),r.mediaList[K]&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=p(t.timelineOptions,h),this._mediaList=p(t.mediaList,h),this._mediaDefault=h(t.mediaDefault),this._currentMediaIndices=[],h(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n[K]){var i=e.getComponent("timeline");i&&(t=h(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(){var e=this._api[ce](),t=this._api[ue](),n=this._mediaList,r=this._mediaDefault,a=[],s=[];if(!n[K]&&!r)return s;for(var l=0,u=n[K];u>l;l++)i(n[l].query,e,t)&&a.push(l);return!a[K]&&r&&(a=[-1]),a[K]&&!o(a,this._currentMediaIndices)&&(s=p(a,function(e){return h(-1===e?r[d]:n[e][d])})),this._currentMediaIndices=a,s}},t}),t("echarts/model/Component",[we,"./Model",Ae,"../util/component","../util/clazz","../util/layout","./mixin/boxLayout"],function(e){function t(e){var t=[];return i.each(l.getClassesByMainType(e),function(e){r.apply(t,e[me].dependencies||[])}),i.map(t,function(e){return a.parseClassType(e).main})}var n=e("./Model"),i=e(Ae),r=Array[me].push,o=e("../util/component"),a=e("../util/clazz"),s=e("../util/layout"),l=n[ee]({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){n.call(this,e,t,r,a),i[ee](this,a),this.uid=o.getUID("componentModel")},init:function(e,t,n){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?s.getLayoutParams(e):{},o=t.getTheme();i.merge(e,o.get(this.mainType)),i.merge(e,this.getDefaultOption()),n&&s.mergeLayoutParam(e,r,n)},mergeOption:function(e){i.merge(this[d],e,!0);var t=this.layoutMode;t&&s.mergeLayoutParam(this[d],e,t)},optionUpdated:function(){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var e=[],t=this.constructor;t;){var n=t[me].defaultOption;n&&e.push(n),t=t.superClass}for(var r={},o=e[K]-1;o>=0;o--)r=i.merge(r,e[o],!0);this.__defaultOption=r}return this.__defaultOption}});return a.enableClassManagement(l,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(l),o.enableTopologicalTravel(l,t),i.mixin(l,e("./mixin/boxLayout")),l}),t("echarts/view/Component",[we,"zrender/container/Group","../util/component","../util/clazz"],function(e){var t=e("zrender/container/Group"),n=e("../util/component"),i=e("../util/clazz"),r=function(){this.group=new t,this.uid=n.getUID("viewComponent")};r[me]={constructor:r,init:function(){},render:function(){},dispose:function(){}};var o=r[me];return o.updateView=o.updateLayout=o.updateVisual=function(){},i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0}),r}),t("echarts/model/Series",[we,Ae,"../util/format","../util/model","./Component","./mixin/colorPalette","zrender/core/env"],function(e){var t=e(Ae),n=e("../util/format"),i=e("../util/model"),r=e("./Component"),o=e("./mixin/colorPalette"),s=e("zrender/core/env"),l=n.encodeHTML,u=n.addCommas,c=r[ee]({type:"series.__base__",
seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(e,t,n){this[q]=this.componentIndex,this.mergeDefaultAndTheme(e,n),this._dataBeforeProcessed=this.getInitialData(e,n),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(e,n){t.merge(e,n.getTheme().get(this.subType)),t.merge(e,this.getDefaultOption()),i.defaultEmphasis(e.label,i.LABEL_OPTIONS),this.fillDataTextStyle(e.data)},mergeOption:function(e,n){e=t.merge(this[d],e,!0),this.fillDataTextStyle(e.data);var i=this.getInitialData(e,n);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},fillDataTextStyle:function(e){if(e)for(var t=0;t<e[K];t++)e[t]&&e[t].label&&i.defaultEmphasis(e[t].label,i.LABEL_OPTIONS)},getInitialData:function(){},getData:function(e){return null==e?this._data:this._data.getLinkedData(e)},setData:function(e){this._data=e},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(e){return[e]},dataDimToCoordDim:function(e){return e},getBaseAxis:function(){var e=this[be];return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,i){function r(e){return t.map(e,function(e,t){var r=o.getDimensionInfo(t),a=r&&r.type;return a===m?e:"time"===a?i?"":n.formatTime("yyyy/mm/dd hh:mm:ss",e):u(e)})[j](function(e){return!!e}).join(", ")}var o=this._data,s=this.getRawValue(e),c=t[H](s)?r(s):u(s),h=o[a](e),d=o[b](e,"color"),p='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+d+'"></span>',f=this.name;return"\0-"===f&&(f=""),i?p+l(this.name)+" : "+c:(f&&l(f)+"<br />")+p+(h?l(h)+" : "+c:c)},ifEnableAnimation:function(){if(s.node)return!1;var e=this[S](v);return e&&this[xe]().count()>this[S]("animationThreshold")&&(e=!1),e},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(e,t){var n=this.ecModel,i=o.getColorFromPalette.call(this,e,t);return i||(i=n.getColorFromPalette(e,t)),i},getAxisTooltipDataIndex:null});return t.mixin(c,i.dataFormatMixin),t.mixin(c,o),c}),t("echarts/view/Chart",[we,"zrender/container/Group","../util/component","../util/clazz"],function(e){function t(){this.group=new r,this.uid=o.getUID("viewChart")}function n(e,t){if(e&&(e[J](t),"group"===e.type))for(var i=0;i<e.childCount();i++)n(e.childAt(i),t)}function i(e,t,i){var r=t&&t[Y],o=t&&t.name;if(null!=r)for(var a=r instanceof Array?r:[r],s=0,l=a[K];l>s;s++)n(e[g](a[s]),i);else if(o)for(var u=o instanceof Array?o:[o],s=0,l=u[K];l>s;s++){var r=e.indexOfName(u[s]);n(e[g](r),i)}else e.eachItemGraphicEl(function(e){n(e,i)})}var r=e("zrender/container/Group"),o=e("../util/component"),a=e("../util/clazz");t[me]={type:"chart",init:function(){},render:function(){},highlight:function(e,t,n,r){i(e[xe](),r,"emphasis")},downplay:function(e,t,n,r){i(e[xe](),r,p)},remove:function(){this.group[_e]()},dispose:function(){}};var s=t[me];return s.updateView=s.updateLayout=s.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},a.enableClassExtend(t),a.enableClassManagement(t,{registerWhenExtend:!0}),t}),t("zrender/zrender",[we,"./core/guid","./core/env","./Handler","./Storage","./animation/Animation","./dom/HandlerProxy","./Painter"],function(e){function t(e){delete c[e]}var n=e("./core/guid"),i=e("./core/env"),r=e("./Handler"),o=e("./Storage"),a=e("./animation/Animation"),s=e("./dom/HandlerProxy"),l=!i[le],u={canvas:e("./Painter")},c={},h={};h.version="3.1.2",h.init=function(e,t){var i=new d(n(),e,t);return c[i.id]=i,i},h.dispose=function(e){if(e)e.dispose();else{for(var t in c)c[t].dispose();c={}}return h},h.getInstance=function(e){return c[e]},h.registerPainter=function(e,t){u[e]=t};var d=function(e,t,n){n=n||{},this.dom=t,this.id=e;var c=this,h=new o,d=n.renderer;if(l){if(!u.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");d="vml"}else d&&u[d]||(d=pe);var p=new u[d](t,h,n);this.storage=h,this.painter=p;var f=i.node?null:new s(p.getViewportRoot());this.handler=new r(h,p,f),this[v]=new a({stage:{update:function(){c._needsRefresh&&c.refreshImmediately(),c._needsRefreshHover&&c.refreshHoverImmediately()}}}),this[v].start(),this._needsRefresh;var m=h.delFromMap,g=h.addToMap;h.delFromMap=function(e){var t=h.get(e);m.call(h,e),t&&t.removeSelfFromZr(c)},h.addToMap=function(e){g.call(h,e),e.addSelfToZr(c)}};return d[me]={constructor:d,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter[de](),this.handler[de]()},clearAnimation:function(){this[v].clear()},getWidth:function(){return this.painter[ce]()},getHeight:function(){return this.painter[ue]()},pathToImage:function(e,t,i){var r=n();return this.painter.pathToImage(r,e,t,i)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler[J](e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this[v].stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this[v]=this.storage=this.painter=this.handler=null,t(this.id)}},h}),t("zrender/tool/color",[we],function(){function e(e){return e=Math.round(e),0>e?0:e>255?255:e}function t(e){return e=Math.round(e),0>e?0:e>360?360:e}function n(e){return 0>e?0:e>1?1:e}function i(t){return e(t[K]&&"%"===t.charAt(t[K]-1)?parseFloat(t)/100*255:parseInt(t,10))}function r(e){return n(e[K]&&"%"===e.charAt(e[K]-1)?parseFloat(e)/100:parseFloat(e))}function o(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}function a(e,t,n){return e+(t-e)*n}function s(e){if(e){e+="";var t=e.replace(/ /g,"")[ge]();if(t in v)return v[t].slice();if("#"!==t.charAt(0)){var n=t[F]("("),o=t[F](")");if(-1!==n&&o+1===t[K]){var a=t.substr(0,n),s=t.substr(n+1,o-(n+1)).split(","),u=1;switch(a){case"rgba":if(4!==s[K])return;u=r(s.pop());case"rgb":if(3!==s[K])return;return[i(s[0]),i(s[1]),i(s[2]),u];case"hsla":if(4!==s[K])return;return s[3]=r(s[3]),l(s);case"hsl":if(3!==s[K])return;return l(s);default:return}}}else{if(4===t[K]){var c=parseInt(t.substr(1),16);if(!(c>=0&&4095>=c))return;return[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]}if(7===t[K]){var c=parseInt(t.substr(1),16);if(!(c>=0&&16777215>=c))return;return[(16711680&c)>>16,(65280&c)>>8,255&c,1]}}}}function l(t){var n=(parseFloat(t[0])%360+360)%360/360,i=r(t[1]),a=r(t[2]),s=.5>=a?a*(i+1):a+i-a*i,l=2*a-s,u=[e(255*o(l,s,n+1/3)),e(255*o(l,s,n)),e(255*o(l,s,n-1/3))];return 4===t[K]&&(u[3]=t[3]),u}function u(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=.5>u?l/(s+a):l/(2-s-a);var c=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;i===s?t=d-h:r===s?t=1/3+c-d:o===s&&(t=2/3+h-c),0>t&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,u];return null!=e[3]&&p.push(e[3]),p}}function c(e,t){var n=s(e);if(n){for(var i=0;3>i;i++)n[i]=0>t?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0;return g(n,4===n[K]?"rgba":"rgb")}}function h(e){var t=s(e);return t?((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1):void 0}function d(t,n,i){if(n&&n[K]&&t>=0&&1>=t){i=i||[0,0,0,0];var r=t*(n[K]-1),o=Math.floor(r),s=Math.ceil(r),l=n[o],u=n[s],c=r-o;return i[0]=e(a(l[0],u[0],c)),i[1]=e(a(l[1],u[1],c)),i[2]=e(a(l[2],u[2],c)),i[3]=e(a(l[3],u[3],c)),i}}function p(t,i,r){if(i&&i[K]&&t>=0&&1>=t){var o=t*(i[K]-1),l=Math.floor(o),u=Math.ceil(o),c=s(i[l]),h=s(i[u]),d=o-l,p=g([e(a(c[0],h[0],d)),e(a(c[1],h[1],d)),e(a(c[2],h[2],d)),n(a(c[3],h[3],d))],"rgba");return r?{color:p,leftIndex:l,rightIndex:u,value:o}:p}}function f(e,n,i,o){return e=s(e),e?(e=u(e),null!=n&&(e[0]=t(n)),null!=i&&(e[1]=r(i)),null!=o&&(e[2]=r(o)),g(l(e),"rgba")):void 0}function m(e,t){return e=s(e),e&&null!=t?(e[3]=n(t),g(e,"rgba")):void 0}function g(e,t){var n=e[0]+","+e[1]+","+e[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(n+=","+e[3]),t+"("+n+")"}var v={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};return{parse:s,lift:c,toHex:h,fastMapToColor:d,mapToColor:p,modifyHSL:f,modifyAlpha:m,stringify:g}}),t("zrender/mixin/Eventful",[we],function(){var e=Array[me].slice,t=function(){this._$handlers={}};return t[me]={constructor:t,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e][K];r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e][K];r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e][K]},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e][K];o>r;r++)n[e][r].h!=t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e][K]&&delete n[e]}else delete n[e];return this},trigger:function(t){if(this._$handlers[t]){var n=arguments,i=n[K];i>3&&(n=e.call(n,1));for(var r=this._$handlers[t],o=r[K],a=0;o>a;){switch(i){case 1:r[a].h.call(r[a].ctx);break;case 2:r[a].h.call(r[a].ctx,n[1]);break;case 3:r[a].h.call(r[a].ctx,n[1],n[2]);break;default:r[a].h.apply(r[a].ctx,n)}r[a].one?(r[Q](a,1),o--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var n=arguments,i=n[K];i>4&&(n=e.call(n,1,n[K]-1));for(var r=n[n[K]-1],o=this._$handlers[t],a=o[K],s=0;a>s;){switch(i){case 1:o[s].h.call(r);break;case 2:o[s].h.call(r,n[1]);break;case 3:o[s].h.call(r,n[1],n[2]);break;default:o[s].h.apply(r,n)}o[s].one?(o[Q](s,1),a--):s++}}return this}},t}),t("zrender/core/timsort",[],function(){function e(e){for(var t=0;e>=l;)t|=1&e,e>>=1;return e+t}function t(e,t,i,r){var o=t+1;if(o===i)return 1;if(r(e[o++],e[t])<0){for(;i>o&&r(e[o],e[o-1])<0;)o++;n(e,t,o)}else for(;i>o&&r(e[o],e[o-1])>=0;)o++;return o-t}function n(e,t,n){for(n--;n>t;){var i=e[t];e[t++]=e[n],e[n--]=i}}function i(e,t,n,i,r){for(i===t&&i++;n>i;i++){for(var o,a=e[i],s=t,l=i;l>s;)o=s+l>>>1,r(a,e[o])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=a}}function r(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])>0){for(s=i-r;s>l&&o(e,t[n+r+l])>0;)a=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;s>l&&o(e,t[n+r-l])<=0;)a=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;l>a;){var c=a+(l-a>>>1);o(e,t[n+c])>0?a=c+1:l=c}return l}function o(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])<0){for(s=r+1;s>l&&o(e,t[n+r-l])<0;)a=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;s>l&&o(e,t[n+r+l])>=0;)a=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;l>a;){var c=a+(l-a>>>1);o(e,t[n+c])<0?l=c:a=c+1}return l}function a(e,t){function n(e,t){d[y]=e,p[y]=t,y+=1}function i(){for(;y>1;){var e=y-2;if(e>=1&&p[e-1]<=p[e]+p[e+1]||e>=2&&p[e-2]<=p[e]+p[e-1])p[e-1]<p[e+1]&&e--;else if(p[e]>p[e+1])break;s(e)}}function a(){for(;y>1;){var e=y-2;e>0&&p[e-1]<p[e+1]&&e--,s(e)}}function s(n){var i=d[n],a=p[n],s=d[n+1],u=p[n+1];p[n]=a+u,n===y-3&&(d[n+1]=d[n+2],p[n+1]=p[n+2]),y--;var c=o(e[s],e,i,a,0,t);i+=c,a-=c,0!==a&&(u=r(e[i+a-1],e,s,u,u-1,t),0!==u&&(u>=a?l(i,a,s,u):h(i,a,s,u)))}function l(n,i,a,s){var l=0;for(l=0;i>l;l++)b[l]=e[n+l];var c=0,h=a,d=n;if(e[d++]=e[h++],0!==--s){if(1===i){for(l=0;s>l;l++)e[d+l]=e[h+l];return void(e[d+s]=b[c])}for(var p,m,g,v=f;;){p=0,m=0,g=!1;do if(t(e[h],b[c])<0){if(e[d++]=e[h++],m++,p=0,0===--s){g=!0;break}}else if(e[d++]=b[c++],p++,m=0,1===--i){g=!0;break}while(v>(p|m));if(g)break;do{if(p=o(e[h],b,c,i,0,t),0!==p){for(l=0;p>l;l++)e[d+l]=b[c+l];if(d+=p,c+=p,i-=p,1>=i){g=!0;break}}if(e[d++]=e[h++],0===--s){g=!0;break}if(m=r(b[c],e,h,s,0,t),0!==m){for(l=0;m>l;l++)e[d+l]=e[h+l];if(d+=m,h+=m,s-=m,0===s){g=!0;break}}if(e[d++]=b[c++],1===--i){g=!0;break}v--}while(p>=u||m>=u);if(g)break;0>v&&(v=0),v+=2}if(f=v,1>f&&(f=1),1===i){for(l=0;s>l;l++)e[d+l]=e[h+l];e[d+s]=b[c]}else{if(0===i)throw new Error;for(l=0;i>l;l++)e[d+l]=b[c+l]}}else for(l=0;i>l;l++)e[d+l]=b[c+l]}function h(n,i,a,s){var l=0;for(l=0;s>l;l++)b[l]=e[a+l];var c=n+i-1,h=s-1,d=a+s-1,p=0,m=0;if(e[d--]=e[c--],0!==--i){if(1===s){for(d-=i,c-=i,m=d+1,p=c+1,l=i-1;l>=0;l--)e[m+l]=e[p+l];return void(e[d]=b[h])}for(var g=f;;){var v=0,y=0,_=!1;do if(t(b[h],e[c])<0){if(e[d--]=e[c--],v++,y=0,0===--i){_=!0;break}}else if(e[d--]=b[h--],y++,v=0,1===--s){_=!0;break}while(g>(v|y));if(_)break;do{if(v=i-o(b[h],e,n,i,i-1,t),0!==v){for(d-=v,c-=v,i-=v,m=d+1,p=c+1,l=v-1;l>=0;l--)e[m+l]=e[p+l];if(0===i){_=!0;break}}if(e[d--]=b[h--],1===--s){_=!0;break}if(y=s-r(e[c],b,0,s,s-1,t),0!==y){for(d-=y,h-=y,s-=y,m=d+1,p=h+1,l=0;y>l;l++)e[m+l]=b[p+l];if(1>=s){_=!0;break}}if(e[d--]=e[c--],0===--i){_=!0;break}g--}while(v>=u||y>=u);if(_)break;0>g&&(g=0),g+=2}if(f=g,1>f&&(f=1),1===s){for(d-=i,c-=i,m=d+1,p=c+1,l=i-1;l>=0;l--)e[m+l]=e[p+l];e[d]=b[h]}else{if(0===s)throw new Error;for(p=d-(s-1),l=0;s>l;l++)e[p+l]=b[l]}}else for(p=d-(s-1),l=0;s>l;l++)e[p+l]=b[l]}var d,p,f=u,m=0,g=c,v=0,y=0;m=e[K],2*c>m&&(g=m>>>1);var b=[];v=120>m?5:1542>m?10:119151>m?19:40,d=[],p=[],this.mergeRuns=i,this.forceMergeRuns=a,this.pushRun=n}function s(n,r,o,s){o||(o=0),s||(s=n[K]);var u=s-o;if(!(2>u)){var c=0;if(l>u)return c=t(n,o,s,r),void i(n,o,s,o+c,r);var h=new a(n,r),d=e(u);do{if(c=t(n,o,s,r),d>c){var p=u;p>d&&(p=d),i(n,o,o+p,o+c,r),c=p}h.pushRun(o,c),h.mergeRuns(),u-=c,o+=c}while(0!==u);h.forceMergeRuns()}}var l=32,u=7,c=256;return s}),t("echarts/loading/default",[we,"../util/graphic",Ae],function(e){var t=e("../util/graphic"),n=e(Ae),i=Math.PI;return function(e,r){r=r||{},n[ye](r,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var o=new t.Rect({style:{fill:r.maskColor},zlevel:r[U],z:1e4}),a=new t.Arc({shape:{startAngle:-i/2,endAngle:-i/2+.1,r:10},style:{stroke:r.color,lineCap:"round",lineWidth:5},zlevel:r[U],z:10001}),s=new t.Rect({style:{fill:"none",text:r.text,textPosition:"right",textDistance:10,textFill:r.textColor},zlevel:r[U],z:10001});a.animateShape(!0).when(1e3,{endAngle:3*i/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*i/2}).delay(300).start("circularInOut");var l=new t.Group;return l.add(a),l.add(s),l.add(o),l[de]=function(){var t=e[ce]()/2,n=e[ue]()/2;a.setShape({cx:t,cy:n});var i=a.shape.r;s.setShape({x:t-i,y:n-i,width:2*i,height:2*i}),o.setShape({x:0,y:0,width:e[ce](),height:e[ue]()})},l[de](),l}}),t("echarts/visual/seriesColor",[we,"zrender/graphic/Gradient"],function(e){var t=e("zrender/graphic/Gradient");return function(e){function n(n){var i=(n.visualColorAccessPath||"itemStyle.normal.color").split("."),r=n[xe](),o=n.get(i)||n.getColorFromPalette(n.get("name"));r.setVisual("color",o),e.isSeriesFiltered(n)||(typeof o!==G||o instanceof t||r.each(function(e){r.setItemVisual(e,"color",o(n.getDataParams(e)))}),r.each(function(e){var t=r[k](e),n=t.get(i,!0);null!=n&&r.setItemVisual(e,"color",n)}))}e.eachRawSeries(n)}}),t("echarts/preprocessor/backwardCompat",[we,Ae,"./helper/compatStyle"],function(e){function t(e,t){t=t.split(",");for(var n=e,i=0;i<t[K]&&(n=n&&n[t[i]],null!=n);i++);return n}function n(e,t,n,i){t=t.split(",");for(var r,o=e,a=0;a<t[K]-1;a++)r=t[a],null==o[r]&&(o[r]={}),o=o[r];(i||null==o[t[a]])&&(o[t[a]]=n)}function i(e){u(a,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var r=e(Ae),o=e("./helper/compatStyle"),a=[["x","left"],["y","top"],["x2","right"],["y2",ae]],s=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],u=r.each;return function(e){u(e.series,function(e){if(r[ne](e)){var a=e.type;if(o(e),("pie"===a||"gauge"===a)&&null!=e.clockWise&&(e.clockwise=e.clockWise),"gauge"===a){var s=t(e,"pointer.color");null!=s&&n(e,"itemStyle.normal.color",s)}for(var u=0;u<l[K];u++)if(l[u]===e.type){i(e);break}}}),e.dataRange&&(e.visualMap=e.dataRange),u(s,function(t){var n=e[t];n&&(r[H](n)||(n=[n]),u(n,function(e){i(e)}))})}}),t("echarts/data/List",[we,"../model/Model","./DataDiffer",Ae,"../util/model"],function(e){function t(e){return d[H](e)||(e=[e]),e}function n(e,t){var n=e.dimensions,i=new x(d.map(n,e.getDimensionInfo,e),e.hostModel);_(i,e);for(var r=i._storage={},o=e._storage,a=0;a<n[K];a++){var s=n[a],l=o[s];r[s]=d[F](t,s)>=0?new l.constructor(o[s][K]):o[s]}return i}var i=o,r=typeof window===o?global:window,s=typeof r.Float64Array===i?Array:r.Float64Array,l=typeof r.Int32Array===i?Array:r.Int32Array,u={"float":s,"int":l,ordinal:Array,number:Array,time:Array},c=e("../model/Model"),h=e("./DataDiffer"),d=e(Ae),p=e("../util/model"),f=d[ne],v=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],_=function(e,t){d.each(v[A](t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods},x=function(e,t){e=e||["x","y"];for(var n={},i=[],r=0;r<e[K];r++){var o,a={};typeof e[r]===fe?(o=e[r],a={name:o,stackable:!1,type:"number"}):(a=e[r],o=a.name,a.type=a.type||V),i.push(o),n[o]=a}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this[M]},w=x[me];w.type="list",w.hasItemOption=!0,w.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},w.getDimensionInfo=function(e){return d.clone(this._dimensionInfos[this.getDimension(e)])},w.initData=function(e,t,n){e=e||[],this._rawData=e;var i=this._storage={},r=this.indices=[],o=this.dimensions,a=e[K],s=this._dimensionInfos,l=[],c={};t=t||[];for(var h=0;h<o[K];h++){var d=s[o[h]],f=u[d.type];i[o[h]]=new f(a)}var m=this;n||(m.hasItemOption=!1),n=n||function(e,t,n,i){var r=p.getDataItemValue(e);return p.isDataItemOption(e)&&(m.hasItemOption=!0),p.converDataValue(r instanceof Array?r[i]:r,s[t])};for(var g=0;g<e[K];g++){for(var v=e[g],y=0;y<o[K];y++){var b=o[y],_=i[b];_[g]=n(v,b,g,y)}r.push(g)}for(var h=0;h<e[K];h++){t[h]||e[h]&&null!=e[h].name&&(t[h]=e[h].name);var x=t[h]||"",A=e[h]&&e[h].id;!A&&x&&(c[x]=c[x]||0,A=x,c[x]>0&&(A+="__ec__"+c[x]),c[x]++),A&&(l[h]=A)}this._nameList=t,this._idList=l},w.count=function(){return this.indices[K]},w.get=function(e,t,n){var i=this._storage,r=this.indices[t];if(null==r)return NaN;var o=i[e]&&i[e][r];if(n){var a=this._dimensionInfos[e];if(a&&a.stackable)for(var s=this.stackedOn;s;){var l=s.get(e,t);(o>=0&&l>0||0>=o&&0>l)&&(o+=l),s=s.stackedOn}}return o},w.getValues=function(e,t,n){var i=[];d[H](e)||(n=t,t=e,e=this.dimensions);for(var r=0,o=e[K];o>r;r++)i.push(this.get(e[r],t,n));return i},w.hasValue=function(e){for(var t=this.dimensions,n=this._dimensionInfos,i=0,r=t[K];r>i;i++)if(n[t[i]].type!==m&&isNaN(this.get(t[i],e)))return!1;return!0},w.getDataExtent=function(e,t){e=this.getDimension(e);var n=this._storage[e],i=this.getDimensionInfo(e);t=i&&i.stackable&&t;var r,o=(this[M]||(this[M]={}))[e+!!t];if(o)return o;if(n){for(var a=1/0,s=-1/0,l=0,u=this.count();u>l;l++)r=this.get(e,l,t),a>r&&(a=r),r>s&&(s=r);return this[M][e+!!t]=[a,s]}return[1/0,-1/0]},w.getSum=function(e,t){var n=this._storage[e],i=0;if(n)for(var r=0,o=this.count();o>r;r++){var a=this.get(e,r,t);isNaN(a)||(i+=a)}return i},w[F]=function(e,t){var n=this._storage,i=n[e],r=this.indices;if(i)for(var o=0,a=r[K];a>o;o++){var s=r[o];if(i[s]===t)return o}return-1},w.indexOfName=function(e){for(var t=this.indices,n=this._nameList,i=0,r=t[K];r>i;i++){var o=t[i];if(n[o]===e)return i}return-1},w.indexOfRawIndex=function(e){for(var t=this.indices,n=0,i=t[K]-1;i>=n;){var r=(n+i)/2|0;if(t[r]<e)n=r+1;else{if(!(t[r]>e))return r;i=r-1}}return-1},w.indexOfNearest=function(e,t,n,i){var r=this._storage,o=r[e];null==i&&(i=1/0);var a=-1;if(o)for(var s=Number.MAX_VALUE,l=0,u=this.count();u>l;l++){var c=t-this.get(e,l,n),h=Math.abs(c);i>=c&&(s>h||h===s&&c>0)&&(s=h,a=l)}return a},w.getRawIndex=function(e){var t=this.indices[e];return null==t?-1:t},w.getRawDataItem=function(e){return this._rawData[this.getRawIndex(e)]},w[a]=function(e){return this._nameList[this.indices[e]]||""},w.getId=function(e){return this._idList[this.indices[e]]||this.getRawIndex(e)+""},w.each=function(e,n,i,r){typeof e===G&&(r=i,i=n,n=e,e=[]),e=d.map(t(e),this.getDimension,this);var o=[],a=e[K],s=this.indices;r=r||this;for(var l=0;l<s[K];l++)switch(a){case 0:n.call(r,l);break;case 1:n.call(r,this.get(e[0],l,i),l);break;case 2:n.call(r,this.get(e[0],l,i),this.get(e[1],l,i),l);break;default:for(var u=0;a>u;u++)o[u]=this.get(e[u],l,i);o[u]=l,n.apply(r,o)}},w.filterSelf=function(e,n,i,r){typeof e===G&&(r=i,i=n,n=e,e=[]),e=d.map(t(e),this.getDimension,this);var o=[],a=[],s=e[K],l=this.indices;r=r||this;for(var u=0;u<l[K];u++){var c;if(1===s)c=n.call(r,this.get(e[0],u,i),u);else{for(var h=0;s>h;h++)a[h]=this.get(e[h],u,i);a[h]=u,c=n.apply(r,a)}c&&o.push(l[u])}return this.indices=o,this[M]={},this},w.mapArray=function(e,t,n,i){typeof e===G&&(i=n,n=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n,i),r},w.map=function(e,i,r,o){e=d.map(t(e),this.getDimension,this);var a=n(this,e),s=a.indices=this.indices,l=a._storage,u=[];return this.each(e,function(){var t=arguments[arguments[K]-1],n=i&&i.apply(this,arguments);if(null!=n){typeof n===V&&(u[0]=n,n=u);for(var r=0;r<n[K];r++){var o=e[r],a=l[o],c=s[t];a&&(a[c]=n[r])}}},r,o),a},w.downSample=function(e,t,i,r){for(var o=n(this,[e]),a=this._storage,s=o._storage,l=this.indices,u=o.indices=[],c=[],h=[],d=Math.floor(1/t),p=s[e],f=this.count(),m=0;m<a[e][K];m++)s[e][m]=a[e][m];for(var m=0;f>m;m+=d){d>f-m&&(d=f-m,c[K]=d);for(var g=0;d>g;g++){var v=l[m+g];c[g]=p[v],h[g]=v}var y=i(c),v=h[r(c,y)||0];p[v]=y,u.push(v)}return o},w[k]=function(e){var t=this.hostModel;return e=this.indices[e],new c(this._rawData[e],t,t&&t.ecModel)},w.diff=function(e){var t=this._idList,n=e&&e._idList;return new h(e?e.indices:[],this.indices,function(e){return n[e]||e+""},function(e){return t[e]||e+""})},w.getVisual=function(e){var t=this._visual;return t&&t[e]},w.setVisual=function(e,t){if(f(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},w.setLayout=function(e,t){if(f(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},w.getLayout=function(e){return this._layout[e]},w[y]=function(e){return this._itemLayouts[e]},w.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?d[ee](this._itemLayouts[e]||{},t):t},w.clearItemLayouts=function(){this._itemLayouts[K]=0},w[b]=function(e,t,n){var i=this._itemVisuals[e],r=i&&i[t];return null!=r||n?r:this.getVisual(t)},w.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};if(this._itemVisuals[e]=i,f(t))for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);else i[t]=n},w.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var C=function(e){e[q]=this[q],e[Y]=this[Y],e.dataType=this.dataType};return w.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t[Y]=e,t.dataType=this.dataType,t[q]=n&&n[q],"group"===t.type&&t.traverse(C,t)),this._graphicEls[e]=t},w[g]=function(e){return this._graphicEls[e]},w.eachItemGraphicEl=function(e,t){d.each(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},w.cloneShallow=function(){var e=d.map(this.dimensions,this.getDimensionInfo,this),t=new x(e,this.hostModel);return t._storage=this._storage,_(t,this),t.indices=this.indices.slice(),this[M]&&(t[M]=d[ee]({},this[M])),t},w.wrapMethod=function(e,t){var n=this[e];typeof n===G&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e][A](d.slice(arguments)))})},w.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],w.CHANGABLE_METHODS=["filterSelf"],x}),t("echarts/model/Model",[we,Ae,"../util/clazz","./mixin/lineStyle","./mixin/areaStyle","./mixin/textStyle","./mixin/itemStyle"],function(e){function t(e,t,n){this.parentModel=t,this.ecModel=n,this[d]=e}var n=e(Ae),i=e("../util/clazz");t[me]={constructor:t,init:null,mergeOption:function(e){n.merge(this[d],e,!0)},get:function(e,t){if(!e)return this[d];typeof e===fe&&(e=e.split("."));for(var n=this[d],i=this.parentModel,r=0;r<e[K]&&(!e[r]||(n=n&&"object"==typeof n?n[e[r]]:null,null!=n));r++);return null==n&&i&&!t&&(n=i.get(e)),n},getShallow:function(e,t){var n=this[d],i=n&&n[e],r=this.parentModel;return null==i&&r&&!t&&(i=r[S](e)),i},getModel:function(e,n){var i=this.get(e,!0),r=this.parentModel,o=new t(i,n||r&&r[he](e),this.ecModel);return o},isEmpty:function(){return null==this[d]},restoreData:function(){},clone:function(){var e=this.constructor;return new e(n.clone(this[d]))},setReadOnly:function(e){i.setReadOnly(this,e)}},i.enableClassExtend(t);var r=n.mixin;return r(t,e("./mixin/lineStyle")),r(t,e("./mixin/areaStyle")),r(t,e("./mixin/textStyle")),r(t,e("./mixin/itemStyle")),t}),t("echarts/util/number",[we],function(){function e(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}var t={},n=1e-4;return t.linearMap=function(e,t,n,i){var r=t[1]-t[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/r*o+n[0]},t.parsePercent=function(t,n){switch(t){case B:case O:t="50%";break;case"left":case"top":t="0%";break;case"right":case ae:t="100%"}return typeof t===fe?e(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):null==t?NaN:+t},t.round=function(e){return+(+e).toFixed(10)},t.asc=function(e){return e.sort(function(e,t){return e-t}),e},t.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},t.getPixelPrecision=function(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i);return Math.max(-r+o,0)},t.MAX_SAFE_INTEGER=9007199254740991,t.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},t.isRadianAroundZero=function(e){return e>-n&&n>e},t.parseDate=function(e){return e instanceof Date?e:new Date(typeof e===fe?new Date(e.replace(/-/g,"/"))-new Date("1970/01/01"):Math.round(e))},t.quantity=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},t.nice=function(e,n){var i,r=t.quantity(e),o=e/r;return i=n?1.5>o?1:2.5>o?2:4>o?3:7>o?5:10:1>o?1:2>o?2:3>o?3:5>o?5:10,i*r},t}),t("echarts/util/format",[we,Ae,"./number","zrender/contain/text"],function(e){function t(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e[K]>1?"."+e[1]:""))}function n(e){return e[ge]().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function i(e){var t=e[K];return typeof e===V?[e,e,e,e]:2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function r(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e,t){return"{"+e+(null==t?"":t)+"}"}function a(e,t){u[H](t)||(t=[t]);var n=t[K];if(!n)return"";for(var i=t[0].$vars||[],r=0;r<i[K];r++){var a=d[r];e=e.replace(o(a),o(a,0))}for(var s=0;n>s;s++)for(var l=0;l<i[K];l++)e=e.replace(o(d[l],s),t[s][i[l]]);return e}function s(e,t){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var n=c.parseDate(t),i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=n.getHours(),s=n.getMinutes(),u=n.getSeconds();return e=e.replace("MM",l(r))[ge]().replace("yyyy",i).replace("yy",i%100).replace("dd",l(o)).replace("d",o).replace("hh",l(a)).replace("h",a).replace("mm",l(s)).replace("m",s).replace("ss",l(u)).replace("s",u);
}function l(e){return 10>e?"0"+e:e}var u=e(Ae),c=e("./number"),h=e("zrender/contain/text"),d=["a","b","c","d","e","f","g"];return{normalizeCssArray:i,addCommas:t,toCamelCase:n,encodeHTML:r,formatTpl:a,formatTime:s,truncateText:h.truncateText}}),t("zrender/core/matrix",[],function(){var e=typeof Float32Array===o?Array:Float32Array,t={create:function(){var n=new e(6);return t.identity(n),n},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mul:function(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e},translate:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},rotate:function(e,t,n){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=i*c+a*u,e[1]=-i*u+a*c,e[2]=r*c+s*u,e[3]=-r*u+c*s,e[4]=c*o+u*l,e[5]=c*l-u*o,e},scale:function(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e},invert:function(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*i;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*r)*l,e[5]=(o*r-n*s)*l,e):null}};return t}),t(ve,[],function(){var e=typeof Float32Array===o?Array:Float32Array,t={create:function(t,n){var i=new e(2);return null==t&&(t=0),null==n&&(n=0),i[0]=t,i[1]=n,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},scaleAndAdd:function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},normalize:function(e,n){var i=t.len(n);return 0===i?(e[0]=0,e[1]=0):(e[0]=n[0]/i,e[1]=n[1]/i),e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:function(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e},applyTransform:function(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}};return t[K]=t.len,t.lengthSquare=t.lenSquare,t.dist=t.distance,t.distSquare=t.distanceSquare,t}),t("echarts/util/layout",[we,Ae,"zrender/core/BoundingRect","./number","./format"],function(e){function t(e,t,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var c,h,d=l[D],p=l[P](),f=t.childAt(u+1),m=f&&f[P]();if("horizontal"===e){var g=p.width+(m?-m.x+p.x:0);c=o+g,c>i||l.newline?(o=0,c=g,a+=s+n,s=p[oe]):s=Math.max(s,p[oe])}else{var v=p[oe]+(m?-m.y+p.y:0);h=a+v,h>r||l.newline?(o+=s+n,a=0,h=v,s=p.width):s=Math.max(s,p.width)}l.newline||(d[0]=o,d[1]=a,"horizontal"===e?o=c+n:a=h+n)})}var n=e(Ae),i=e("zrender/core/BoundingRect"),r=e("./number"),o=e("./format"),a=r.parsePercent,s=n.each,l={},u=["left","right","top",ae,"width",oe];return l.box=t,l.vbox=n.curry(t,"vertical"),l.hbox=n.curry(t,"horizontal"),l.getAvailableSize=function(e,t,n){var i=t.width,r=t[oe],s=a(e.x,i),l=a(e.y,r),u=a(e.x2,i),c=a(e.y2,r);return(isNaN(s)||isNaN(parseFloat(e.x)))&&(s=0),(isNaN(u)||isNaN(parseFloat(e.x2)))&&(u=i),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(c)||isNaN(parseFloat(e.y2)))&&(c=r),n=o.normalizeCssArray(n||0),{width:Math.max(u-s-n[1]-n[3],0),height:Math.max(c-l-n[0]-n[2],0)}},l.getLayoutRect=function(e,t,n){n=o.normalizeCssArray(n||0);var r=t.width,s=t[oe],l=a(e.left,r),u=a(e.top,s),c=a(e.right,r),h=a(e[ae],s),d=a(e.width,r),p=a(e[oe],s),f=n[2]+n[0],m=n[1]+n[3],g=e.aspect;switch(isNaN(d)&&(d=r-c-m-l),isNaN(p)&&(p=s-h-f-u),isNaN(d)&&isNaN(p)&&(g>r/s?d=.8*r:p=.8*s),null!=g&&(isNaN(d)&&(d=g*p),isNaN(p)&&(p=d/g)),isNaN(l)&&(l=r-c-d-m),isNaN(u)&&(u=s-h-p-f),e.left||e.right){case B:l=r/2-d/2-n[3];break;case"right":l=r-d-m}switch(e.top||e[ae]){case O:case B:u=s/2-p/2-n[0];break;case ae:u=s-p-f}l=l||0,u=u||0,isNaN(d)&&(d=r-l-(c||0)),isNaN(p)&&(p=s-u-(h||0));var v=new i(l+n[3],u+n[0],d,p);return v.margin=n,v},l.positionGroup=function(e,t,i,r){var o=e[P]();t=n[ee](n.clone(t),{width:o.width,height:o[oe]}),t=l.getLayoutRect(t,i,r),e.attr(D,[t.x-o.x,t.y-o.y])},l.mergeLayoutParam=function(e,t,i){function r(n){var r={},l=0,u={},c=0,h=i.ignoreSize?1:2;if(s(n,function(t){u[t]=e[t]}),s(n,function(e){o(t,e)&&(r[e]=u[e]=t[e]),a(r,e)&&l++,a(u,e)&&c++}),c!==h&&l){if(l>=h)return r;for(var d=0;d<n[K];d++){var p=n[d];if(!o(r,p)&&o(e,p)){r[p]=e[p];break}}return r}return u}function o(e,t){return e.hasOwnProperty(t)}function a(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){s(e,function(e){t[e]=n[e]})}!n[ne](i)&&(i={});var u=["width","left","right"],c=[oe,"top",ae],h=r(u),d=r(c);l(u,e,h),l(c,e,d)},l.getLayoutParams=function(e){return l.copyLayoutParams({},e)},l.copyLayoutParams=function(e,t){return t&&e&&s(u,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},l}),t("echarts/component/tooltip/TooltipModel",[we,"../../echarts"],function(e){e("../../echarts").extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})}),t("echarts/component/tooltip/TooltipView",[we,"./TooltipContent",x,Ae,"../../util/format","../../util/number","zrender/core/env","../../model/Model","../../echarts"],function(e){function t(e,t){if(!e||!t)return!1;var n=w.round;return n(e[0])===n(t[0])&&n(e[1])===n(t[1])}function n(e,t,n,i){return{x1:e,y1:t,x2:n,y2:i}}function o(e,t,n,i){return{x:e,y:t,width:n,height:i}}function s(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function c(e,t,n,i,r){var o=n.clientWidth,a=n.clientHeight,s=20;return e+o+s>i?e-=o+s:e+=s,t+a+s>r?t-=a+s:t+=s,[e,t]}function d(e,t,n){var i=n.clientWidth,r=n.clientHeight,o=5,a=0,s=0,u=t.width,c=t[oe];switch(e){case l:a=t.x+u/2-i/2,s=t.y+c/2-r/2;break;case"top":a=t.x+u/2-i/2,s=t.y-r-o;break;case ae:a=t.x+u/2-i/2,s=t.y+c+o;break;case"left":a=t.x-i-o,s=t.y+c/2-r/2;break;case"right":a=t.x+u+o,s=t.y+c/2-r/2}return[a,s]}function p(e,t,n,o,a,s,l){var u=l[ce](),p=l[ue](),f=s&&s[P]().clone();if(s&&f[h](s[r]),typeof e===G&&(e=e([t,n],a,o.el,f)),b[H](e))t=C(e[0],u),n=C(e[1],p);else if(typeof e===fe&&s){var m=d(e,f,o.el);t=m[0],n=m[1]}else{var m=c(t,n,o.el,u,p);t=m[0],n=m[1]}o[i](t,n)}function m(e){var t=e[be],n=e.get("tooltip.trigger",!0);return!(!t||"cartesian2d"!==t.type&&"polar"!==t.type&&"singleAxis"!==t.type||"item"===n)}var v=e("./TooltipContent"),y=e(x),b=e(Ae),A=e("../../util/format"),w=e("../../util/number"),C=w.parsePercent,S=e("zrender/core/env"),I=e("../../model/Model");e("../../echarts").extendComponentView({type:"tooltip",_axisPointers:{},init:function(e,t){if(!S.node){var n=new v(t.getDom(),t);this._tooltipContent=n,t.on("showTip",this._manuallyShowTip,this),t.on("hideTip",this._manuallyHideTip,this)}},render:function(e,t,n){if(!S.node){this.group[_e](),this._axisPointers={},this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastHover={};var i=this._tooltipContent;i[ie](),i.enterable=e.get("enterable"),this._alwaysShowContent=e.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(e,t);var r=this._crossText;if(r&&this.group.add(r),null!=this._lastX&&null!=this._lastY){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o._manuallyShowTip({x:o._lastX,y:o._lastY})})}var a=this._api.getZr();a.off("click",this._tryShow),a.off("mousemove",this._mousemove),a.off(X,this._hide),a.off("globalout",this._hide),"click"===e.get("triggerOn")?a.on("click",this._tryShow,this):(a.on("mousemove",this._mousemove,this),a.on(X,this._hide,this),a.on("globalout",this._hide,this))}},_mousemove:function(e){var t=this._tooltipModel.get("showDelay"),n=this;clearTimeout(this._showTimeout),t>0?this._showTimeout=setTimeout(function(){n._tryShow(e)},t):this._tryShow(e)},_manuallyShowTip:function(e){if(e.from!==this.uid){var t=this._ecModel,n=e[q],i=e[Y],o=t.getSeriesByIndex(n),a=this._api;if(null==e.x||null==e.y){if(o||t.eachSeries(function(e){m(e)&&!o&&(o=e)}),o){var s=o[xe]();null==i&&(i=s.indexOfName(e.name));var l,u,c=s[g](i),d=o[be];if(d&&d.dataToPoint){var p=d.dataToPoint(s.getValues(b.map(d.dimensions,function(e){return o.coordDimToDataDim(e)[0]}),i,!0));l=p&&p[0],u=p&&p[1]}else if(c){var f=c[P]().clone();f[h](c[r]),l=f.x+f.width/2,u=f.y+f[oe]/2}null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,target:c,event:{}})}}else{var c=a.getZr().handler.findHover(e.x,e.y);this._tryShow({offsetX:e.x,offsetY:e.y,target:c,event:{}})}}},_manuallyHideTip:function(e){e.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(e,t){var n={};return t.eachSeries(function(e){if(m(e)){var t,i,r=e[be];"cartesian2d"===r.type?(t=r.getBaseAxis(),i=t.dim+t.index):"singleAxis"===r.type?(t=r.getAxis(),i=t.dim+t.type):(t=r.getBaseAxis(),i=t.dim+r.name),n[i]=n[i]||{coordSys:[],series:[]},n[i].coordSys.push(r),n[i].series.push(e)}},this),n},_tryShow:function(e){var t=e.target,n=this._tooltipModel,i=n.get(J),r=this._ecModel,o=this._api;if(n)if(this._lastX=e.offsetX,this._lastY=e.offsetY,t&&null!=t[Y]){var a=t.dataModel||r.getSeriesByIndex(t[q]),s=t[Y],l=a[xe]()[k](s);"axis"===(l.get("tooltip.trigger")||i)?this._showAxisTooltip(n,r,e):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(a,s,t.dataType,e)),o.dispatchAction({type:"showTip",from:this.uid,dataIndex:t[Y],seriesIndex:t[q]})}else if(t&&t.tooltip){var u=t.tooltip;if(typeof u===fe){var c=u;u={content:c,formatter:c}}var h=new I(u,n),d=h.get("content"),p=Math.random();this._showTooltipContent(h,d,h.get("formatterParams")||{},p,e.offsetX,e.offsetY,t,o)}else"item"===i?this._hide():this._showAxisTooltip(n,r,e),"cross"===n.get("axisPointer.type")&&o.dispatchAction({type:"showTip",from:this.uid,x:e.offsetX,y:e.offsetY})},_showAxisTooltip:function(e,n,i){var r=e[he]("axisPointer"),o=r.get("type");if("cross"===o){var a=i.target;if(a&&null!=a[Y]){var s=n.getSeriesByIndex(a[q]),l=a[Y];this._showItemTooltipContent(s,l,a.dataType,i)}}this._showAxisPointer();var u=!0;b.each(this._seriesGroupByAxis,function(e){var n=e.coordSys,a=n[0],s=[i.offsetX,i.offsetY];if(!a.containPoint(s))return void this._hideAxisPointer(a.name);u=!1;var l=a.dimensions,c=a.pointToData(s,!0);s=a.dataToPoint(c);var h=a.getBaseAxis(),d=r.get("axis");"auto"===d&&(d=h.dim);var p=!1,f=this._lastHover;if("cross"===o)t(f.data,c)&&(p=!0),f.data=c;else{var m=b[F](l,d);f.data===c[m]&&(p=!0),f.data=c[m]}"cartesian2d"!==a.type||p?"polar"!==a.type||p?"singleAxis"!==a.type||p||this._showSinglePointer(r,a,d,s):this._showPolarPointer(r,a,d,s):this._showCartesianPointer(r,a,d,s),"cross"!==o&&this._dispatchAndShowSeriesTooltipContent(a,e.series,s,c,p)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),u&&this._hide()},_showCartesianPointer:function(e,t,i,r){function a(i,r,o){var a="x"===i?n(r[0],o[0],r[0],o[1]):n(o[0],r[1],o[1],r[1]),s=l._getPointerElement(t,e,i,a);y.subPixelOptimizeLine({shape:a,style:s.style}),h?y.updateProps(s,{shape:a},e):s.attr({shape:a})}function s(n,i,r){var a=t.getAxis(n),s=a.getBandWidth(),u=r[1]-r[0],c="x"===n?o(i[0]-s/2,r[0],s,u):o(r[0],i[1]-s/2,u,s),d=l._getPointerElement(t,e,n,c);h?y.updateProps(d,{shape:c},e):d.attr({shape:c})}var l=this,u=e.get("type"),c=t.getBaseAxis(),h="cross"!==u&&c.type===f&&c.getBandWidth()>20;if("cross"===u)a("x",r,t.getAxis("y").getGlobalExtent()),a("y",r,t.getAxis("x").getGlobalExtent()),this._updateCrossText(t,r,e);else{var d=t.getAxis("x"===i?"y":"x"),p=d.getGlobalExtent();"cartesian2d"===t.type&&("line"===u?a:s)(i,r,p)}},_showSinglePointer:function(e,t,i,r){function o(i,r,o){var s=t.getAxis(),u=s.orient,c="horizontal"===u?n(r[0],o[0],r[0],o[1]):n(o[0],r[1],o[1],r[1]),h=a._getPointerElement(t,e,i,c);l?y.updateProps(h,{shape:c},e):h.attr({shape:c})}var a=this,s=e.get("type"),l="cross"!==s&&t.getBaseAxis().type===f,u=t.getRect(),c=[u.y,u.y+u[oe]];o(i,r,c)},_showPolarPointer:function(e,t,i,r){function o(i,r,o){var a,s=t.pointToCoord(r);if("angle"===i){var u=t.coordToPoint([o[0],s[1]]),c=t.coordToPoint([o[1],s[1]]);a=n(u[0],u[1],c[0],c[1])}else a={cx:t.cx,cy:t.cy,r:s[0]};var h=l._getPointerElement(t,e,i,a);d?y.updateProps(h,{shape:a},e):h.attr({shape:a})}function a(n,i,r){var o,a=t.getAxis(n),u=a.getBandWidth(),c=t.pointToCoord(i),h=Math.PI/180;o="angle"===n?s(t.cx,t.cy,r[0],r[1],(-c[1]-u/2)*h,(-c[1]+u/2)*h):s(t.cx,t.cy,c[0]-u/2,c[0]+u/2,0,2*Math.PI);var p=l._getPointerElement(t,e,n,o);d?y.updateProps(p,{shape:o},e):p.attr({shape:o})}var l=this,u=e.get("type"),c=t.getAngleAxis(),h=t.getRadiusAxis(),d="cross"!==u&&t.getBaseAxis().type===f;if("cross"===u)o("angle",r,h[T]()),o(_,r,c[T]()),this._updateCrossText(t,r,e);else{var p=t.getAxis(i===_?"angle":_),m=p[T]();("line"===u?o:a)(i,r,m)}},_updateCrossText:function(e,t,n){var i=n[he]("crossStyle"),r=i[he]($),o=this._tooltipModel,a=this._crossText;a||(a=this._crossText=new y.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(a));var s=e.pointToData(t),l=e.dimensions;s=b.map(s,function(t,n){var i=e.getAxis(l[n]);return t=i.type===f||"time"===i.type?i.scale.getLabel(t):A.addCommas(t.toFixed(i.getPixelPrecision()))}),a[W]({fill:r[E]()||i.get("color"),textFont:r[z](),text:s.join(", "),x:t[0]+5,y:t[1]-5}),a.z=o.get("z"),a[U]=o.get(U)},_getPointerElement:function(e,t,n,i){var r=this._tooltipModel,o=r.get("z"),a=r.get(U),s=this._axisPointers,l=e.name;if(s[l]=s[l]||{},s[l][n])return s[l][n];var c=t.get("type"),h=t[he](c+"Style"),d="shadow"===c,p=h[d?"getAreaStyle":"getLineStyle"](),f="polar"===e.type?d?"Sector":n===_?"Circle":"Line":d?"Rect":"Line";d?p[u]=null:p.fill=null;var m=s[l][n]=new y[f]({style:p,z:o,zlevel:a,silent:!0,shape:i});return this.group.add(m),m},_dispatchAndShowSeriesTooltipContent:function(e,t,n,i,r){var o=this._tooltipModel,s=e.getBaseAxis(),l="x"===s.dim||s.dim===_?0:1,u=b.map(t,function(e){return{seriesIndex:e[q],dataIndex:e.getAxisTooltipDataIndex?e.getAxisTooltipDataIndex(e.coordDimToDataDim(s.dim),i,s):e[xe]().indexOfNearest(e.coordDimToDataDim(s.dim)[0],i[l],!1,s.type===f?.5:null)}}),c=this._lastHover,h=this._api;if(c.payloadBatch&&!r&&h.dispatchAction({type:"downplay",batch:c.payloadBatch}),r||(h.dispatchAction({type:"highlight",batch:u}),c.payloadBatch=u),h.dispatchAction({type:"showTip",dataIndex:u[0][Y],seriesIndex:u[0][q],from:this.uid}),s&&o.get("showContent")&&o.get("show")){var d=b.map(t,function(e,t){return e.getDataParams(u[t][Y])});if(r)p(o.get(D),n[0],n[1],this._tooltipContent,d,null,h);else{var m=u[0][Y],g="time"===s.type?s.scale.getLabel(i[l]):t[0][xe]()[a](m),v=(g?g+"<br />":"")+b.map(t,function(e,t){return e.formatTooltip(u[t][Y],!0)}).join("<br />"),y="axis_"+e.name+"_"+m;this._showTooltipContent(o,v,d,y,n[0],n[1],null,h)}}},_showItemTooltipContent:function(e,t,n,i){var r=this._api,o=e[xe](n),a=o[k](t),s=a.get("tooltip",!0);if(typeof s===fe){var l=s;s={formatter:l}}var u=this._tooltipModel,c=e[he]("tooltip",u),h=new I(s,c,c.ecModel),d=e.getDataParams(t,n),p=e.formatTooltip(t,!1,n),f="item_"+e.name+"_"+t;this._showTooltipContent(h,p,d,f,i.offsetX,i.offsetY,i.target,r)},_showTooltipContent:function(e,t,n,i,r,o,a,s){if(this._ticket="",e.get("showContent")&&e.get("show")){var l=this._tooltipContent,u=e.get("formatter"),c=e.get(D),h=t;if(u)if(typeof u===fe)h=A.formatTpl(u,n);else if(typeof u===G){var d=this,f=i,m=function(e,t){e===d._ticket&&(l.setContent(t),p(c,r,o,l,n,a,s))};d._ticket=f,h=u(n,f,m)}l.show(e),l.setContent(h),p(c,r,o,l,n,a,s)}},_showAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&b.each(t,function(e){e.show()})}else this.group.eachChild(function(e){e.show()}),this.group.show()},_resetLastHover:function(){var e=this._lastHover;e.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:e.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&b.each(t,function(e){e.hide()})}else this.group.children()[K]&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(e,t){if(!S.node){var n=t.getZr();this._tooltipContent.hide(),n.off("click",this._tryShow),n.off("mousemove",this._mousemove),n.off(X,this._hide),n.off("globalout",this._hide),t.off("showTip",this._manuallyShowTip),t.off("hideTip",this._manuallyHideTip)}}})}),t("echarts/component/legend/legendAction",[we,"../../echarts",Ae],function(e){function t(e,t,n){var r,o={},a="toggleSelected"===e;return n.eachComponent("legend",function(n){a&&null!=r?n[r?"select":"unSelect"](t.name):(n[e](t.name),r=n.isSelected(t.name));var s=n[xe]();i.each(s,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var i=n.isSelected(t);o[t]=t in o?o[t]&&i:i}})}),{name:t.name,selected:o}}var n=e("../../echarts"),i=e(Ae);n.registerAction("legendToggleSelect","legendselectchanged",i.curry(t,"toggleSelected")),n.registerAction("legendSelect","legendselected",i.curry(t,"select")),n.registerAction("legendUnSelect","legendunselected",i.curry(t,"unSelect"))}),t("echarts/component/legend/LegendView",[we,Ae,"../../util/symbol",x,"../helper/listComponent","../../echarts"],function(e){function t(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function n(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function i(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var r=e(Ae),o=e("../../util/symbol"),a=e(x),s=e("../helper/listComponent"),l=r.curry;return e("../../echarts").extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(e,o,u){var c=this.group;if(c[_e](),e.get("show")){var h=e.get("selectedMode"),d=e.get("align");"auto"===d&&(d="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left");var p={};r.each(e[xe](),function(r){var s=r.get("name");if(""===s||"\n"===s)return void c.add(new a.Group({newline:!0}));var f=o.getSeriesByName(s)[0];if(!p[s])if(f){var m=f[xe](),g=m.getVisual("color");typeof g===G&&(g=g(f.getDataParams(0)));var v=m.getVisual("legendSymbol")||"roundRect",y=m.getVisual("symbol"),_=this._createItem(s,r,e,v,y,d,g,h);_.on("click",l(t,s,u)).on(Z,l(n,f,"",u)).on(X,l(i,f,"",u)),p[s]=!0}else o.eachRawSeries(function(o){if(!p[s]&&o.legendDataProvider){var a=o.legendDataProvider(),c=a.indexOfName(s);if(0>c)return;var f=a[b](c,"color"),m="roundRect",g=this._createItem(s,r,e,m,null,d,f,h);g.on("click",l(t,s,u)).on(Z,l(n,o,s,u)).on(X,l(i,o,s,u)),p[s]=!0}},this)},this),s.layout(c,e,u),s.addBackground(c,e)}},_createItem:function(e,t,n,i,s,l,u,c){var h=n.get("itemWidth"),p=n.get("itemHeight"),f=n.get("inactiveColor"),m=n.isSelected(e),g=new a.Group,v=t[he]($),y=t.get("icon"),b=t[he]("tooltip");if(i=y||i,g.add(o.createSymbol(i,0,0,h,p,m?u:f)),!y&&s&&(s!==i||"none"==s)){var _=.8*p;"none"===s&&(s="circle"),g.add(o.createSymbol(s,(h-_)/2,(p-_)/2,_,_,m?u:f))}var x="left"===l?h+5:-5,A=l,w=n.get("formatter"),C=e;typeof w===fe&&w?C=w.replace("{name}",e):typeof w===G&&(C=w(e));var S=new a.Text({style:{text:C,x:x,y:p/2,fill:m?v[E]():f,textFont:v[z](),textAlign:A,textVerticalAlign:"middle"}});g.add(S);var k=new a.Rect({shape:g[P](),invisible:!0,tooltip:b.get("show")?r[ee]({content:e,formatter:function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},b[d]):null});return g.add(k),g.eachChild(function(e){e.silent=!0}),k.silent=!c,this.group.add(g),a.setHoverStyle(g),g}})}),t("echarts/component/legend/LegendModel",[we,Ae,"../../model/Model","../../echarts"],function(e){var t=e(Ae),n=e("../../model/Model"),i=e("../../echarts").extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){i.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e[K];n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var i=t.map(this.get("data")||[],function(e){return(typeof e===fe||typeof e===V)&&(e={name:e}),new n(e,this,this.ecModel)},this);this._data=i;var r=t.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();r=r[A](t.mapArray(t[a]))}}),this._availableNames=r},getData:function(){return this._data},select:function(e){var n=this[d].selected,i=this.get("selectedMode");if("single"===i){var r=this._data;t.each(r,function(e){n[e.get("name")]=!1})}n[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this[d].selected[e]=!1)},toggleSelected:function(e){var t=this[d].selected;e in t||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var n=this[d].selected;return!(e in n&&!n[e])&&t[F](this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});return i}),t("echarts/component/legend/legendFilter",[],function(){return function(e){var t=e.findComponents({mainType:"legend"});t&&t[K]&&e.filterSeries(function(e){for(var n=0;n<t[K];n++)if(!t[n].isSelected(e.name))return!1;return!0})}}),t("zrender/vml/graphic",[we,"../core/env","../core/vector","../core/BoundingRect","../core/PathProxy","../tool/color","../contain/text","../graphic/mixin/RectText","../graphic/Displayable","../graphic/Image","../graphic/Text","../graphic/Path","../graphic/Gradient","./core"],function(e){if(!e("../core/env")[le]){var t=e("../core/vector"),i=e("../core/BoundingRect"),o=e("../core/PathProxy").CMD,a=e("../tool/color"),s=e("../contain/text"),l=e("../graphic/mixin/RectText"),d=e("../graphic/Displayable"),f=e("../graphic/Image"),m=e("../graphic/Text"),g=e("../graphic/Path"),v=e("../graphic/Gradient"),y=e("./core"),b=Math.round,_=Math.sqrt,x=Math.abs,A=Math.cos,w=Math.sin,S=Math.max,k=t[h],I=",",M="progid:DXImageTransform.Microsoft",T=21600,D=T/2,E=1e5,z=1e3,$=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=T+","+T,e.coordorigin="0,0"},N=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},F=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},V=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},G=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},H=function(e,t,n){return(parseFloat(e)||0)*E+(parseFloat(t)||0)*z+n},W=function(e,t){return typeof e===fe?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},q=function(e,t,n){var i=a.parse(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=F(i[0],i[1],i[2]),e[L]=n*i[3])},Y=function(e){var t=a.parse(e);return[F(t[0],t[1],t[2]),t[3]]},X=function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof v){var o,a=0,s=[0,0],l=0,u=1,c=n[P](),h=c.width,d=c[oe];if("linear"===i.type){o="gradient";var p=n[r],f=[i.x*h,i.y*d],m=[i.x2*h,i.y2*d];p&&(k(f,f,p),k(m,m,p));var g=m[0]-f[0],y=m[1]-f[1];a=180*Math.atan2(g,y)/Math.PI,0>a&&(a+=360),1e-6>a&&(a=0)}else{o="gradientradial";var f=[i.x*h,i.y*d],p=n[r],b=n.scale,_=h,x=d;s=[(f[0]-c.x)/_,(f[1]-c.y)/x],p&&k(f,f,p),_/=b[0]*T,x/=b[1]*T;var A=S(_,x);l=0/A,u=2*i.r/A-l}var w=i.colorStops.slice();w.sort(function(e,t){return e.offset-t.offset});for(var C=w[K],I=[],M=[],D=0;C>D;D++){var B=w[D],O=Y(B.color);M.push(B.offset*u+l+" "+O[0]),(0===D||D===C-1)&&I.push(O)}if(C>=2){var E=I[0][0],z=I[1][0],R=I[0][1]*t[L],$=I[1][1]*t[L];e.type=o,e.method="none",e.focus="100%",e.angle=a,e.color=E,e.color2=z,e.colors=M.join(","),e[L]=$,e.opacity2=R}"radial"===o&&(e.focusposition=s.join(","))}else q(e,i,t[L])},Z=function(e,t){null!=t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null==t[u]||t[u]instanceof v||q(e,t[u],t[L])},Q=function(e,t,n,i){var r="fill"==t,o=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(r||!r&&n[c])?(e[r?"filled":"stroked"]="true",n[t]instanceof v&&G(e,o),o||(o=y.createNode(t)),r?X(o,n,i):Z(o,n),V(e,o)):(e[r?"filled":"stroked"]="false",G(e,o))},J=[[],[],[]],ee=function(e,t){var n,i,r,a,s,l,u=o.M,c=o.C,h=o.L,d=o.A,p=o.Q,f=[];for(a=0;a<e[K];){switch(r=e[a++],i="",n=0,r){case u:i=" m ",n=1,s=e[a++],l=e[a++],J[0][0]=s,J[0][1]=l;break;case h:i=" l ",n=1,s=e[a++],l=e[a++],J[0][0]=s,J[0][1]=l;break;case p:case c:i=" c ",n=3;var m,g,v=e[a++],y=e[a++],x=e[a++],C=e[a++];r===p?(m=x,g=C,x=(x+2*v)/3,C=(C+2*y)/3,v=(s+2*v)/3,y=(l+2*y)/3):(m=e[a++],g=e[a++]),J[0][0]=v,J[0][1]=y,J[1][0]=x,J[1][1]=C,J[2][0]=m,J[2][1]=g,s=m,l=g;break;case d:var S=0,M=0,L=1,B=1,O=0;t&&(S=t[4],M=t[5],L=_(t[0]*t[0]+t[1]*t[1]),B=_(t[2]*t[2]+t[3]*t[3]),O=Math.atan2(-t[1]/B,t[0]/L));var P=e[a++],E=e[a++],z=e[a++],R=e[a++],$=e[a++]+O,N=e[a++]+$+O;a++;var F=e[a++],j=P+A($)*z,V=E+w($)*R,v=P+A(N)*z,y=E+w(N)*R,G=F?" wa ":" at ";Math.abs(j-v)<1e-10&&(Math.abs(N-$)>.01?F&&(j+=270/T):Math.abs(V-E)<1e-10?F&&P>j||!F&&j>P?y-=270/T:y+=270/T:F&&E>V||!F&&V>E?v+=270/T:v-=270/T),f.push(G,b(((P-z)*L+S)*T-D),I,b(((E-R)*B+M)*T-D),I,b(((P+z)*L+S)*T-D),I,b(((E+R)*B+M)*T-D),I,b((j*L+S)*T-D),I,b((V*B+M)*T-D),I,b((v*L+S)*T-D),I,b((y*B+M)*T-D)),s=v,l=y;break;case o.R:var H=J[0],U=J[1];H[0]=e[a++],H[1]=e[a++],U[0]=H[0]+e[a++],U[1]=H[1]+e[a++],t&&(k(H,H,t),k(U,U,t)),H[0]=b(H[0]*T-D),U[0]=b(U[0]*T-D),H[1]=b(H[1]*T-D),U[1]=b(U[1]*T-D),f.push(" m ",H[0],I,H[1]," l ",U[0],I,H[1]," l ",U[0],I,U[1]," l ",H[0],I,U[1]);break;case o.Z:f.push(" x ")}if(n>0){f.push(i);for(var W=0;n>W;W++){var q=J[W];t&&k(q,q,t),f.push(b(q[0]*T-D),I,b(q[1]*T-D),n-1>W?I:"")}}}return f.join("")};g[me].brushVML=function(e){var t=this.style,i=this._vmlEl;i||(i=y.createNode("shape"),$(i),this._vmlEl=i),Q(i,"fill",t,this),Q(i,u,t,this);var o=this[r],a=null!=o,s=i.getElementsByTagName(u)[0];if(s){var l=t[c];if(a&&!t.strokeNoScale){var h=o[0]*o[3]-o[1]*o[2];l*=_(x(h))}s.weight=l+"px"}var d=this.path;this.__dirtyPath&&(d.beginPath(),this[n](d,this.shape),d.toStatic(),this.__dirtyPath=!1),i.path=ee(d.data,this[r]),i.style.zIndex=H(this[U],this.z,this.z2),V(e,i),t.text?this.drawRectText(e,this[P]()):this.removeRectText(e)},g[me].onRemove=function(e){G(e,this._vmlEl),this.removeRectText(e)},g[me].onAdd=function(e){V(e,this._vmlEl),this.appendRectText(e)};var te=function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()};f[me].brushVML=function(e){var t,n,i=this.style,o=i.image;if(te(o)){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,u=s[oe];s.width="auto",s[oe]="auto",t=o.width,n=o[oe],s.width=l,s[oe]=u,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var c=i.x||0,h=i.y||0,d=i.width,p=i[oe],f=i.sWidth,m=i.sHeight,g=i.sx||0,v=i.sy||0,x=f&&m,A=this._vmlEl;A||(A=y.doc[C]("div"),$(A),this._vmlEl=A);var w,T=A.style,D=!1,B=1,O=1;if(this[r]&&(w=this[r],B=_(w[0]*w[0]+w[1]*w[1]),O=_(w[2]*w[2]+w[3]*w[3]),D=w[1]||w[2]),D){var E=[c,h],z=[c+d,h],R=[c,h+p],N=[c+d,h+p];k(E,E,w),k(z,z,w),k(R,R,w),k(N,N,w);var F=S(E[0],z[0],R[0],N[0]),G=S(E[1],z[1],R[1],N[1]),W=[];W.push("M11=",w[0]/B,I,"M12=",w[2]/O,I,"M21=",w[1]/B,I,"M22=",w[3]/O,I,"Dx=",b(c*B+w[4]),I,"Dy=",b(h*O+w[5])),T.padding="0 "+b(F)+"px "+b(G)+"px 0",T[j]=M+".Matrix("+W.join("")+", SizingMethod=clip)"}else w&&(c=c*B+w[4],h=h*O+w[5]),T[j]="",T.left=b(c)+"px",T.top=b(h)+"px";var q=this._imageEl,Y=this._cropEl;q||(q=y.doc[C]("div"),this._imageEl=q);var X=q.style;if(x){if(t&&n)X.width=b(B*t*d/f)+"px",X[oe]=b(O*n*p/m)+"px";else{var Z=new Image,Q=this;Z.onload=function(){Z.onload=null,t=Z.width,n=Z[oe],X.width=b(B*t*d/f)+"px",X[oe]=b(O*n*p/m)+"px",Q._imageWidth=t,Q._imageHeight=n,Q._imageSrc=o},Z.src=o}Y||(Y=y.doc[C]("div"),Y.style.overflow="hidden",this._cropEl=Y);var J=Y.style;J.width=b((d+g*d/f)*B),J[oe]=b((p+v*p/m)*O),J[j]=M+".Matrix(Dx="+-g*d/f*B+",Dy="+-v*p/m*O+")",Y.parentNode||A.appendChild(Y),q.parentNode!=Y&&Y.appendChild(q)}else X.width=b(B*d)+"px",X[oe]=b(O*p)+"px",A.appendChild(q),Y&&Y.parentNode&&(A.removeChild(Y),this._cropEl=null);var K="",ee=i[L];1>ee&&(K+=".Alpha(opacity="+b(100*ee)+") "),K+=M+".AlphaImageLoader(src="+o+", SizingMethod=scale)",X[j]=K,A.style.zIndex=H(this[U],this.z,this.z2),V(e,A),i.text&&this.drawRectText(e,this[P]())}},f[me].onRemove=function(e){G(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},f[me].onAdd=function(e){V(e,this._vmlEl),this.appendRectText(e)};var ne,ie=p,re={},se=0,ue=100,ce=document[C]("div"),he=function(e){var t=re[e];if(!t){se>ue&&(se=0,re={});var n,i=ce.style;try{i.font=e,n=i.fontFamily.split(",")[0]}catch(r){}t={style:i.fontStyle||ie,variant:i.fontVariant||ie,weight:i.fontWeight||ie,size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},re[e]=t,se++}return t};s.measureText=function(e,t){var n=y.doc;ne||(ne=n[C]("div"),ne.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",y.doc.body.appendChild(ne));try{ne.style.font=t}catch(i){}return ne.innerHTML="",ne.appendChild(n.createTextNode(e)),{width:ne.offsetWidth}};for(var de=new i,pe=function(e,t,n,i){var o=this.style,a=o.text;if(a){var l,c,d=o[R],p=he(o.textFont),f=p.style+" "+p.variant+" "+p.weight+" "+p.size+'px "'+p.family+'"',m=o.textBaseline,g=o.textVerticalAlign;n=n||s[P](a,f,d,m);var v=this[r];if(v&&!i&&(de.copy(t),de[h](v),t=de),i)l=t.x,c=t.y;else{var _=o.textPosition,x=o.textDistance;if(_ instanceof Array)l=t.x+W(_[0],t.width),c=t.y+W(_[1],t[oe]),d=d||"left",m=m||"top";else{var A=s.adjustTextPositionOnRect(_,t,n,x);l=A.x,c=A.y,d=d||A[R],m=m||A.textBaseline}}if(g){switch(g){case O:c-=n[oe]/2;break;case ae:c-=n[oe]}m="top"}var w=p.size;switch(m){case"hanging":case"top":c+=w/1.75;break;case O:break;default:c-=w/2.25}switch(d){case"left":break;case B:l-=n.width/2;break;case"right":l-=n.width}var C,S,M,T=y.createNode,D=this._textVmlEl;D?(M=D.firstChild,C=M.nextSibling,S=C.nextSibling):(D=T("line"),C=T("path"),S=T("textpath"),M=T("skew"),S.style["v-text-align"]="left",$(D),C.textpathok=!0,S.on=!0,D.from="0 0",D.to="1000 0.05",V(D,M),V(D,C),V(D,S),this._textVmlEl=D);var E=[l,c],z=D.style;v&&i?(k(E,E,v),M.on=!0,M.matrix=v[0].toFixed(3)+I+v[2].toFixed(3)+I+v[1].toFixed(3)+I+v[3].toFixed(3)+",0,0",M.offset=(b(E[0])||0)+","+(b(E[1])||0),M.origin="0 0",z.left="0px",z.top="0px"):(M.on=!1,z.left=b(l)+"px",z.top=b(c)+"px"),S[fe]=N(a);try{S.style.font=f}catch(F){}Q(D,"fill",{
fill:i?o.fill:o.textFill,opacity:o[L]},this),Q(D,u,{stroke:i?o[u]:o.textStroke,opacity:o[L],lineDash:o.lineDash},this),D.style.zIndex=H(this[U],this.z,this.z2),V(e,D)}},ge=function(e){G(e,this._textVmlEl),this._textVmlEl=null},ve=function(e){V(e,this._textVmlEl)},ye=[l,d,f,g,m],be=0;be<ye[K];be++){var _e=ye[be][me];_e.drawRectText=pe,_e.removeRectText=ge,_e.appendRectText=ve}m[me].brushVML=function(e){var t=this.style;t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this[P](),!0):this.removeRectText(e)},m[me].onRemove=function(e){this.removeRectText(e)},m[me].onAdd=function(e){this.appendRectText(e)}}}),t("zrender/vml/Painter",[we,"../core/log","./core"],function(e){function t(e){return parseInt(e,10)}function n(e,t){o.initVML(),this.root=e,this.storage=t;var n=document[C]("div"),i=document[C]("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this[de]();var r=t.delFromMap,a=t.addToMap;t.delFromMap=function(e){var n=t.get(e);r.call(t,e),n&&n.onRemove&&n.onRemove(i)},t.addToMap=function(e){e.onAdd&&e.onAdd(i),a.call(t,e)},this._firstPaint=!0}function i(e){return function(){r('In IE8.0 VML mode painter not support method "'+e+'"')}}var r=e("../core/log"),o=e("./core");n[me]={constructor:n,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e[K];n++){var i=e[n];i.invisible||i[se]?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(){var e=this._getWidth(),t=this._getHeight();if(this._width!=e&&this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n[oe]=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var e=this.root,n=e.currentStyle;return(e.clientWidth||t(n.width))-t(n.paddingLeft)-t(n.paddingRight)|0},_getHeight:function(){var e=this.root,n=e.currentStyle;return(e.clientHeight||t(n[oe]))-t(n.paddingTop)-t(n.paddingBottom)|0}};for(var a=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],s=0;s<a[K];s++){var l=a[s];n[me][l]=i(l)}return n}),t("echarts/scale/Interval",[we,"../util/number","../util/format","./Scale"],function(e){var t=e("../util/number"),n=e("../util/format"),i=e("./Scale"),r=Math.floor,o=Math.ceil,a=i[ee]({type:"interval",_interval:0,setExtent:function(e,t){var n=this[M];isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this[M];e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),a[me].setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this[M].slice()},getTicks:function(){this._interval||this.niceTicks();var e=this._interval,n=this[M],i=[],r=1e4;if(e){var o=this._niceExtent;n[0]<o[0]&&i.push(n[0]);for(var a=o[0];a<=o[1];)if(i.push(a),a=t.round(a+e),i[K]>r)return[];n[1]>o[1]&&i.push(n[1])}return i},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t[K];n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e){return n.addCommas(e)},niceTicks:function(e){e=e||5;var n=this[M],i=n[1]-n[0];if(isFinite(i)){0>i&&(i=-i,n.reverse());var a=t.nice(i/e,!0),s=[t.round(o(n[0]/a)*a),t.round(r(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},niceExtent:function(e,n,i){var a=this[M];if(a[0]===a[1])if(0!==a[0]){var s=a[0];i?a[0]-=s/2:(a[1]+=s/2,a[0]-=s/2)}else a[1]=1;var l=a[1]-a[0];isFinite(l)||(a[0]=0,a[1]=1),this.niceTicks(e);var u=this._interval;n||(a[0]=t.round(r(a[0]/u)*u)),i||(a[1]=t.round(o(a[1]/u)*u))}});return a[re]=function(){return new a},a}),t("echarts/coord/cartesian/Cartesian2D",[we,Ae,"./Cartesian"],function(e){function t(e){i.call(this,e)}var n=e(Ae),i=e("./Cartesian");return t[me]={constructor:t,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale(m)[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t[I](t.toLocalCoord(e[0]))&&n[I](n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoints:function(e,t){return e.mapArray(["x","y"],function(e,t){return this.dataToPoint([e,t])},t,this)},dataToPoint:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),i.toGlobalCoord(i.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),i.coordToData(i.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},n[N](t,i),t}),t("echarts/coord/axisHelper",[we,"../scale/Ordinal","../scale/Interval","../scale/Time","../scale/Log","../scale/Scale","../util/number",Ae,"zrender/contain/text"],function(e){var t=e("../scale/Ordinal"),n=e("../scale/Interval");e("../scale/Time"),e("../scale/Log");var i=e("../scale/Scale"),r=e("../util/number"),o=e(Ae),a=e("zrender/contain/text"),s={};return s.getScaleExtent=function(e,t){var n=e.scale,i=n[T](),a=i[1]-i[0];if(n.type===m)return isFinite(a)?i:[0,0];var s=t.getMin?t.getMin():t.get("min"),l=t.getMax?t.getMax():t.get("max"),u=t.getNeedCrossZero?t.getNeedCrossZero():!t.get("scale"),c=t.get("boundaryGap");o[H](c)||(c=[c||0,c||0]),c[0]=r.parsePercent(c[0],1),c[1]=r.parsePercent(c[1],1);var h=!0,d=!0;return null==s&&(s=i[0]-c[0]*a,h=!1),null==l&&(l=i[1]+c[1]*a,d=!1),"dataMin"===s&&(s=i[0]),"dataMax"===l&&(l=i[1]),u&&(s>0&&l>0&&!h&&(s=0),0>s&&0>l&&!d&&(l=0)),[s,l]},s.niceScaleExtent=function(e,t){var n=e.scale,i=s.getScaleExtent(e,t),r=null!=(t.getMin?t.getMin():t.get("min")),o=null!=(t.getMax?t.getMax():t.get("max")),a=t.get("splitNumber");n.setExtent(i[0],i[1]),n.niceExtent(a,r,o);var l=t.get("minInterval");if(isFinite(l)&&!r&&!o&&"interval"===n.type){var u=n.getInterval(),c=Math.max(Math.abs(u),l)/u;i=n[T](),n.setExtent(c*i[0],i[1]*c),n.niceExtent(a)}var u=t.get("interval");null!=u&&n.setInterval&&n.setInterval(u)},s.createScaleByModel=function(e,r){if(r=r||e.get("type"))switch(r){case f:return new t(e.getCategories(),[1/0,-1/0]);case"value":return new n;default:return(i.getClass(r)||n)[re](e)}},s.ifAxisCrossZero=function(e){var t=e.scale[T](),n=t[0],i=t[1];return!(n>0&&i>0||0>n&&0>i)},s.getAxisLabelInterval=function(e,t,n,i){var r,o=0,s=0,l=1;t[K]>40&&(l=Math.floor(t[K]/40));for(var u=0;u<e[K];u+=l){var c=e[u],h=a[P](t[u],n,B,"top");h[i?"x":"y"]+=c,h[i?"width":oe]*=1.3,r?r.intersect(h)?(s++,o=Math.max(o,s)):(r.union(h),s=0):r=h.clone()}return 0===o&&l>1?l:(o+1)*l-1},s.getFormattedLabels=function(e,t){var n=e.scale,i=n.getTicksLabels(),r=n.getTicks();return typeof t===fe?(t=function(e){return function(t){return e.replace("{value}",t)}}(t),o.map(i,t)):typeof t===G?o.map(r,function(i,r){return t(e.type===f?n.getLabel(i):i,r)},this):i},s}),t("echarts/coord/cartesian/Axis2D",[we,Ae,"../Axis","./axisLabelInterval"],function(e){var t=e(Ae),n=e("../Axis"),i=e("./axisLabelInterval"),r=function(e,t,i,r,o){n.call(this,e,t,i),this.type=r||"value",this[D]=o||ae};return r[me]={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this[D];return"top"===e||e===ae},getGlobalExtent:function(){var e=this[T]();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),e},getLabelInterval:function(){var e=this._labelInterval;return e||(e=this._labelInterval=i(this)),e},isLabelIgnored:function(e){if(this.type===f){var t=this.getLabelInterval();return typeof t===G&&!t(e,this.scale.getLabel(e))||e%(t+1)}},toLocalCoord:null,toGlobalCoord:null},t[N](r,n),r}),t("echarts/coord/cartesian/GridModel",[we,"./AxisModel","../../model/Component"],function(e){e("./AxisModel");var t=e("../../model/Component");return t[ee]({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})}),t("echarts/visual/dataColor",[we],function(){return function(e,t){var n={};t.eachRawSeriesByType(e,function(e){var i=e.getRawData(),r={};if(!t.isSeriesFiltered(e)){var o=e[xe]();o.each(function(e){var t=o.getRawIndex(e);r[t]=e}),i.each(function(t){var s=i[k](t),l=r[t],u=o[b](l,"color",!0);if(u)i.setItemVisual(t,"color",u);else{var c=s.get("itemStyle.normal.color")||e.getColorFromPalette(i[a](t),n);i.setItemVisual(t,"color",c),o.setItemVisual(l,"color",c)}})}})}}),t("echarts/chart/pie/PieView",[we,x,Ae,"../../view/Chart"],function(e){function t(e,t,i,r){var o=t[xe](),s=this[Y],l=o[a](s),u=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:e,name:l,seriesId:t.id}),o.each(function(e){n(o[g](e),o[y](e),t.isSelected(o[a](e)),u,i)})}function n(e,t,n,i,r){var o=(t.startAngle+t.endAngle)/2,a=Math.cos(o),s=Math.sin(o),l=n?i:0,u=[a*l,s*l];r?e.animate().when(200,{position:u}).start("bounceOut"):e.attr(D,u)}function i(e,t){function n(){a[se]=a.hoverIgnore,s[se]=s.hoverIgnore}function i(){a[se]=a.normalIgnore,s[se]=s.normalIgnore}o.Group.call(this);var r=new o.Sector({z2:2}),a=new o.Polyline,s=new o.Text;this.add(r),this.add(a),this.add(s),this.updateData(e,t,!0),this.on("emphasis",n).on(p,i).on(Z,n).on(X,i)}function r(e,t,n,i,r){var o=i[he]($),s=r===l||"inner"===r;return{fill:o[E]()||(s?"#fff":e[b](t,"color")),opacity:e[b](t,L),textFont:o[z](),text:u.retrieve(e.hostModel.getFormattedLabel(t,n),e[a](t))}}var o=e(x),u=e(Ae),c=i[me];c.updateData=function(e,t,i){function r(){s.stopAnimation(!0),s.animateTo({shape:{r:h.r+10}},300,"elasticOut")}function a(){s.stopAnimation(!0),s.animateTo({shape:{r:h.r}},300,"elasticOut")}var s=this.childAt(0),l=e.hostModel,c=e[k](t),h=e[y](t),d=u[ee]({},h);d.label=null,i?(s.setShape(d),s.shape.endAngle=h.startAngle,o.updateProps(s,{shape:{endAngle:h.endAngle}},l,t)):o.updateProps(s,{shape:d},l,t);var f=c[he]("itemStyle"),m=e[b](t,"color");s.useStyle(u[ye]({lineJoin:"bevel",fill:m},f[he](p).getItemStyle())),s.hoverStyle=f[he]("emphasis").getItemStyle(),n(this,e[y](t),c.get("selected"),l.get("selectedOffset"),l.get(v)),s.off(Z).off(X).off("emphasis").off(p),c.get("hoverAnimation")&&l.ifEnableAnimation()&&s.on(Z,r).on(X,a).on("emphasis",r).on(p,a),this._updateLabel(e,t),o.setHoverStyle(this)},c._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),a=e.hostModel,l=e[k](t),u=e[y](t),c=u.label,h=e[b](t,"color");o.updateProps(n,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},a,t),o.updateProps(i,{style:{x:c.x,y:c.y}},a,t),i.attr({style:{textVerticalAlign:c.verticalAlign,textAlign:c[R],textFont:c.font},rotation:c[s],origin:[c.x,c.y],z2:10});var d=l[he]("label.normal"),f=l[he]("label.emphasis"),m=l[he]("labelLine.normal"),g=l[he]("labelLine.emphasis"),v=d.get(D)||f.get(D);i[W](r(e,t,p,d,v)),i[se]=i.normalIgnore=!d.get("show"),i.hoverIgnore=!f.get("show"),n[se]=n.normalIgnore=!m.get("show"),n.hoverIgnore=!g.get("show"),n[W]({stroke:h,opacity:e[b](t,L)}),n[W](m[he]("lineStyle").getLineStyle()),i.hoverStyle=r(e,t,"emphasis",f,v),n.hoverStyle=g[he]("lineStyle").getLineStyle();var _=m.get("smooth");_&&_===!0&&(_=.4),n.setShape({smooth:_})},u[N](i,o.Group);var h=e("../../view/Chart")[ee]({type:"pie",init:function(){var e=new o.Group;this._sectorGroup=e},render:function(e,n,r,o){if(!o||o.from!==this.uid){var a=e[xe](),s=this._data,l=this.group,c=n.get(v),h=!s,d=u.curry(t,this.uid,e,c,r),p=e.get("selectedMode");if(a.diff(s).add(function(e){var t=new i(a,e);h&&t.eachChild(function(e){e.stopAnimation(!0)}),p&&t.on("click",d),a.setItemGraphicEl(e,t),l.add(t)})[ie](function(e,t){var n=s[g](t);n.updateData(a,e),n.off("click"),p&&n.on("click",d),l.add(n),a.setItemGraphicEl(e,n)})[te](function(e){var t=s[g](e);l[te](t)}).execute(),c&&h&&a.count()>0){var f=a[y](0),m=Math.max(r[ce](),r[ue]())/2,b=u.bind(l.removeClipPath,l);l.setClipPath(this._createClipPath(f.cx,f.cy,m,f.startAngle,f.clockwise,b,e))}this._data=a}},_createClipPath:function(e,t,n,i,r,a,s){var l=new o.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return o.initProps(l,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},s,a),l}});return h}),t("zrender/tool/path",[we,"../graphic/Path","../core/PathProxy","./transformPath","../core/matrix"],function(e){function t(e,t,n,i,r,o,a,s,l,u,h){var m=l*(f/180),y=p(m)*(e-n)/2+d(m)*(t-i)/2,b=-1*d(m)*(e-n)/2+p(m)*(t-i)/2,_=y*y/(a*a)+b*b/(s*s);_>1&&(a*=c(_),s*=c(_));var x=(r===o?-1:1)*c((a*a*s*s-a*a*b*b-s*s*y*y)/(a*a*b*b+s*s*y*y))||0,A=x*a*b/s,w=x*-s*y/a,C=(e+n)/2+p(m)*A-d(m)*w,S=(t+i)/2+d(m)*A+p(m)*w,k=v([1,0],[(y-A)/a,(b-w)/s]),I=[(y-A)/a,(b-w)/s],M=[(-1*y-A)/a,(-1*b-w)/s],T=v(I,M);g(I,M)<=-1&&(T=f),g(I,M)>=1&&(T=0),0===o&&T>0&&(T-=2*f),1===o&&0>T&&(T+=2*f),h.addData(u,C,S,a,s,k,T,m,o)}function i(e){if(!e)return[];var n,i=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(n=0;n<u[K];n++)i=i.replace(new RegExp(u[n],"g"),"|"+u[n]);var r,o=i.split("|"),s=0,l=0,c=new a,h=a.CMD;for(n=1;n<o[K];n++){var d,p=o[n],f=p.charAt(0),m=0,g=p.slice(1).replace(/e,-/g,"e-").split(",");g[K]>0&&""===g[0]&&g.shift();for(var v=0;v<g[K];v++)g[v]=parseFloat(g[v]);for(;m<g[K]&&!isNaN(g[m])&&!isNaN(g[0]);){var y,b,_,x,A,w,C,S=s,k=l;switch(f){case"l":s+=g[m++],l+=g[m++],d=h.L,c.addData(d,s,l);break;case"L":s=g[m++],l=g[m++],d=h.L,c.addData(d,s,l);break;case"m":s+=g[m++],l+=g[m++],d=h.M,c.addData(d,s,l),f="l";break;case"M":s=g[m++],l=g[m++],d=h.M,c.addData(d,s,l),f="L";break;case"h":s+=g[m++],d=h.L,c.addData(d,s,l);break;case"H":s=g[m++],d=h.L,c.addData(d,s,l);break;case"v":l+=g[m++],d=h.L,c.addData(d,s,l);break;case"V":l=g[m++],d=h.L,c.addData(d,s,l);break;case"C":d=h.C,c.addData(d,g[m++],g[m++],g[m++],g[m++],g[m++],g[m++]),s=g[m-2],l=g[m-1];break;case"c":d=h.C,c.addData(d,g[m++]+s,g[m++]+l,g[m++]+s,g[m++]+l,g[m++]+s,g[m++]+l),s+=g[m-2],l+=g[m-1];break;case"S":y=s,b=l;var I=c.len(),M=c.data;r===h.C&&(y+=s-M[I-4],b+=l-M[I-3]),d=h.C,S=g[m++],k=g[m++],s=g[m++],l=g[m++],c.addData(d,y,b,S,k,s,l);break;case"s":y=s,b=l;var I=c.len(),M=c.data;r===h.C&&(y+=s-M[I-4],b+=l-M[I-3]),d=h.C,S=s+g[m++],k=l+g[m++],s+=g[m++],l+=g[m++],c.addData(d,y,b,S,k,s,l);break;case"Q":S=g[m++],k=g[m++],s=g[m++],l=g[m++],d=h.Q,c.addData(d,S,k,s,l);break;case"q":S=g[m++]+s,k=g[m++]+l,s+=g[m++],l+=g[m++],d=h.Q,c.addData(d,S,k,s,l);break;case"T":y=s,b=l;var I=c.len(),M=c.data;r===h.Q&&(y+=s-M[I-4],b+=l-M[I-3]),s=g[m++],l=g[m++],d=h.Q,c.addData(d,y,b,s,l);break;case"t":y=s,b=l;var I=c.len(),M=c.data;r===h.Q&&(y+=s-M[I-4],b+=l-M[I-3]),s+=g[m++],l+=g[m++],d=h.Q,c.addData(d,y,b,s,l);break;case"A":_=g[m++],x=g[m++],A=g[m++],w=g[m++],C=g[m++],S=s,k=l,s=g[m++],l=g[m++],d=h.A,t(S,k,s,l,w,C,_,x,A,d,c);break;case"a":_=g[m++],x=g[m++],A=g[m++],w=g[m++],C=g[m++],S=s,k=l,s+=g[m++],l+=g[m++],d=h.A,t(S,k,s,l,w,C,_,x,A,d,c)}}("z"===f||"Z"===f)&&(d=h.Z,c.addData(d)),r=d}return c.toStatic(),c}function r(e,t){var r,o=i(e);return t=t||{},t[n]=function(e){e.setData(o.data),r&&s(e,r);var t=e[w]();t&&e.rebuildPath(t)},t[h]=function(e){r||(r=l[re]()),l.mul(r,e,r)},t}var o=e("../graphic/Path"),a=e("../core/PathProxy"),s=e("./transformPath"),l=e("../core/matrix"),u=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,d=Math.sin,p=Math.cos,f=Math.PI,m=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},g=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(m(e)*m(t))},v=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(g(e,t))};return{createFromString:function(e,t){return new o(r(e,t))},extendFromString:function(e,t){return o[ee](r(e,t))},mergePath:function(e,t){for(var i=[],r=e[K],a=0;r>a;a++){var s=e[a];s.__dirty&&s[n](s.path,s.shape,!0),i.push(s.path)}var l=new o(t);return l[n]=function(e){e.appendPath(i);var t=e[w]();t&&e.rebuildPath(t)},l}}}),t("zrender/graphic/Path",[we,"./Displayable","../core/util","../core/PathProxy","../contain/path","./Pattern"],function(e){function t(e){i.call(this,e),this.path=new a}var i=e("./Displayable"),o=e("../core/util"),a=e("../core/PathProxy"),s=e("../contain/path"),l=e("./Pattern"),h=l[me].getCanvasPattern,d=Math.abs;return t[me]={constructor:t,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var i=this.style,r=this.path,o=i.hasStroke(),a=i.hasFill(),s=i.fill,l=i[u],c=a&&!!s.colorStops,d=o&&!!l.colorStops,p=a&&!!s.image,f=o&&!!l.image;if(i.bind(e,this,t),this.setTransform(e),this.__dirty){var m=this[P]();c&&(this._fillGradient=i.getGradient(e,s,m)),d&&(this._strokeGradient=i.getGradient(e,l,m))}c?e.fillStyle=this._fillGradient:p&&(e.fillStyle=h.call(s,e)),d?e.strokeStyle=this._strokeGradient:f&&(e.strokeStyle=h.call(l,e));var g=i.lineDash,v=i.lineDashOffset,y=!!e.setLineDash,b=this.getGlobalScale();r.setScale(b[0],b[1]),this.__dirtyPath||g&&!y&&o?(r=this.path.beginPath(e),g&&!y&&(r.setLineDash(g),r.setLineDashOffset(v)),this[n](r,this.shape,!1),this.__dirtyPath=!1):(e.beginPath(),this.path.rebuildPath(e)),a&&r.fill(e),g&&y&&(e.setLineDash(g),e.lineDashOffset=v),o&&r[u](e),g&&y&&e.setLineDash([]),this.restoreTransform(e),(i.text||0===i.text)&&this.drawRectText(e,this[P]())},buildPath:function(){},getBoundingRect:function(){var e=this._rect,t=this.style,i=!e;if(i){var r=this.path;this.__dirtyPath&&(r.beginPath(),this[n](r,this.shape,!1)),e=r[P]()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||i){o.copy(e);var a=t[c],s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),s>1e-10&&(o.width+=a/s,o[oe]+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this[P](),r=this.style;if(e=n[0],t=n[1],i[I](e,t)){var o=this.path.data;if(r.hasStroke()){var a=r[c],l=r.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),s.containStroke(o,a/l,e,t)))return!0}if(r.hasFill())return s[I](o,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):i[me].attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(o[ne](e))for(var i in e)n[i]=e[i];else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this[r];return e&&d(e[0]-1)>1e-10&&d(e[3]-1)>1e-10?Math.sqrt(d(e[0]*e[3]-e[2]*e[1])):1}},t[ee]=function(e){var n=function(n){t.call(this,n),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var r=this.shape;for(var o in i)!r.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(r[o]=i[o])}e.init&&e.init.call(this,n)};o[N](n,t);for(var i in e)"style"!==i&&"shape"!==i&&(n[me][i]=e[i]);return n},o[N](t,i),t}),t("zrender/graphic/Gradient",[we],function(){var e=function(e){this.colorStops=e||[]};return e[me]={constructor:e,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},e}),t("zrender/container/Group",[we,"../core/util","../Element","../core/BoundingRect"],function(e){var t=e("../core/util"),n=e("../Element"),i=e("../core/BoundingRect"),r=function(e){e=e||{},n.call(this,e);for(var t in e)this[t]=e[t];this._children=[],this.__storage=null,this.__dirty=!0};return r[me]={constructor:r,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t[K];n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children[K]},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n[F](t);i>=0&&(n[Q](i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent[te](e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToMap(e),e instanceof r&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var n=this.__zr,i=this.__storage,o=this._children,a=t[F](o,e);return 0>a?this:(o[Q](a,1),e.parent=null,i&&(i.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(i)),n&&n.refresh(),this)},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n[K];t++)e=n[t],i&&(i.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(i)),e.parent=null;return n[K]=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n[K];i++){var r=n[i];e.call(t,r,i)}return this},traverse:function(e,t){for(var n=0;n<this._children[K];n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children[K];t++){var n=this._children[t];e.addToMap(n),n instanceof r&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children[K];t++){var n=this._children[t];e.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new i(0,0,0,0),r=e||this._children,o=[],a=0;a<r[K];a++){var s=r[a];if(!s[se]&&!s.invisible){var l=s[P](),u=s.getLocalTransform(o);u?(n.copy(l),n[h](u),t=t||n.clone(),t.union(n)):(t=t||l.clone(),t.union(l))}}return t||n}},t[N](r,n),r}),t("zrender/graphic/Image",[we,"./Displayable","../core/BoundingRect","../core/util","../core/LRU"],function(e){function t(e){n.call(this,e)}var n=e("./Displayable"),i=e("../core/BoundingRect"),r=e("../core/util"),o=e("../core/LRU"),a=new o(50);return t[me]={constructor:t,type:"image",brush:function(e,t){var n,i=this.style,r=i.image;if(i.bind(e,this,t),n=typeof r===fe?this._image:r,!n&&r){var o=a.get(r);if(!o)return n=new Image,n.onload=function(){n.onload=null;for(var e=0;e<o.pending[K];e++)o.pending[e].dirty()},o={image:n,pending:[this]},n.src=r,a.put(r,o),void(this._image=n);if(n=o.image,this._image=n,!n.width||!n[oe])return void o.pending.push(this)}if(n){var s=i.width||n.width,l=i[oe]||n[oe],u=i.x||0,c=i.y||0;if(!n.width||!n[oe])return;if(this.setTransform(e),i.sWidth&&i.sHeight){var h=i.sx||0,d=i.sy||0;e.drawImage(n,h,d,i.sWidth,i.sHeight,u,c,s,l)}else if(i.sx&&i.sy){var h=i.sx,d=i.sy,p=s-h,f=l-d;e.drawImage(n,h,d,p,f,u,c,s,l)}else e.drawImage(n,u,c,s,l);null==i.width&&(i.width=s),null==i[oe]&&(i[oe]=l),this.restoreTransform(e),null!=i.text&&this.drawRectText(e,this[P]())}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new i(e.x||0,e.y||0,e.width||0,e[oe]||0)),this._rect}},r[N](t,n),t}),t("zrender/graphic/Text",[we,"./Displayable","../core/util","../contain/text"],function(e){var t=e("./Displayable"),n=e("../core/util"),i=e("../contain/text"),r=function(e){t.call(this,e)};return r[me]={constructor:r,type:"text",brush:function(e,t){var n=this.style,r=n.x||0,o=n.y||0,a=n.text;if(null!=a&&(a+=""),n.bind(e,this,t),a){this.setTransform(e);var s,l=n[R],u=n.textFont||n.font;if(n.textVerticalAlign){var c=i[P](a,u,n[R],"top");switch(s=O,n.textVerticalAlign){case O:o-=c[oe]/2-c.lineHeight/2;break;case ae:o-=c[oe]-c.lineHeight/2;break;default:o+=c.lineHeight/2}}else s=n.textBaseline;e.font=u,e[R]=l||"left",e[R]!==l&&(e[R]="left"),e.textBaseline=s||"alphabetic",e.textBaseline!==s&&(e.textBaseline="alphabetic");for(var h=i.measureText("国",e.font).width,d=a.split("\n"),p=0;p<d[K];p++)n.hasFill()&&e.fillText(d[p],r,o),n.hasStroke()&&e.strokeText(d[p],r,o),o+=h;this.restoreTransform(e)}},getBoundingRect:function(){if(!this._rect){var e=this.style,t=e.textVerticalAlign,n=i[P](e.text+"",e.textFont||e.font,e[R],t?"top":e.textBaseline);switch(t){case O:n.y-=n[oe]/2;break;case ae:n.y-=n[oe]}n.x+=e.x||0,n.y+=e.y||0,this._rect=n}return this._rect}},n[N](r,t),r}),t("zrender/graphic/shape/Sector",[we,"../Path"],function(e){return e("../Path")[ee]({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,r=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=t.startAngle,l=t.endAngle,u=t.clockwise,c=Math.cos(s),h=Math.sin(s);e[i](c*o+n,h*o+r),e.lineTo(c*a+n,h*a+r),e.arc(n,r,a,s,l,!u),e.lineTo(Math.cos(l)*o+n,Math.sin(l)*o+r),0!==o&&e.arc(n,r,o,l,s,u),e.closePath()}})}),t("zrender/graphic/shape/Ring",[we,"../Path"],function(e){return e("../Path")[ee]({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,r=t.cy,o=2*Math.PI;e[i](n+t.r,r),e.arc(n,r,t.r,0,o,!1),e[i](n+t.r0,r),e.arc(n,r,t.r0,0,o,!0)}})}),t("zrender/graphic/shape/Circle",[we,"../Path"],function(e){return e("../Path")[ee]({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e[i](t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})}),t("zrender/graphic/shape/Polyline",[we,"../helper/poly","../Path"],function(e){var t=e("../helper/poly");return e("../Path")[ee]({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,i){t[n](e,i,!1)}})}),t("zrender/graphic/shape/Line",[we,"../Path"],function(e){return e("../Path")[ee]({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,o=t.x2,a=t.y2,s=t.percent;0!==s&&(e[i](n,r),1>s&&(o=n*(1-s)+o*s,a=r*(1-s)+a*s),e.lineTo(o,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}})}),t("zrender/graphic/shape/Rect",[we,"../helper/roundRect","../Path"],function(e){var t=e("../helper/roundRect");return e("../Path")[ee]({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,i){var r=i.x,o=i.y,a=i.width,s=i[oe];i.r?t[n](e,i):e.rect(r,o,a,s),e.closePath()}})}),t("zrender/graphic/shape/BezierCurve",[we,"../../core/curve","../../core/vector","../Path"],function(e){function t(e,t,n){var i=e.cpx2,r=e.cpy2;return null===i||null===r?[(n?c:l)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?c:l)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?u:s)(e.x1,e.cpx1,e.x2,t),(n?u:s)(e.y1,e.cpy1,e.y2,t)]}var n=e("../../core/curve"),r=e("../../core/vector"),o=n.quadraticSubdivide,a=n.cubicSubdivide,s=n.quadraticAt,l=n.cubicAt,u=n.quadraticDerivativeAt,c=n.cubicDerivativeAt,h=[];return e("../Path")[ee]({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,s=t.x2,l=t.y2,u=t.cpx1,c=t.cpy1,d=t.cpx2,p=t.cpy2,f=t.percent;0!==f&&(e[i](n,r),null==d||null==p?(1>f&&(o(n,u,s,f,h),u=h[1],s=h[2],o(r,c,l,f,h),c=h[1],l=h[2]),e.quadraticCurveTo(u,c,s,l)):(1>f&&(a(n,u,d,s,f,h),u=h[1],d=h[2],s=h[3],a(r,c,p,l,f,h),c=h[1],p=h[2],l=h[3]),e.bezierCurveTo(u,c,d,p,s,l)))},pointAt:function(e){return t(this.shape,e,!1)},tangentAt:function(e){var n=t(this.shape,e,!0);return r.normalize(n,n)}})}),t("zrender/graphic/shape/Arc",[we,"../Path"],function(e){return e("../Path")[ee]({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,r=t.cy,o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e[i](u*o+n,c*o+r),e.arc(n,r,o,a,s,!l)}})}),t("zrender/graphic/CompoundPath",[we,"./Path"],function(e){var t=e("./Path");return t[ee]({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t[K];n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e[K];n++)e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var i=t.paths||[],r=0;r<i[K];r++)i[r][n](e,i[r].shape,!0)},afterBrush:function(){for(var e=this.shape.paths,t=0;t<e[K];t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),t[me][P].call(this)}})}),t("zrender/graphic/LinearGradient",[we,"../core/util","./Gradient"],function(e){var t=e("../core/util"),n=e("./Gradient"),i=function(e,t,i,r,o,a){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==i?1:i,this.y2=null==r?0:r,this.type="linear",this.global=a||!1,n.call(this,o)};return i[me]={constructor:i},t[N](i,n),i}),t("zrender/graphic/RadialGradient",[we,"../core/util","./Gradient"],function(e){var t=e("../core/util"),n=e("./Gradient"),i=function(e,t,i,r,o){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==i?.5:i,this.type="radial",this.global=o||!1,n.call(this,r)};return i[me]={constructor:i},t[N](i,n),i}),t("zrender/core/BoundingRect",[we,"./vector","./matrix"],function(e){function t(e,t,n,i){this.x=e,this.y=t,this.width=n,this[oe]=i}var n=e("./vector"),i=e("./matrix"),r=n[h],o=Math.min,a=Math.abs,s=Math.max;return t[me]={constructor:t,union:function(e){var t=o(e.x,this.x),n=o(e.y,this.y);this.width=s(e.x+e.width,this.x+this.width)-t,this[oe]=s(e.y+e[oe],this.y+this[oe])-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[];return function(n){n&&(e[0]=this.x,e[1]=this.y,t[0]=this.x+this.width,t[1]=this.y+this[oe],r(e,e,n),r(t,t,n),this.x=o(e[0],t[0]),this.y=o(e[1],t[1]),this.width=a(t[0]-e[0]),this[oe]=a(t[1]-e[1]))}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e[oe]/t[oe],o=i[re]();return i.translate(o,o,[-t.x,-t.y]),i.scale(o,o,[n,r]),i.translate(o,o,[e.x,e.y]),o},intersect:function(e){var t=this,n=t.x,i=t.x+t.width,r=t.y,o=t.y+t[oe],a=e.x,s=e.x+e.width,l=e.y,u=e.y+e[oe];return!(a>i||n>s||l>o||r>u)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n[oe]},clone:function(){return new t(this.x,this.y,this.width,this[oe])},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this[oe]=e[oe]}},t}),t("echarts/util/model",[we,"./format","./number","../model/Model",Ae],function(e){var t=e("./format"),n=e("./number"),i=e("../model/Model"),r=e(Ae),o=["x","y","z",_,"angle"],s={};return s.createNameEach=function(e,t){e=e.slice();var n=r.map(e,s.capitalFirst);t=(t||[]).slice();var i=r.map(t,s.capitalFirst);return function(o,a){r.each(e,function(e,r){for(var s={name:e,capital:n[r]},l=0;l<t[K];l++)s[t[l]]=e+i[l];o.call(a,s)})}},s.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e},s.eachAxisDim=s.createNameEach(o,["axisIndex","axis","index"]),s.normalizeToArray=function(e){return e instanceof Array?e:null==e?[]:[e]},s.createLinkedNodesFinder=function(e,t,n){function i(e,t){return r[F](t.nodes,e)>=0}function o(e,i){var o=!1;return t(function(t){r.each(n(e,t)||[],function(e){i.records[t.name][e]&&(o=!0)})}),o}function a(e,i){i.nodes.push(e),t(function(t){r.each(n(e,t)||[],function(e){i.records[t.name][e]=!0})})}return function(n){function r(e){!i(e,s)&&o(e,s)&&(a(e,s),l=!0)}var s={nodes:[],records:{}};if(t(function(e){s.records[e.name]={}}),!n)return s;a(n,s);var l;do l=!1,e(r);while(l);return s}},s.defaultEmphasis=function(e,t){if(e){var n=e.emphasis=e.emphasis||{},i=e[p]=e[p]||{};r.each(t,function(e){var t=r.retrieve(n[e],i[e]);null!=t&&(n[e]=t)})}},s.LABEL_OPTIONS=[D,"show",$,"distance","formatter"],s.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)},s.isDataItemOption=function(e){return r[ne](e)&&!(e instanceof Array)},s.converDataValue=function(e,t){var i=t&&t.type;return i===m?e:("time"!==i||isFinite(e)||null==e||"-"===e||(e=+n.parseDate(e)),null==e||""===e?NaN:+e)},s.createDataFormatModel=function(e,t){var n=new i;return r.mixin(n,s.dataFormatMixin),n[q]=t[q],n.name=t.name||"",n.mainType=t.mainType,
n.subType=t.subType,n[xe]=function(){return e},n},s.dataFormatMixin={getDataParams:function(e,t){var n=this[xe](t),i=this[q],r=this.name,o=this.getRawValue(e,t),s=n.getRawIndex(e),l=n[a](e,!0),u=n.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:i,seriesName:r,name:l,dataIndex:s,data:u,dataType:t,value:o,color:n[b](e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,n,i,r){n=n||p;var o=this[xe](i),a=o[k](e),s=this.getDataParams(e,i);null!=r&&s.value instanceof Array&&(s.value=s.value[r]);var l=a.get(["label",n,"formatter"]);return typeof l===G?(s.status=n,l(s)):typeof l===fe?t.formatTpl(l,s):void 0},getRawValue:function(e,t){var n=this[xe](t),i=n.getRawDataItem(e);return null!=i?!r[ne](i)||i instanceof Array?i:i.value:void 0},formatTooltip:r.noop},s.mappingToExists=function(e,t){t=(t||[]).slice();var n=r.map(e||[],function(e){return{exist:e}});return r.each(t,function(e,i){if(r[ne](e))for(var o=0;o<n[K];o++){var a=n[o].exist;if(!n[o][d]&&(null!=e.id&&a.id===e.id+""||null!=e.name&&!s.isIdInner(e)&&!s.isIdInner(a)&&a.name===e.name+"")){n[o][d]=e,t[i]=null;break}}}),r.each(t,function(e){if(r[ne](e)){for(var t=0;t<n[K];t++){var i=n[t].exist;if(!n[t][d]&&!s.isIdInner(i)&&null==e.id){n[t][d]=e;break}}t>=n[K]&&n.push({option:e})}}),n},s.isIdInner=function(e){return r[ne](e)&&e.id&&0===(e.id+"")[F]("\0_ec_\0")},s.compressBatches=function(e,t){function n(e,t,n){for(var i=0,r=e[K];r>i;i++)for(var o=e[i].seriesId,a=s.normalizeToArray(e[i][Y]),l=n&&n[o],u=0,c=a[K];c>u;u++){var h=a[u];l&&l[h]?l[h]=null:(t[o]||(t[o]={}))[h]=1}}function i(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)n.push(+r);else{var o=i(e[r],!0);o[K]&&n.push({seriesId:r,dataIndex:o})}return n}var r={},o={};return n(e||[],r),n(t||[],o,r),[i(r),i(o)]},s}),t("echarts/model/globalDefault",[],function(){var e="";return typeof navigator!==o&&(e=navigator.platform||""),{color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}}),t("echarts/model/mixin/colorPalette",[],function(){return{clearColorPalette:function(){this._colorIdx=0,this._colorNameMap={}},getColorFromPalette:function(e,t){t=t||this;var n=t._colorIdx||0,i=t._colorNameMap||(t._colorNameMap={});if(i[e])return i[e];var r=this.get("color",!0)||[];if(r[K]){var o=r[n];return e&&(i[e]=o),t._colorIdx=(n+1)%r[K],o}}}}),t("zrender/contain/text",[we,"../core/util","../core/BoundingRect"],function(e){function t(e,t){var n=e+":"+t;if(a[n])return a[n];for(var i=(e+"").split("\n"),r=0,o=0,l=i[K];l>o;o++)r=Math.max(p.measureText(i[o],t).width,r);return s>u&&(s=0,a={}),s++,a[n]=r,r}function n(e,n,i,r){var o=((e||"")+"").split("\n")[K],a=t(e,n),s=t("国",n),l=o*s,u=new h(0,0,a,l);switch(u.lineHeight=s,r){case ae:case"alphabetic":u.y-=s;break;case O:u.y-=s/2}switch(i){case"end":case"right":u.x-=u.width;break;case B:u.x-=u.width/2}return u}function i(e,t,n,i){var r=t.x,o=t.y,a=t[oe],s=t.width,u=n[oe],c=a/2-u/2,h="left";switch(e){case"left":r-=i,o+=c,h="right";break;case"right":r+=i+s,o+=c,h="left";break;case"top":r+=s/2,o-=i+u,h=B;break;case ae:r+=s/2,o+=a+i,h=B;break;case l:r+=s/2,o+=c,h=B;break;case"insideLeft":r+=i,o+=c,h="left";break;case"insideRight":r+=s-i,o+=c,h="right";break;case"insideTop":r+=s/2,o+=i,h=B;break;case"insideBottom":r+=s/2,o+=a-u-i,h=B;break;case"insideTopLeft":r+=i,o+=i,h="left";break;case"insideTopRight":r+=s-i,o+=i,h="right";break;case"insideBottomLeft":r+=i,o+=a-u-i;break;case"insideBottomRight":r+=s-i,o+=a-u-i,h="right"}return{x:r,y:o,textAlign:h,textBaseline:"top"}}function r(e,n,i,r,a){if(!n)return"";a=a||{},r=d(r,"...");for(var s=d(a.maxIterations,2),l=d(a.minChar,0),u=t("国",i),c=t("a",i),h=d(a.placeholder,""),p=n=Math.max(0,n-1),f=0;l>f&&p>=c;f++)p-=c;var m=t(r);m>p&&(r="",m=0),p=n-m;for(var g=(e+"").split("\n"),f=0,v=g[K];v>f;f++){var y=g[f],b=t(y,i);if(!(n>=b)){for(var _=0;;_++){if(p>=b||_>=s){y+=r;break}var x=0===_?o(y,p,c,u):b>0?Math.floor(y[K]*p/b):0;y=y.substr(0,x),b=t(y,i)}""===y&&(y=h),g[f]=y}}return g.join("\n")}function o(e,t,n,i){for(var r=0,o=0,a=e[K];a>o&&t>r;o++){var s=e.charCodeAt(o);r+=s>=0&&127>=s?n:i}return o}var a={},s=0,u=5e3,c=e("../core/util"),h=e("../core/BoundingRect"),d=c.retrieve,p={getWidth:t,getBoundingRect:n,adjustTextPositionOnRect:i,truncateText:r,measureText:function(e,t){var n=c[w]();return n.font=t||"12px sans-serif",n.measureText(e)}};return p}),t("echarts/util/clazz",[we,Ae],function(e){function t(e,t){var n=i.slice(arguments,2);return this.superClass[me][t].apply(e,n)}function n(e,t,n){return this.superClass[me][t].apply(e,n)}var i=e(Ae),r={},o=".",a="___EC__COMPONENT__CONTAINER___",s=r.parseClassType=function(e){var t={main:"",sub:""};return e&&(e=e.split(o),t.main=e[0]||"",t.sub=e[1]||""),t};return r.enableClassExtend=function(e){e.$constructor=e,e[ee]=function(e){var r=this,o=function(){e.$constructor?e.$constructor.apply(this,arguments):r.apply(this,arguments)};return i[ee](o[me],e),o[ee]=this[ee],o.superCall=t,o.superApply=n,i[N](o,this),o.superClass=r,o}},r.enableClassManagement=function(e,t){function n(e){var t=r[e.main];return t&&t[a]||(t=r[e.main]={},t[a]=!0),t}t=t||{};var r={};if(e.registerClass=function(e,t){if(t)if(t=s(t),t.sub){if(t.sub!==a){var i=n(t);i[t.sub]=e}}else r[t.main]=e;return e},e.getClass=function(e,t,n){var i=r[e];if(i&&i[a]&&(i=t?i[t]:null),n&&!i)throw new Error("Component "+e+"."+(t||"")+" not exists. Load it first.");return i},e.getClassesByMainType=function(e){e=s(e);var t=[],n=r[e.main];return n&&n[a]?i.each(n,function(e,n){n!==a&&t.push(e)}):t.push(n),t},e.hasClass=function(e){return e=s(e),!!r[e.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(r,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=s(e);var t=r[e.main];return t&&t[a]},e.parseClassType=s,t.registerWhenExtend){var o=e[ee];o&&(e[ee]=function(t){var n=o.call(this,t);return e.registerClass(n,t.type)})}return e},r.setReadOnly=function(){},r}),t("echarts/model/mixin/lineStyle",[we,"./makeStyleMapper"],function(e){var t=e("./makeStyleMapper")([[c,"width"],[u,"color"],[L],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getLineStyle:function(e){var n=t.call(this,e),i=this.getLineDash();return i&&(n.lineDash=i),n},getLineDash:function(){var e=this.get("type");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}}),t("echarts/model/mixin/areaStyle",[we,"./makeStyleMapper"],function(e){return{getAreaStyle:e("./makeStyleMapper")([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],[L],["shadowColor"]])}}),t("echarts/model/mixin/textStyle",[we,"zrender/contain/text"],function(e){function t(e,t){return e&&e[S](t)}var n=e("zrender/contain/text");return{getTextColor:function(){var e=this.ecModel;return this[S]("color")||e&&e.get("textStyle.color")},getFont:function(){var e=this.ecModel,n=e&&e[he]($);return[this[S]("fontStyle")||t(n,"fontStyle"),this[S]("fontWeight")||t(n,"fontWeight"),(this[S]("fontSize")||t(n,"fontSize")||12)+"px",this[S]("fontFamily")||t(n,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(e){var t=this.get($)||{};return n[P](e,this[z](),t.align,t.baseline)},truncateText:function(e,t,i,r){return n.truncateText(e,t,this[z](),i,r)}}}),t("echarts/scale/Scale",[we,"../util/clazz"],function(e){function t(){this[M]=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var n=e("../util/clazz"),i=t[me];return i.parse=function(e){return e},i[I]=function(e){var t=this[M];return e>=t[0]&&e<=t[1]},i.normalize=function(e){var t=this[M];return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},i.scale=function(e){var t=this[M];return e*(t[1]-t[0])+t[0]},i.unionExtent=function(e){var t=this[M];e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i[T]=function(){return this[M].slice()},i.setExtent=function(e,t){var n=this[M];isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},i.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t[K];n++)e.push(this.getLabel(t[n]));return e},n.enableClassExtend(t),n.enableClassManagement(t,{registerWhenExtend:!0}),t}),t("echarts/model/mixin/itemStyle",[we,"./makeStyleMapper"],function(e){var t=e("./makeStyleMapper")([["fill","color"],[u,"borderColor"],[c,"borderWidth"],[L],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getItemStyle:function(e){var n=t.call(this,e),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}}),t("zrender/core/PathProxy",[we,"./curve","./vector","./bbox","./BoundingRect","../config"],function(e){var t=e("./curve"),n=e("./vector"),r=e("./bbox"),a=e("./BoundingRect"),s=e("../config").devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],h=[],d=[],p=[],f=Math.min,m=Math.max,g=Math.cos,v=Math.sin,y=Math.sqrt,b=Math.abs,_=typeof Float32Array!=o,x=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};return x[me]={constructor:x,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=b(1/s/e)||0,this._uy=b(1/s/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(l.M,e,t),this._ctx&&this._ctx[i](e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=b(e-this._xi)>this._ux||b(t-this._yi)>this._uy||this._len<5;return this.addData(l.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,r,o){return this.addData(l.C,e,t,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,r,o):this._ctx.bezierCurveTo(e,t,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(e,t,n,i){return this.addData(l.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,r,o){return this.addData(l.A,e,t,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=g(r)*n+e,this._xi=v(r)*n+e,this},arcTo:function(e,t,n,i,r){return this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(l.R,e,t,n,i),this},closePath:function(){this.addData(l.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e[u](),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e[K];n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e[K];this.data&&this.data[K]==t||!_||(this.data=new Float32Array(t));for(var n=0;t>n;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e[K],n=0,i=this._len,r=0;t>r;r++)n+=e[r].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var r=0;t>r;r++)for(var o=e[r].data,a=0;a<o[K];a++)this.data[i++]=o[a];this._len=i},addData:function(e){var t=this.data;this._len+arguments[K]>t[K]&&(this._expandData(),t=this.data);for(var n=0;n<arguments[K];n++)t[this._len++]=arguments[n];this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,r,o=this._dashSum,a=this._dashOffset,s=this._lineDash,l=this._ctx,u=this._xi,c=this._yi,h=e-u,d=t-c,p=y(h*h+d*d),g=u,v=c,b=s[K];for(h/=p,d/=p,0>a&&(a=o+a),a%=o,g-=a*h,v-=a*d;h>0&&e>=g||0>h&&g>=e||0==h&&(d>0&&t>=v||0>d&&v>=t);)r=this._dashIdx,n=s[r],g+=h*n,v+=d*n,this._dashIdx=(r+1)%b,h>0&&u>g||0>h&&g>u||d>0&&c>v||0>d&&v>c||l[r%2?i:"lineTo"](h>=0?f(g,e):m(g,e),d>=0?f(v,t):m(v,t));h=g-e,d=v-t,this._dashOffset=-y(h*h+d*d)},_dashedBezierTo:function(e,n,r,o,a,s){var l,u,c,h,d,p=this._dashSum,f=this._dashOffset,m=this._lineDash,g=this._ctx,v=this._xi,b=this._yi,_=t.cubicAt,x=0,A=this._dashIdx,w=m[K],C=0;for(0>f&&(f=p+f),f%=p,l=0;1>l;l+=.1)u=_(v,e,r,a,l+.1)-_(v,e,r,a,l),c=_(b,n,o,s,l+.1)-_(b,n,o,s,l),x+=y(u*u+c*c);for(;w>A&&(C+=m[A],!(C>f));A++);for(l=(C-f)/x;1>=l;)h=_(v,e,r,a,l),d=_(b,n,o,s,l),A%2?g[i](h,d):g.lineTo(h,d),l+=m[A]/x,A=(A+1)%w;A%2!==0&&g.lineTo(a,s),u=a-h,c=s-d,this._dashOffset=-y(u*u+c*c)},_dashedQuadraticTo:function(e,t,n,i){var r=n,o=i;n=(n+2*e)/3,i=(i+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,i,r,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e[K]=this._len,_&&(this.data=new Float32Array(e)))},getBoundingRect:function(){c[0]=c[1]=d[0]=d[1]=Number.MAX_VALUE,h[0]=h[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,i=0,o=0,s=0,u=0;u<e[K];){var f=e[u++];switch(1==u&&(t=e[u],i=e[u+1],o=t,s=i),f){case l.M:o=e[u++],s=e[u++],t=o,i=s,d[0]=o,d[1]=s,p[0]=o,p[1]=s;break;case l.L:r.fromLine(t,i,e[u],e[u+1],d,p),t=e[u++],i=e[u++];break;case l.C:r.fromCubic(t,i,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],d,p),t=e[u++],i=e[u++];break;case l.Q:r.fromQuadratic(t,i,e[u++],e[u++],e[u],e[u+1],d,p),t=e[u++],i=e[u++];break;case l.A:var m=e[u++],y=e[u++],b=e[u++],_=e[u++],x=e[u++],A=e[u++]+x,w=(e[u++],1-e[u++]);1==u&&(o=g(x)*b+m,s=v(x)*_+y),r.fromArc(m,y,b,_,x,A,w,d,p),t=g(A)*b+m,i=v(A)*_+y;break;case l.R:o=t=e[u++],s=i=e[u++];var C=e[u++],S=e[u++];r.fromLine(o,s,o+C,s+S,d,p);break;case l.Z:t=o,i=s}n.min(c,c,d),n.max(h,h,p)}return 0===u&&(c[0]=c[1]=h[0]=h[1]=0),new a(c[0],c[1],h[0]-c[0],h[1]-c[1])},rebuildPath:function(e){for(var t,n,r,o,a,s,u=this.data,c=this._ux,h=this._uy,d=this._len,p=0;d>p;){var f=u[p++];switch(1==p&&(r=u[p],o=u[p+1],t=r,n=o),f){case l.M:t=r=u[p++],n=o=u[p++],e[i](r,o);break;case l.L:a=u[p++],s=u[p++],(b(a-r)>c||b(s-o)>h||p===d-1)&&(e.lineTo(a,s),r=a,o=s);break;case l.C:e.bezierCurveTo(u[p++],u[p++],u[p++],u[p++],u[p++],u[p++]),r=u[p-2],o=u[p-1];break;case l.Q:e.quadraticCurveTo(u[p++],u[p++],u[p++],u[p++]),r=u[p-2],o=u[p-1];break;case l.A:var m=u[p++],y=u[p++],_=u[p++],x=u[p++],A=u[p++],w=u[p++],C=u[p++],S=u[p++],k=_>x?_:x,I=_>x?1:_/x,M=_>x?x/_:1,T=Math.abs(_-x)>.001,L=A+w;T?(e.translate(m,y),e.rotate(C),e.scale(I,M),e.arc(0,0,k,A,L,1-S),e.scale(1/I,1/M),e.rotate(-C),e.translate(-m,-y)):e.arc(m,y,k,A,L,1-S),1==p&&(t=g(A)*_+m,n=v(A)*x+y),r=g(L)*_+m,o=v(L)*x+y;break;case l.R:t=r=u[p],n=o=u[p+1],e.rect(u[p++],u[p++],u[p++],u[p++]);break;case l.Z:e.closePath(),r=t,o=n}}}},x.CMD=l,x}),t("zrender/graphic/mixin/RectText",[we,"../../contain/text","../../core/BoundingRect"],function(e){function t(e,t){return typeof e===fe?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}var n=e("../../contain/text"),i=e("../../core/BoundingRect"),o=new i,a=function(){};return a[me]={constructor:a,drawRectText:function(e,i,a){var s=this.style,l=s.text;if(null!=l&&(l+=""),l){e.save();var u,c,d=s.textPosition,p=s.textDistance,f=s[R],m=s.textFont||s.font,g=s.textBaseline,v=s.textVerticalAlign;a=a||n[P](l,m,f,g);var y=this[r];if(y&&(o.copy(i),o[h](y),i=o),d instanceof Array){if(u=i.x+t(d[0],i.width),c=i.y+t(d[1],i[oe]),f=f||"left",g=g||"top",v){switch(v){case O:c-=a[oe]/2-a.lineHeight/2;break;case ae:c-=a[oe]-a.lineHeight/2;break;default:c+=a.lineHeight/2}g=O}}else{var b=n.adjustTextPositionOnRect(d,i,a,p);u=b.x,c=b.y,f=f||b[R],g=g||b.textBaseline}e[R]=f||"left",e.textBaseline=g||"alphabetic";var _=s.textFill,x=s.textStroke;_&&(e.fillStyle=_),x&&(e.strokeStyle=x),e.font=m,e.shadowBlur=s.textShadowBlur,e.shadowColor=s.textShadowColor||"transparent",e.shadowOffsetX=s.textShadowOffsetX,e.shadowOffsetY=s.textShadowOffsetY;for(var A=l.split("\n"),w=0;w<A[K];w++)_&&e.fillText(A[w],u,c),x&&e.strokeText(A[w],u,c),c+=a.lineHeight;e.restore()}}},a}),t("zrender/vml/core",[we,"exports","module","../core/env"],function(e,t,n){if(!e("../core/env")[le]){var i,r="urn:schemas-microsoft-com:vml",o=window,a=o.document,s=!1;try{!a.namespaces.zrvml&&a.namespaces.add("zrvml",r),i=function(e){return a[C]("<zrvml:"+e+' class="zrvml">')}}catch(l){i=function(e){return a[C]("<"+e+' xmlns="'+r+'" class="zrvml">')}}var u=function(){if(!s){s=!0;var e=a.styleSheets;e[K]<31?a.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}};n.exports={doc:a,initVML:u,createNode:i}}}),t("zrender/graphic/Displayable",[we,"../core/util","./Style","../Element","./mixin/RectText"],function(e){function t(e){e=e||{},r.call(this,e);for(var t in e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new i(e.style),this._rect=null,this.__clipPaths=[]}var n=e("../core/util"),i=e("./Style"),r=e("../Element"),o=e("./mixin/RectText");return t[me]={constructor:t,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this[P]();return i[I](n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?r[me].attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new i(e),this.dirty(!1),this}},n[N](t,r),n.mixin(t,o),t}),t("zrender/tool/transformPath",[we,"../core/PathProxy","../core/vector"],function(e){function t(e,t){var i,l,u,c,h,d,p=e.data,f=n.M,m=n.C,g=n.L,v=n.R,y=n.A,b=n.Q;for(u=0,c=0;u<p[K];){switch(i=p[u++],c=u,l=0,i){case f:l=1;break;case g:l=1;break;case m:l=3;break;case b:l=2;break;case y:var _=t[4],x=t[5],A=a(t[0]*t[0]+t[1]*t[1]),w=a(t[2]*t[2]+t[3]*t[3]),C=s(-t[1]/w,t[0]/A);p[u++]+=_,p[u++]+=x,p[u++]*=A,p[u++]*=w,p[u++]+=C,p[u++]+=C,u+=2,c=u;break;case v:d[0]=p[u++],d[1]=p[u++],r(d,d,t),p[c++]=d[0],p[c++]=d[1],d[0]+=p[u++],d[1]+=p[u++],r(d,d,t),p[c++]=d[0],p[c++]=d[1]}for(h=0;l>h;h++){var d=o[h];d[0]=p[u++],d[1]=p[u++],r(d,d,t),p[c++]=d[0],p[c++]=d[1]}}}var n=e("../core/PathProxy").CMD,i=e("../core/vector"),r=i[h],o=[[],[],[]],a=Math.sqrt,s=Math.atan2;return t}),t("zrender/contain/path",[we,"../core/PathProxy","./line","./cubic","./quadratic","./arc","./util","../core/curve","./windingLine"],function(e){function t(e,t){return Math.abs(e-t)<v}function n(){var e=b[0];b[0]=b[1],b[1]=e}function i(e,t,i,r,o,a,s,l,u,c){if(c>t&&c>r&&c>a&&c>l||t>c&&r>c&&a>c&&l>c)return 0;var h=p.cubicRootAt(t,r,a,l,c,y);if(0===h)return 0;for(var d,f,m=0,g=-1,v=0;h>v;v++){var _=y[v],x=0===_||1===_?.5:1,A=p.cubicAt(e,i,o,s,_);u>A||(0>g&&(g=p.cubicExtrema(t,r,a,l,b),b[1]<b[0]&&g>1&&n(),d=p.cubicAt(t,r,a,l,b[0]),g>1&&(f=p.cubicAt(t,r,a,l,b[1]))),m+=2==g?_<b[0]?t>d?x:-x:_<b[1]?d>f?x:-x:f>l?x:-x:_<b[0]?t>d?x:-x:d>l?x:-x)}return m}function r(e,t,n,i,r,o,a,s){if(s>t&&s>i&&s>o||t>s&&i>s&&o>s)return 0;var l=p.quadraticRootAt(t,i,o,s,y);if(0===l)return 0;var u=p.quadraticExtremum(t,i,o);if(u>=0&&1>=u){for(var c=0,h=p.quadraticAt(t,i,o,u),d=0;l>d;d++){var f=0===y[d]||1===y[d]?.5:1,m=p.quadraticAt(e,n,r,y[d]);a>m||(c+=y[d]<u?t>h?f:-f:h>o?f:-f)}return c}var f=0===y[0]||1===y[0]?.5:1,m=p.quadraticAt(e,n,r,y[0]);return a>m?0:t>o?f:-f}function o(e,t,n,i,r,o,a,s){if(s-=t,s>n||-n>s)return 0;var l=Math.sqrt(n*n-s*s);y[0]=-l,y[1]=l;var u=Math.abs(i-r);if(1e-4>u)return 0;if(1e-4>u%g){i=0,r=g;var c=o?1:-1;return a>=y[0]+e&&a<=y[1]+e?c:0}if(o){var l=i;i=d(r),r=d(l)}else i=d(i),r=d(r);i>r&&(r+=g);for(var h=0,p=0;2>p;p++){var f=y[p];if(f+e>a){var m=Math.atan2(s,f),c=o?1:-1;0>m&&(m=g+m),(m>=i&&r>=m||m+g>=i&&r>=m+g)&&(m>Math.PI/2&&m<1.5*Math.PI&&(c=-c),h+=c)}}return h}function a(e,n,a,l,d){for(var p=0,g=0,v=0,y=0,b=0,_=0;_<e[K];){var x=e[_++];switch(x===s.M&&_>1&&(a||(p+=f(g,v,y,b,l,d))),1==_&&(g=e[_],v=e[_+1],y=g,b=v),x){case s.M:y=e[_++],b=e[_++],g=y,v=b;break;case s.L:if(a){if(m(g,v,e[_],e[_+1],n,l,d))return!0}else p+=f(g,v,e[_],e[_+1],l,d)||0;g=e[_++],v=e[_++];break;case s.C:if(a){if(u.containStroke(g,v,e[_++],e[_++],e[_++],e[_++],e[_],e[_+1],n,l,d))return!0}else p+=i(g,v,e[_++],e[_++],e[_++],e[_++],e[_],e[_+1],l,d)||0;g=e[_++],v=e[_++];break;case s.Q:if(a){if(c.containStroke(g,v,e[_++],e[_++],e[_],e[_+1],n,l,d))return!0}else p+=r(g,v,e[_++],e[_++],e[_],e[_+1],l,d)||0;g=e[_++],v=e[_++];break;case s.A:var A=e[_++],w=e[_++],C=e[_++],S=e[_++],k=e[_++],I=e[_++],M=(e[_++],1-e[_++]),T=Math.cos(k)*C+A,L=Math.sin(k)*S+w;_>1?p+=f(g,v,T,L,l,d):(y=T,b=L);var D=(l-A)*S/C+A;if(a){if(h.containStroke(A,w,S,k,k+I,M,n,D,d))return!0}else p+=o(A,w,S,k,k+I,M,D,d);g=Math.cos(k+I)*C+A,v=Math.sin(k+I)*S+w;break;case s.R:y=g=e[_++],b=v=e[_++];var B=e[_++],O=e[_++],T=y+B,L=b+O;if(a){if(m(y,b,T,b,n,l,d)||m(T,b,T,L,n,l,d)||m(T,L,y,L,n,l,d)||m(y,L,y,b,n,l,d))return!0}else p+=f(T,b,T,L,l,d),p+=f(y,L,y,b,l,d);break;case s.Z:if(a){if(m(g,v,y,b,n,l,d))return!0}else p+=f(g,v,y,b,l,d);g=y,v=b}}return a||t(v,b)||(p+=f(g,v,y,b,l,d)||0),0!==p}var s=e("../core/PathProxy").CMD,l=e("./line"),u=e("./cubic"),c=e("./quadratic"),h=e("./arc"),d=e("./util").normalizeRadian,p=e("../core/curve"),f=e("./windingLine"),m=l.containStroke,g=2*Math.PI,v=1e-4,y=[-1,-1,-1],b=[-1,-1];return{contain:function(e,t,n){return a(e,0,!1,t,n)},containStroke:function(e,t,n,i){return a(e,t,!0,n,i)}}}),t("zrender/graphic/shape/Polygon",[we,"../helper/poly","../Path"],function(e){var t=e("../helper/poly");return e("../Path")[ee]({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,i){t[n](e,i,!0)}})}),t("zrender/graphic/Pattern",[we],function(){var e=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};return e[me].getCanvasPattern=function(e){return this._canvasPattern||(this._canvasPattern=e.createPattern(this.image,this.repeat))},e}),t("echarts/model/mixin/makeStyleMapper",[we,Ae],function(e){var t=e(Ae);return function(e){for(var n=0;n<e[K];n++)e[n][1]||(e[n][1]=e[n][0]);return function(n){for(var i={},r=0;r<e[K];r++){var o=e[r][1];if(!(n&&t[F](n,o)>=0)){var a=this[S](o);null!=a&&(i[e[r][0]]=a)}}return i}}}),t("zrender/core/bbox",[we,"./vector","./curve"],function(e){var t=e("./vector"),n=e("./curve"),i={},r=Math.min,o=Math.max,a=Math.sin,s=Math.cos,l=t[re](),u=t[re](),c=t[re](),h=2*Math.PI;i.fromPoints=function(e,t,n){if(0!==e[K]){var i,a=e[0],s=a[0],l=a[0],u=a[1],c=a[1];for(i=1;i<e[K];i++)a=e[i],s=r(s,a[0]),l=o(l,a[0]),u=r(u,a[1]),c=o(c,a[1]);t[0]=s,t[1]=u,n[0]=l,n[1]=c}},i.fromLine=function(e,t,n,i,a,s){a[0]=r(e,n),a[1]=r(t,i),s[0]=o(e,n),s[1]=o(t,i)};var d=[],p=[];return i.fromCubic=function(e,t,i,a,s,l,u,c,h,f){var m,g=n.cubicExtrema,v=n.cubicAt,y=g(e,i,s,u,d);for(h[0]=1/0,h[1]=1/0,f[0]=-1/0,f[1]=-1/0,m=0;y>m;m++){var b=v(e,i,s,u,d[m]);h[0]=r(b,h[0]),f[0]=o(b,f[0])}for(y=g(t,a,l,c,p),m=0;y>m;m++){var _=v(t,a,l,c,p[m]);h[1]=r(_,h[1]),f[1]=o(_,f[1])}h[0]=r(e,h[0]),f[0]=o(e,f[0]),h[0]=r(u,h[0]),f[0]=o(u,f[0]),h[1]=r(t,h[1]),f[1]=o(t,f[1]),h[1]=r(c,h[1]),f[1]=o(c,f[1])},i.fromQuadratic=function(e,t,i,a,s,l,u,c){var h=n.quadraticExtremum,d=n.quadraticAt,p=o(r(h(e,i,s),1),0),f=o(r(h(t,a,l),1),0),m=d(e,i,s,p),g=d(t,a,l,f);u[0]=r(e,s,m),u[1]=r(t,l,g),c[0]=o(e,s,m),c[1]=o(t,l,g)},i.fromArc=function(e,n,i,r,o,d,p,f,m){var g=t.min,v=t.max,y=Math.abs(o-d);if(1e-4>y%h&&y>1e-4)return f[0]=e-i,f[1]=n-r,m[0]=e+i,void(m[1]=n+r);if(l[0]=s(o)*i+e,l[1]=a(o)*r+n,u[0]=s(d)*i+e,u[1]=a(d)*r+n,g(f,l,u),v(m,l,u),o%=h,0>o&&(o+=h),d%=h,0>d&&(d+=h),o>d&&!p?d+=h:d>o&&p&&(o+=h),p){var b=d;d=o,o=b}for(var _=0;d>_;_+=Math.PI/2)_>o&&(c[0]=s(_)*i+e,c[1]=a(_)*r+n,g(f,c,f),v(m,c,m))},i}),t("zrender/config",[],function(){var e=1;typeof window!==o&&(e=Math.max(window.devicePixelRatio||1,1));var t={debugMode:0,devicePixelRatio:e};return t}),t("zrender/core/curve",[we,"./vector"],function(e){function t(e){return e>-_&&_>e}function n(e){return e>_||-_>e}function i(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function r(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function o(e,n,i,r,o,a){var s=r+3*(n-i)-e,l=3*(i-2*n+e),u=3*(n-e),c=e-o,h=l*l-3*s*u,d=l*u-9*s*c,p=u*u-3*l*c,f=0;if(t(h)&&t(d))if(t(l))a[0]=0;else{var m=-u/l;m>=0&&1>=m&&(a[f++]=m)}else{var g=d*d-4*h*p;if(t(g)){var v=d/h,m=-l/s+v,_=-v/2;m>=0&&1>=m&&(a[f++]=m),_>=0&&1>=_&&(a[f++]=_)}else if(g>0){var x=b(g),C=h*l+1.5*s*(-d+x),S=h*l+1.5*s*(-d-x);C=0>C?-y(-C,w):y(C,w),S=0>S?-y(-S,w):y(S,w);var m=(-l-(C+S))/(3*s);m>=0&&1>=m&&(a[f++]=m)}else{var k=(2*h*l-3*s*d)/(2*b(h*h*h)),I=Math.acos(k)/3,M=b(h),T=Math.cos(I),m=(-l-2*M*T)/(3*s),_=(-l+M*(T+A*Math.sin(I)))/(3*s),L=(-l+M*(T-A*Math.sin(I)))/(3*s);m>=0&&1>=m&&(a[f++]=m),_>=0&&1>=_&&(a[f++]=_),L>=0&&1>=L&&(a[f++]=L)}}return f}function a(e,i,r,o,a){var s=6*r-12*i+6*e,l=9*i+3*o-3*e-9*r,u=3*i-3*e,c=0;if(t(l)){if(n(s)){var h=-u/s;h>=0&&1>=h&&(a[c++]=h)}}else{var d=s*s-4*l*u;if(t(d))a[0]=-s/(2*l);else if(d>0){var p=b(d),h=(-s+p)/(2*l),f=(-s-p)/(2*l);h>=0&&1>=h&&(a[c++]=h),f>=0&&1>=f&&(a[c++]=f)}}return c}function s(e,t,n,i,r,o){var a=(t-e)*r+e,s=(n-t)*r+t,l=(i-n)*r+n,u=(s-a)*r+a,c=(l-s)*r+s,h=(c-u)*r+u;o[0]=e,o[1]=a,o[2]=u,o[3]=h,o[4]=h,o[5]=c,o[6]=l,o[7]=i}function l(e,t,n,r,o,a,s,l,u,c,h){var d,p,f,m,g,y=.005,_=1/0;C[0]=u,C[1]=c;for(var A=0;1>A;A+=.05)S[0]=i(e,n,o,s,A),S[1]=i(t,r,a,l,A),m=v(C,S),_>m&&(d=A,_=m);_=1/0;for(var w=0;32>w&&!(x>y);w++)p=d-y,f=d+y,S[0]=i(e,n,o,s,p),S[1]=i(t,r,a,l,p),m=v(S,C),p>=0&&_>m?(d=p,_=m):(k[0]=i(e,n,o,s,f),k[1]=i(t,r,a,l,f),g=v(k,C),1>=f&&_>g?(d=f,_=g):y*=.5);return h&&(h[0]=i(e,n,o,s,d),h[1]=i(t,r,a,l,d)),b(_)}function u(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function c(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function h(e,i,r,o,a){var s=e-2*i+r,l=2*(i-e),u=e-o,c=0;if(t(s)){if(n(l)){var h=-u/l;h>=0&&1>=h&&(a[c++]=h)}}else{var d=l*l-4*s*u;if(t(d)){var h=-l/(2*s);h>=0&&1>=h&&(a[c++]=h)}else if(d>0){var p=b(d),h=(-l+p)/(2*s),f=(-l-p)/(2*s);h>=0&&1>=h&&(a[c++]=h),f>=0&&1>=f&&(a[c++]=f)}}return c}function d(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function p(e,t,n,i,r){var o=(t-e)*i+e,a=(n-t)*i+t,s=(a-o)*i+o;r[0]=e,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function f(e,t,n,i,r,o,a,s,l){var c,h=.005,d=1/0;C[0]=a,C[1]=s;for(var p=0;1>p;p+=.05){S[0]=u(e,n,r,p),S[1]=u(t,i,o,p);var f=v(C,S);d>f&&(c=p,d=f)}d=1/0;for(var m=0;32>m&&!(x>h);m++){var g=c-h,y=c+h;S[0]=u(e,n,r,g),S[1]=u(t,i,o,g);var f=v(S,C);if(g>=0&&d>f)c=g,d=f;else{k[0]=u(e,n,r,y),k[1]=u(t,i,o,y);var _=v(k,C);1>=y&&d>_?(c=y,d=_):h*=.5}}return l&&(l[0]=u(e,n,r,c),l[1]=u(t,i,o,c)),b(d)}var m=e("./vector"),g=m[re],v=m.distSquare,y=Math.pow,b=Math.sqrt,_=1e-8,x=1e-4,A=b(3),w=1/3,C=g(),S=g(),k=g();return{cubicAt:i,cubicDerivativeAt:r,cubicRootAt:o,cubicExtrema:a,cubicSubdivide:s,cubicProjectPoint:l,quadraticAt:u,quadraticDerivativeAt:c,quadraticRootAt:h,quadraticExtremum:d,quadraticSubdivide:p,quadraticProjectPoint:f}}),t("echarts/scale/Ordinal",[we,Ae,"./Scale"],function(e){var t=e(Ae),n=e("./Scale"),i=n[me],r=n[ee]({type:"ordinal",init:function(e,t){this._data=e,this[M]=t||[0,e[K]-1]},parse:function(e){return typeof e===fe?t[F](this._data,e):Math.round(e)},contain:function(e){return e=this.parse(e),i[I].call(this,e)&&null!=this._data[e]},normalize:function(e){return i.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(i.scale.call(this,e))},getTicks:function(){for(var e=[],t=this[M],n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._data[e]},count:function(){return this[M][1]-this[M][0]+1},niceTicks:t.noop,niceExtent:t.noop});return r[re]=function(){return new r},r}),t("zrender/graphic/Style",[we],function(){function e(e,t,n){var i=t.x,r=t.x2,o=t.y,a=t.y2;t.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n[oe]+n.y,a=a*n[oe]+n.y);var s=e.createLinearGradient(i,o,r,a);return s}function t(e,t,n){var i=n.width,r=n[oe],o=Math.min(i,r),a=t.x,s=t.y,l=t.r;t.global||(a=a*i+n.x,s=s*r+n.y,l*=o);var u=e.createRadialGradient(a,s,0,a,s,l);return u}var n=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],i=function(e){this.extendFrom(e)};i[me]={constructor:i,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,blend:null,bind:function(e,t,i){for(var r=this,o=i&&i.style,a=!o,s=0;s<n[K];s++){var l=n[s],h=l[0];(a||r[h]!==o[h])&&(e[h]=r[h]||l[1])}if((a||r.fill!==o.fill)&&(e.fillStyle=r.fill),(a||r[u]!==o[u])&&(e.strokeStyle=r[u]),(a||r[L]!==o[L])&&(e.globalAlpha=null==r[L]?1:r[L]),(a||r.blend!==o.blend)&&(e.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var d=r[c];e[c]=d/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this[u];return null!=e&&"none"!==e&&this[c]>0},extendFrom:function(e,t){if(e){var n=this;for(var i in e)!e.hasOwnProperty(i)||!t&&n.hasOwnProperty(i)||(n[i]=e[i])}},set:function(e,t){typeof e===fe?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(n,i,r){for(var o="radial"===i.type?t:e,a=o(n,i,r),s=i.colorStops,l=0;l<s[K];l++)a.addColorStop(s[l].offset,s[l].color);return a}};for(var r=i[me],o=0;o<n[K];o++){var a=n[o];a[0]in r||(r[a[0]]=a[1])}return i.getGradient=r.getGradient,i}),t("echarts/util/component",[we,Ae,"./clazz"],function(e){var t=e(Ae),n=e("./clazz"),i=n.parseClassType,r=0,o={},a="_";return o.getUID=function(e){return[e||"",r++,Math.random()].join(a)},o.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=i(e),t[e.main]=n},e.determineSubType=function(n,r){var o=r.type;if(!o){var a=i(n).main;e.hasSubTypes(n)&&t[a]&&(o=t[a](r))}return o},e},o.enableTopologicalTravel=function(e,n){function i(e){var i={},a=[];return t.each(e,function(s){var l=r(i,s),u=l.originalDeps=n(s),c=o(u,e);l.entryCount=c[K],0===l.entryCount&&a.push(s),t.each(c,function(e){t[F](l.predecessor,e)<0&&l.predecessor.push(e);var n=r(i,e);t[F](n.successor,e)<0&&n.successor.push(s)})}),{graph:i,noEntryList:a}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function o(e,n){var i=[];return t.each(e,function(e){t[F](n,e)>=0&&i.push(e)}),i}e.topologicalTravel=function(e,n,r,o){function a(e){u[e].entryCount--,0===u[e].entryCount&&c.push(e)}function s(e){h[e]=!0,a(e)}if(e[K]){var l=i(n),u=l.graph,c=l.noEntryList,h={};for(t.each(e,function(e){h[e]=!0});c[K];){var d=c.pop(),p=u[d],f=!!h[d];f&&(r.call(o,d,p.originalDeps.slice()),delete h[d]),t.each(p.successor,f?s:a)}t.each(h,function(){throw new Error("Circle dependency may exists")})}}},o}),t("echarts/model/mixin/boxLayout",[we],function(){return{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get(ae),width:this.get("width"),height:this.get(oe)}}}}),t("zrender/Element",[we,"./core/guid","./mixin/Eventful","./mixin/Transformable","./mixin/Animatable","./core/util"],function(e){var t=e("./core/guid"),n=e("./mixin/Eventful"),i=e("./mixin/Transformable"),o=e("./mixin/Animatable"),a=e("./core/util"),s=function(e){i.call(this,e),n.call(this,e),o.call(this,e),
this.id=e.id||t()};return s[me]={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this[r];n||(n=this[r]=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(e,t){if(e===D||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this[se]=!0,this.__zr&&this.__zr.refresh()},show:function(){this[se]=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e===fe)this.attrKV(e,t);else if(a[ne](e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t[K];n++)e[v].addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t[K];n++)e[v].removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},a.mixin(s,o),a.mixin(s,i),a.mixin(s,n),s}),t("echarts/coord/cartesian/Cartesian",[we,Ae],function(e){function t(e){return this._axes[e]}var n=e(Ae),i=function(e){this._axes={},this._dimList=[],this.name=e||""};return i[me]={constructor:i,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return n.map(this._dimList,t,this)},getAxesByScale:function(e){return e=e[ge](),n[j](this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},r=0;r<n[K];r++){var o=n[r],a=this._axes[o];i[o]=a[t](e[o])}return i}},i}),t("zrender/core/guid",[],function(){var e=2311;return function(){return e++}}),t("zrender/mixin/Transformable",[we,"../core/matrix","../core/vector"],function(e){function t(e){return e>a||-a>e}var n=e("../core/matrix"),i=e("../core/vector"),o=n.identity,a=5e-5,l=function(e){e=e||{},e[D]||(this[D]=[0,0]),null==e[s]&&(this[s]=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},u=l[me];u[r]=null,u.needLocalTransform=function(){return t(this[s])||t(this[D][0])||t(this[D][1])||t(this.scale[0]-1)||t(this.scale[1]-1)},u.updateTransform=function(){var e=this.parent,t=e&&e[r],i=this.needLocalTransform(),a=this[r];return i||t?(a=a||n[re](),i?this.getLocalTransform(a):o(a),t&&(i?n.mul(a,e[r],a):n.copy(a,e[r])),this[r]=a,this.invTransform=this.invTransform||n[re](),void n.invert(this.invTransform,a)):void(a&&o(a))},u.getLocalTransform=function(e){e=e||[],o(e);var t=this.origin,i=this.scale,r=this[s],a=this[D];return t&&(e[4]-=t[0],e[5]-=t[1]),n.scale(e,e,i),r&&n.rotate(e,e,r),t&&(e[4]+=t[0],e[5]+=t[1]),e[4]+=a[0],e[5]+=a[1],e},u.setTransform=function(e){var t=this[r];t&&e[r](t[0],t[1],t[2],t[3],t[4],t[5])},u.restoreTransform=function(e){var t=this.invTransform;t&&e[r](t[0],t[1],t[2],t[3],t[4],t[5])};var c=[];return u.decomposeTransform=function(){if(this[r]){var e=this.parent,i=this[r];e&&e[r]&&(n.mul(c,e.invTransform,i),i=c);var o=i[0]*i[0]+i[1]*i[1],a=i[2]*i[2]+i[3]*i[3],l=this[D],u=this.scale;t(o-1)&&(o=Math.sqrt(o)),t(a-1)&&(a=Math.sqrt(a)),i[0]<0&&(o=-o),i[3]<0&&(a=-a),l[0]=i[4],l[1]=i[5],u[0]=o,u[1]=a,this[s]=Math.atan2(-i[1]/a,i[0]/o)}},u.getGlobalScale=function(){var e=this[r];if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},u.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&i[h](n,n,r),n},u.transformCoordToGlobal=function(e,t){var n=[e,t],o=this[r];return o&&i[h](n,n,o),n},l}),t("zrender/mixin/Animatable",[we,"../animation/Animator","../core/util","../core/log"],function(e){var t=e("../animation/Animator"),n=e("../core/util"),i=n.isString,r=n.isFunction,o=n[ne],a=e("../core/log"),s=function(){this.animators=[]};return s[me]={constructor:s,animate:function(e,i){var r,o=!1,s=this,l=this.__zr;if(e){var u=e.split("."),c=s;o="shape"===u[0];for(var h=0,d=u[K];d>h;h++)c&&(c=c[u[h]]);c&&(r=c)}else r=s;if(!r)return void a('Property "'+e+'" is not existed in element '+s.id);var p=s.animators,f=new t(r,i);return f.during(function(){s.dirty(o)}).done(function(){p[Q](n[F](p,f),1)}),p.push(f),l&&l[v].addAnimator(f),f},stopAnimation:function(e){for(var t=this.animators,n=t[K],i=0;n>i;i++)t[i].stop(e);return t[K]=0,this},animateTo:function(e,t,n,o,a){function s(){u--,u||a&&a()}i(n)?(a=o,o=n,n=0):r(o)?(a=o,o="linear",n=0):r(n)?(a=n,n=0):r(t)?(a=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n,o,a);var l=this.animators.slice(),u=l[K];u||a&&a();for(var c=0;c<l[K];c++)l[c].done(s).start(o)},_animateToShallow:function(e,t,i,r,a){var s={},l=0;for(var u in i)if(null!=t[u])o(i[u])&&!n.isArrayLike(i[u])?this._animateToShallow(e?e+"."+u:u,t[u],i[u],r,a):(s[u]=i[u],l++);else if(null!=i[u])if(e){var c={};c[e]={},c[e][u]=i[u],this.attr(c)}else this.attr(u,i[u]);return l>0&&this.animate(e,!1).when(null==r?500:r,s).delay(a||0),this}},s}),t("echarts/coord/cartesian/axisLabelInterval",[we,Ae,"../axisHelper"],function(e){var t=e(Ae),n=e("../axisHelper");return function(e){var i=e.model,r=i[he]("axisLabel"),o=r.get("interval");return e.type!==f||"auto"!==o?"auto"===o?0:o:n.getAxisLabelInterval(t.map(e.scale.getTicks(),e.dataToCoord,e),i.getFormattedLabels(),r[he]($)[z](),e.isHorizontal())}}),t("echarts/coord/Axis",[we,"../util/number",Ae],function(e){function t(e,t){var n=e[1]-e[0],i=t,r=n/i/2;e[0]+=r,e[1]-=r}var n=e("../util/number"),i=n.linearMap,r=e(Ae),o=[0,1],a=function(e,t,n){this.dim=e,this.scale=t,this[M]=n||[0,0],this.inverse=!1,this.onBand=!1};return a[me]={constructor:a,contain:function(e){var t=this[M],n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&i>=e},containData:function(e){return this[I](this.dataToCoord(e))},getExtent:function(){var e=this[M].slice();return e},getPixelPrecision:function(e){return n.getPixelPrecision(e||this.scale[T](),this[M])},setExtent:function(e,t){var n=this[M];n[0]=e,n[1]=t},dataToCoord:function(e,n){var r=this[M],a=this.scale;return e=a.normalize(e),this.onBand&&a.type===m&&(r=r.slice(),t(r,a.count())),i(e,o,r,n)},coordToData:function(e,n){var r=this[M],a=this.scale;this.onBand&&a.type===m&&(r=r.slice(),t(r,a.count()));var s=i(e,r,o,n);return this.scale.scale(s)},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],i=0;i<t[K];i++)n.push(t[i][0]);return t[i-1]&&n.push(t[i-1][1]),n}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return r.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this[T](),t=[],n=this.scale.count(),i=e[0],r=e[1],o=r-i,a=0;n>a;a++)t.push([o*a/n+i,o*(a+1)/n+i]);return t},getBandWidth:function(){var e=this[M],t=this.scale[T](),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n}},a}),t("zrender/core/log",[we,"../config"],function(e){var t=e("../config");return function(){if(0!==t.debugMode)if(1==t.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(t.debugMode>1)for(var e in arguments)console.log(arguments[e])}}),t("zrender/animation/Animator",[we,"./Clip","../tool/color","../core/util"],function(e){function t(e,t){return e[t]}function n(e,t,n){e[t]=n}function i(e,t,n){return(t-e)*n+e}function r(e,t,n){return n>.5?t:e}function o(e,t,n,r,o){var a=e[K];if(1==o)for(var s=0;a>s;s++)r[s]=i(e[s],t[s],n);else for(var l=e[0][K],s=0;a>s;s++)for(var u=0;l>u;u++)r[s][u]=i(e[s][u],t[s][u],n)}function a(e,t,n){var i=e[K],r=t[K];if(i!==r){var o=i>r;if(o)e[K]=r;else for(var a=i;r>a;a++)e.push(1===n?t[a]:y.call(t[a]))}for(var s=e[0]&&e[0][K],a=0;a<e[K];a++)if(1===n)isNaN(e[a])&&(e[a]=t[a]);else for(var l=0;s>l;l++)isNaN(e[a][l])&&(e[a][l]=t[a][l])}function s(e,t,n){if(e===t)return!0;var i=e[K];if(i!==t[K])return!1;if(1===n){for(var r=0;i>r;r++)if(e[r]!==t[r])return!1}else for(var o=e[0][K],r=0;i>r;r++)for(var a=0;o>a;a++)if(e[r][a]!==t[r][a])return!1;return!0}function l(e,t,n,i,r,o,a,s,l){var c=e[K];if(1==l)for(var h=0;c>h;h++)s[h]=u(e[h],t[h],n[h],i[h],r,o,a);else for(var d=e[0][K],h=0;c>h;h++)for(var p=0;d>p;p++)s[h][p]=u(e[h][p],t[h][p],n[h][p],i[h][p],r,o,a)}function u(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}function c(e){if(g(e)){var t=e[K];if(g(e[0])){for(var n=[],i=0;t>i;i++)n.push(y.call(e[i]));return n}return y.call(e)}return e}function h(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function d(e,t,n,c,d){var m=e._getter,v=e._setter,y="spline"===t,b=c[K];if(b){var _,x=c[0].value,A=g(x),w=!1,C=!1,S=A&&g(x[0])?2:1;c.sort(function(e,t){return e.time-t.time}),_=c[b-1].time;for(var k=[],I=[],M=c[0].value,T=!0,L=0;b>L;L++){k.push(c[L].time/_);var D=c[L].value;if(A&&s(D,M,S)||!A&&D===M||(T=!1),M=D,typeof D==fe){var B=f.parse(D);B?(D=B,w=!0):C=!0}I.push(D)}if(!T){for(var O=I[b-1],L=0;b-1>L;L++)A?a(I[L],O,S):!isNaN(I[L])||isNaN(O)||C||w||(I[L]=O);A&&a(m(e._target,d),O,S);var P,E,z,R,$,N,F=0,j=0;if(w)var V=[0,0,0,0];var G=function(e,t){var n;if(j>t){for(P=Math.min(F+1,b-1),n=P;n>=0&&!(k[n]<=t);n--);n=Math.min(n,b-2)}else{for(n=F;b>n&&!(k[n]>t);n++);n=Math.min(n-1,b-2)}F=n,j=t;var a=k[n+1]-k[n];if(0!==a)if(E=(t-k[n])/a,y)if(R=I[n],z=I[0===n?n:n-1],$=I[n>b-2?b-1:n+1],N=I[n>b-3?b-1:n+2],A)l(z,R,$,N,E,E*E,E*E*E,m(e,d),S);else{var s;if(w)s=l(z,R,$,N,E,E*E,E*E*E,V,1),s=h(V);else{if(C)return r(R,$,E);s=u(z,R,$,N,E,E*E,E*E*E)}v(e,d,s)}else if(A)o(I[n],I[n+1],E,m(e,d),S);else{var s;if(w)o(I[n],I[n+1],E,V,1),s=h(V);else{if(C)return r(I[n],I[n+1],E);s=i(I[n],I[n+1],E)}v(e,d,s)}},H=new p({target:e._target,life:_,loop:e._loop,delay:e._delay,onframe:G,ondestroy:n});return t&&"spline"!==t&&(H.easing=t),H}}}var p=e("./Clip"),f=e("../tool/color"),m=e("../core/util"),g=m.isArrayLike,y=Array[me].slice,b=function(e,i,r,o){this._tracks={},this._target=e,this._loop=i||!1,this._getter=r||t,this._setter=o||n,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return b[me]={when:function(e,t){var n=this._tracks;for(var i in t){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==e&&n[i].push({time:0,value:c(r)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},_doneCallback:function(){this._tracks={},this._clipList[K]=0;for(var e=this._doneList,t=e[K],n=0;t>n;n++)e[n].call(this)},start:function(e){var t,n=this,i=0,r=function(){i--,i||n._doneCallback()};for(var o in this._tracks){var a=d(this,e,r,this._tracks[o],o);a&&(this._clipList.push(a),i++,this[v]&&this[v].addClip(a),t=a)}if(t){var s=t.onframe;t.onframe=function(e,t){s(e,t);for(var i=0;i<n._onframeList[K];i++)n._onframeList[i](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this[v],i=0;i<t[K];i++){var r=t[i];e&&r.onframe(this._target,1),n&&n.removeClip(r)}t[K]=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}},b}),t("echarts/coord/cartesian/AxisModel",[we,"../../model/Component",Ae,"../axisModelCreator","../axisModelCommonMixin"],function(e){function t(e,t){return t.type||(t.data?f:"value")}var n=e("../../model/Component"),i=e(Ae),r=e("../axisModelCreator"),o=n[ee]({type:"cartesian2dAxis",axis:null,init:function(){o.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){o.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){o.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(e,t){this[d].rangeStart=e,this[d].rangeEnd=t},getMin:function(){var e=this[d];return null!=e.rangeStart?e.rangeStart:e.min},getMax:function(){var e=this[d];return null!=e.rangeEnd?e.rangeEnd:e.max},getNeedCrossZero:function(){var e=this[d];return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},_resetRange:function(){this[d].rangeStart=this[d].rangeEnd=null}});i.merge(o[me],e("../axisModelCommonMixin"));var a={gridIndex:0,offset:0};return r("x",o,t,a),r("y",o,t,a),o}),t("zrender/animation/Clip",[we,"./easing"],function(e){function t(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}var n=e("./easing");return t[me]={constructor:t,step:function(e){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var t=(e-this._startTime)/this._life;if(!(0>t)){t=Math.min(t,1);var i=this.easing,r=typeof i==fe?n[i]:i,o=typeof r===G?r(t):t;return this.fire("frame",o),1==t?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)}},t}),t("echarts/coord/axisModelCreator",[we,"./axisDefault",Ae,"../model/Component","../util/layout"],function(e){var t=e("./axisDefault"),n=e(Ae),i=e("../model/Component"),r=e("../util/layout"),o=["value",f,"time","log"];return function(e,a,s,l){n.each(o,function(i){a[ee]({type:e+"Axis."+i,mergeDefaultAndTheme:function(t,o){var a=this.layoutMode,l=a?r.getLayoutParams(t):{},u=o.getTheme();n.merge(t,u.get(i+"Axis")),n.merge(t,this.getDefaultOption()),t.type=s(e,t),a&&r.mergeLayoutParam(t,l,a)},defaultOption:n.mergeAll([{},t[i+"Axis"],l],!0)})}),i.registerSubTypeDefaulter(e+"Axis",n.curry(s,e))}}),t("echarts/coord/axisModelCommonMixin",[we,Ae,"./axisHelper"],function(e){function t(e){return r[ne](e)&&null!=e.value?e.value:e}function n(){return this.get("type")===f&&r.map(this.get("data"),t)}function i(){return o.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var r=e(Ae),o=e("./axisHelper");return{getFormattedLabels:i,getCategories:n}}),t("zrender/animation/easing",[],function(){var e={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i)))},elasticOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/i)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i):n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(t){return 1-e.bounceOut(1-t)},bounceOut:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5}};return e}),t("echarts/coord/axisDefault",[we,Ae],function(e){var t=e(Ae),n={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},i=t.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},n),r=t.merge({boundaryGap:[0,0],splitNumber:5},n),o=t[ye]({scale:!0,min:"dataMin",max:"dataMax"},r),a=t[ye]({},r);return a.scale=!0,{categoryAxis:i,valueAxis:r,timeAxis:o,logAxis:a}}),t("zrender/contain/line",[],function(){return{containStroke:function(e,t,n,i,r,o,a){if(0===r)return!1;var s=r,l=0,u=e;if(a>t+s&&a>i+s||t-s>a&&i-s>a||o>e+s&&o>n+s||e-s>o&&n-s>o)return!1;if(e===n)return Math.abs(o-e)<=s/2;l=(t-i)/(e-n),u=(e*i-n*t)/(e-n);var c=l*o-a+u,h=c*c/(l*l+1);return s/2*s/2>=h}}}),t("zrender/contain/quadratic",[we,"../core/curve"],function(e){var t=e("../core/curve");return{containStroke:function(e,n,i,r,o,a,s,l,u){if(0===s)return!1;var c=s;if(u>n+c&&u>r+c&&u>a+c||n-c>u&&r-c>u&&a-c>u||l>e+c&&l>i+c&&l>o+c||e-c>l&&i-c>l&&o-c>l)return!1;var h=t.quadraticProjectPoint(e,n,i,r,o,a,l,u,null);return c/2>=h}}}),t("zrender/contain/util",[we],function(){var e=2*Math.PI;return{normalizeRadian:function(t){return t%=e,0>t&&(t+=e),t}}}),t("zrender/contain/cubic",[we,"../core/curve"],function(e){var t=e("../core/curve");return{containStroke:function(e,n,i,r,o,a,s,l,u,c,h){if(0===u)return!1;var d=u;if(h>n+d&&h>r+d&&h>a+d&&h>l+d||n-d>h&&r-d>h&&a-d>h&&l-d>h||c>e+d&&c>i+d&&c>o+d&&c>s+d||e-d>c&&i-d>c&&o-d>c&&s-d>c)return!1;var p=t.cubicProjectPoint(e,n,i,r,o,a,s,l,c,h,null);return d/2>=p}}}),t("zrender/contain/windingLine",[],function(){return function(e,t,n,i,r,o){if(o>t&&o>i||t>o&&i>o)return 0;if(i===t)return 0;var a=t>i?1:-1,s=(o-t)/(i-t);(1===s||0===s)&&(a=t>i?.5:-.5);var l=s*(n-e)+e;return l>r?a:0}}),t("zrender/contain/arc",[we,"./util"],function(e){var t=e("./util").normalizeRadian,n=2*Math.PI;return{containStroke:function(e,i,r,o,a,s,l,u,c){if(0===l)return!1;var h=l;u-=e,c-=i;var d=Math.sqrt(u*u+c*c);if(d-h>r||r>d+h)return!1;if(Math.abs(o-a)%n<1e-4)return!0;if(s){var p=o;o=t(a),a=t(p)}else o=t(o),a=t(a);o>a&&(a+=n);var f=Math.atan2(c,u);return 0>f&&(f+=n),f>=o&&a>=f||f+n>=o&&a>=f+n}}}),t("zrender/core/LRU",[we],function(){var e=function(){this.head=null,this.tail=null,this._len=0},t=e[me];t.insert=function(e){var t=new n(e);return this.insertEntry(t),t},t.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._len++},t[te]=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},t.len=function(){return this._len};var n=function(e){this.value=e,this.next,this.prev},i=function(t){this._list=new e,this._map={},this._maxSize=t||10},r=i[me];return r.put=function(e,t){var n=this._list,i=this._map;if(null==i[e]){var r=n.len();if(r>=this._maxSize&&r>0){var o=n.head;n[te](o),delete i[o.key]}var a=n.insert(t);a.key=e,i[e]=a}},r.get=function(e){var t=this._map[e],n=this._list;return null!=t?(t!==n.tail&&(n[te](t),n.insertEntry(t)),t.value):void 0},r.clear=function(){this._list.clear(),this._map={}},i}),t("echarts/chart/helper/createListFromArray",[we,"../../data/List","../../data/helper/completeDimensions",Ae,"../../util/model","../../CoordinateSystem"],function(e){function t(e){for(var t=0;t<e[K]&&null==e[t];)t++;return e[t]}function n(e){var n=t(e);return null!=n&&!u[H](d(n))}function i(e,t,i){e=e||[];var r=t.get(be),o=g[r],f=h.get(r),m=o&&o(e,t,i),v=m&&m.dimensions;v||(v=f&&f.dimensions||["x","y"],v=l(v,e,v[A](["value"])));var y=m?m.categoryIndex:-1,b=new s(v,t),_=a(m,e),x={},w=y>=0&&n(e)?function(e,t,n,i){return c.isDataItemOption(e)&&(b.hasItemOption=!0),i===y?n:p(d(e),v[i])}:function(e,t,n,i){var r=d(e),o=p(r&&r[i],v[i]);c.isDataItemOption(e)&&(b.hasItemOption=!0);var a=m&&m.categoryAxesModels;return a&&a[t]&&typeof o===fe&&(x[t]=x[t]||a[t].getCategories(),o=u[F](x[t],o),0>o&&!isNaN(o)&&(o=+o)),o};return b.hasItemOption=!1,b.initData(e,_,w),b}function r(e){return e!==f&&"time"!==e}function o(e){return e===f?m:"time"===e?"time":"float"}function a(e,t){var n,i=[],r=e&&e.dimensions[e.categoryIndex];if(r&&(n=e.categoryAxesModels[r.name]),n){var o=n.getCategories();if(o){var a=t[K];if(u[H](t[0])&&t[0][K]>1){i=[];for(var s=0;a>s;s++)i[s]=o[t[s][e.categoryIndex||0]]}else i=o.slice(0)}}return i}var s=e("../../data/List"),l=e("../../data/helper/completeDimensions"),u=e(Ae),c=e("../../util/model"),h=e("../../CoordinateSystem"),d=c.getDataItemValue,p=c.converDataValue,g={cartesian2d:function(e,t,n){var i=n.getComponent("xAxis",t.get("xAxisIndex")),a=n.getComponent("yAxis",t.get("yAxisIndex")),s=i.get("type"),u=a.get("type"),c=[{name:"x",type:o(s),stackable:r(s)},{name:"y",type:o(u),stackable:r(u)}],h=s===f,d=u===f;l(c,e,["x","y","z"]);var p={};return h&&(p.x=i),d&&(p.y=a),{dimensions:c,categoryIndex:h?0:d?1:-1,categoryAxesModels:p}},polar:function(e,t,n){var i=t.get("polarIndex")||0,a=function(e){return e.get("polarIndex")===i},s=n.findComponents({mainType:"angleAxis",filter:a})[0],u=n.findComponents({mainType:"radiusAxis",filter:a})[0],c=u.get("type"),h=s.get("type"),d=[{name:"radius",type:o(c),stackable:r(c)},{name:"angle",type:o(h),stackable:r(h)}],p=h===f,m=c===f;l(d,e,[_,"angle","value"]);var g={};return m&&(g[_]=u),p&&(g.angle=s),{dimensions:d,categoryIndex:p?1:m?0:-1,categoryAxesModels:g}},geo:function(e){return{dimensions:l([{name:"lng"},{name:"lat"}],e,["lng","lat","value"])}}};return i}),t("zrender/graphic/helper/poly",[we,"./smoothSpline","./smoothBezier"],function(e){var t=e("./smoothSpline"),n=e("./smoothBezier");return{buildPath:function(e,r,o){var a=r.points,s=r.smooth;if(a&&a[K]>=2){if(s&&"spline"!==s){var l=n(a,s,o,r.smoothConstraint);e[i](a[0][0],a[0][1]);for(var u=a[K],c=0;(o?u:u-1)>c;c++){var h=l[2*c],d=l[2*c+1],p=a[(c+1)%u];e.bezierCurveTo(h[0],h[1],d[0],d[1],p[0],p[1])}}else{"spline"===s&&(a=t(a,o)),e[i](a[0][0],a[0][1]);for(var c=1,f=a[K];f>c;c++)e.lineTo(a[c][0],a[c][1])}o&&e.closePath()}}}}),t("zrender/Handler",[we,"./core/util","./mixin/Draggable","./mixin/Eventful"],function(e){function t(e,t,n){return{type:e,event:n,target:t,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta}}function n(){}function i(e,t,n){if(e[e.rectHover?"rectContain":I](t,n)){for(var i=e;i;){if(i.silent||i.clipPath&&!i.clipPath[I](t,n))return!1;i=i.parent}return!0}return!1}var r=e("./core/util"),o=e("./mixin/Draggable"),a=e("./mixin/Eventful");n[me].dispose=function(){};var s=["click","dblclick","mousewheel",X,"mouseup","mousedown","mousemove"],l=function(e,t,i){a.call(this),this.storage=e,this.painter=t,i=i||new n,this.proxy=i,i.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,o.call(this),r.each(s,function(e){i.on&&i.on(e,this[e],this)},this)};return l[me]={constructor:l,mousemove:function(e){var t=e.zrX,n=e.zrY,i=this.findHover(t,n,null),r=this._hovered,o=this.proxy;this._hovered=i,o.setCursor&&o.setCursor(i?i.cursor:"default"),r&&i!==r&&r.__zr&&this.dispatchToElement(r,X,e),this.dispatchToElement(i,"mousemove",e),i&&i!==r&&this.dispatchToElement(i,Z,e)},mouseout:function(e){this.dispatchToElement(this._hovered,X,e),this[J]("globalout",{event:e})},resize:function(){this._hovered=null},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,n,i){for(var r="on"+n,o=t(n,e,i),a=e;a&&(a[r]&&(o.cancelBubble=a[r].call(a,o)),a[J](n,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this[J](n,o),this.painter&&this.painter.eachOtherLayer(function(e){typeof e[r]==G&&e[r].call(e,o),e[J]&&e[J](n,o)}))},findHover:function(e,t,n){for(var r=this.storage.getDisplayList(),o=r[K]-1;o>=0;o--)if(!r[o].silent&&r[o]!==n&&!r[o][se]&&i(r[o],e,t))return r[o]}},r.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){l[me][e]=function(t){var n=this.findHover(t.zrX,t.zrY,null);if("mousedown"===e)this._downel=n,this._upel=n;else if("mosueup"===e)this._upel=n;else if("click"===e&&this._downel!==this._upel)return;this.dispatchToElement(n,e,t)}}),r.mixin(l,a),r.mixin(l,o),l}),t("zrender/Painter",[we,"./config","./core/util","./core/log","./core/BoundingRect","./core/timsort","./Layer","./animation/requestAnimationFrame","./graphic/Image"],function(e){function t(e){return parseInt(e,10)}function i(e){return!!e&&(!!e.isBuildin||typeof e[de]===G&&typeof e.refresh===G)}function o(e){e.__unusedCount++}function a(e){1==e.__unusedCount&&e.clear()}function l(e,t,n){return x.copy(e[P]()),e[r]&&x[h](e[r]),A.width=t,A[oe]=n,!x.intersect(A)}function u(e,t){if(e==t)return!1;if(!e||!t||e[K]!==t[K])return!0;for(var n=0;n<e[K];n++)if(e[n]!==t[n])return!0}function c(e,t){for(var i=0;i<e[K];i++){var o,a=e[i];a[r]&&(o=a[r],t[r](o[0],o[1],o[2],o[3],o[4],o[5]));var s=a.path;s.beginPath(t),a[n](s,a.shape),t.clip(),a[r]&&(o=a.invTransform,t[r](o[0],o[1],o[2],o[3],o[4],o[5]))}}function d(e,t){var n=document[C]("div"),i=n.style;return i[D]="relative",i.overflow="hidden",i.width=e+"px",i[oe]=t+"px",n}var p=e("./config"),f=e("./core/util"),m=e("./core/log"),g=e("./core/BoundingRect"),v=e("./core/timsort"),y=e("./Layer"),b=e("./animation/requestAnimationFrame"),_=5,x=new g(0,0,0,0),A=new g(0,0,0,0),S=function(e,t,n){var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();n=n||{},this.dpr=n.devicePixelRatio||p.devicePixelRatio,this._singleCanvas=i,this.root=e;var r=e.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},i){var s=e.width,l=e[oe];this._width=s,this._height=l;var u=new y(e,this,1);u.initContext(),a[0]=u,o.push(0)}else{this._width=this._getWidth(),this._height=this._getHeight();var c=this._domRoot=d(this._width,this._height);e.appendChild(c)}this.pathToImage=this._createPathToImage(),this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};return S[me]={constructor:S,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(t,e);for(var i=0;i<n[K];i++){var r=n[i],o=this._layers[r];!o.isBuildin&&o.refresh&&o.refresh()}return this.refreshHover(),this._progressiveLayers[K]&&this._startProgessive(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n[W](t),this._hoverElements.push(n)}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,i=f[F](n,t);i>=0&&n[Q](i,1),e.__hoverMir=null},clearHover:function(){for(var e=this._hoverElements,t=0;t<e[K];t++){var n=e[t].__from;n&&(n.__hoverMir=null)}e[K]=0},refreshHover:function(){var e=this._hoverElements,t=e[K],n=this._hoverlayer;if(n&&n.clear(),t){v(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var o=0;t>o;){var a=e[o],s=a.__from;s&&s.__zr?(o++,s.invisible||(a[r]=s[r],a.invTransform=s.invTransform,a.__clipPaths=s.__clipPaths,this._doPaintEl(a,n,!0,i))):(e[Q](o,1),s.__hoverMir=null,t--)}n.ctx.restore()}},_startProgessive:function(){function e(){n===t._progressiveToken&&t.storage&&(t._doPaintList(t.storage.getDisplayList()),t._furtherProgressive?(t._progress++,b(e)):t._progressiveToken=-1)}var t=this;if(t._furtherProgressive){var n=t._progressiveToken=+new Date;t._progress++,b(e)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,f.each(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(e,t){null==t&&(t=!1),this._updateLayerStatus(e),this._clearProgressive(),this.eachBuildinLayer(o),this._doPaintList(e,t),this.eachBuildinLayer(a)},_doPaintList:function(e,t){function n(e){o.save(),o.globalAlpha=1,o.shadowBlur=0,i.__dirty=!0,o.drawImage(e.dom,0,0,c,h),o.restore(),i.ctx.restore()}for(var i,r,o,a,s,l,u=0,c=this._width,h=this._height,d=this._progress,p=0,g=e[K];g>p;p++){var v=e[p],y=this._singleCanvas?0:v[U],b=v.__frame;if(0>b&&s&&(n(s),s=null),r!==y&&(o&&o.restore(),a={},r=y,i=this.getLayer(r),i.isBuildin||m("ZLevel "+r+" has been used by unkown layer "+i.id),o=i.ctx,o.save(),i.__unusedCount=0,(i.__dirty||t)&&i.clear()),i.__dirty||t){if(b>=0){if(!s){if(s=this._progressiveLayers[Math.min(u++,_-1)],s.ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){p=s.__nextIdxNotProg-1;continue}l=s.__progress,s.__dirty||(d=l),s.__progress=d+1}b===d&&this._doPaintEl(v,s,!0,s.renderScope)}else this._doPaintEl(v,i,t,a);v.__dirty=!1}}s&&n(s),o&&o.restore(),this._furtherProgressive=!1,f.each(this._progressiveLayers,function(e){e.__maxProgress>=e.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(e,t,n,i){var r=t.ctx;if((t.__dirty||n)&&!e.invisible&&0!==e.style[L]&&e.scale[0]&&e.scale[1]&&(!e.culling||!l(e,this._width,this._height))){var o=e.__clipPaths;(i.prevClipLayer!==t||u(o,i.prevElClipPaths))&&(i.prevElClipPaths&&(i.prevClipLayer.ctx.restore(),i.prevClipLayer=i.prevElClipPaths=null,i.prevEl=null),o&&(r.save(),c(o,r),i.prevClipLayer=t,i.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(r),e.brush(r,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(r)}},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];return t||(t=new y("zr_"+e,this,this.dpr),t.isBuildin=!0,this._layerConfig[e]&&f.merge(t,this._layerConfig[e],!0),this.insertLayer(e,t),t.initContext()),t},insertLayer:function(e,t){var n=this._layers,r=this._zlevelList,o=r[K],a=null,s=-1,l=this._domRoot;if(n[e])return void m("ZLevel "+e+" has been used already");if(!i(t))return void m("Layer of zlevel "+e+" is not valid");if(o>0&&e>r[0]){for(s=0;o-1>s&&!(r[s]<e&&r[s+1]>e);s++);a=n[r[s]]}if(r[Q](s+1,0,e),a){var u=a.dom;u.nextSibling?l.insertBefore(t.dom,u.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);n[e]=t},eachLayer:function(e,t){var n,i,r=this._zlevelList;for(i=0;i<r[K];i++)n=r[i],e.call(t,this._layers[n],n)},eachBuildinLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o[K];r++)i=o[r],n=this._layers[i],n.isBuildin&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o[K];r++)i=o[r],n=this._layers[i],n.isBuildin||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){
var t=this._layers,n=this._progressiveLayers,i={},r={};this.eachBuildinLayer(function(e,t){i[t]=e.elCount,e.elCount=0,e.__dirty=!1}),f.each(n,function(e,t){r[t]=e.elCount,e.elCount=0,e.__dirty=!1});for(var o,a,s=0,l=0,u=0,c=e[K];c>u;u++){var h=e[u],d=this._singleCanvas?0:h[U],p=t[d],m=h.progressive;if(p&&(p.elCount++,p.__dirty=p.__dirty||h.__dirty),m>=0){a!==m&&(a=m,l++);var g=h.__frame=l-1;if(!o){var v=Math.min(s,_-1);o=n[v],o||(o=n[v]=new y("progressive",this,this.dpr),o.initContext()),o.__maxProgress=0}o.__dirty=o.__dirty||h.__dirty,o.elCount++,o.__maxProgress=Math.max(o.__maxProgress,g),o.__maxProgress>=o.__progress&&(p.__dirty=!0)}else h.__frame=-1,o&&(o.__nextIdxNotProg=u,s++,o=null)}o&&(s++,o.__nextIdxNotProg=u),this.eachBuildinLayer(function(e,t){i[t]!==e.elCount&&(e.__dirty=!0)}),n[K]=Math.min(s,_),f.each(n,function(e,t){r[t]!==e.elCount&&(h.__dirty=!0),e.__dirty&&(e.__progress=0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?f.merge(n[e],t,!0):n[e]=t;var i=this._layers[e];i&&f.merge(i,n[e],!0)}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n[Q](f[F](n,e),1))},resize:function(e,t){var n=this._domRoot;if(n.style.display="none",e=e||this._getWidth(),t=t||this._getHeight(),n.style.display="",this._width!=e||t!=this._height){n.style.width=e+"px",n.style[oe]=t+"px";for(var i in this._layers)this._layers[i][de](e,t);this.refresh(!0)}return this._width=e,this._height=t,this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=new y("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clearColor=e.backgroundColor,t.clear();for(var n=this.storage.getDisplayList(!0),i={},r=0;r<n[K];r++){var o=n[r];this._doPaintEl(o,t,!0,i)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var e=this.root,n=document.defaultView.getComputedStyle(e);return(e.clientWidth||t(n.width)||t(e.style.width))-(t(n.paddingLeft)||0)-(t(n.paddingRight)||0)|0},_getHeight:function(){var e=this.root,n=document.defaultView.getComputedStyle(e);return(e.clientHeight||t(n[oe])||t(e.style[oe]))-(t(n.paddingTop)||0)-(t(n.paddingBottom)||0)|0},_pathToImage:function(t,n,i,r,o){var a=document[C](pe),l=a[w]("2d");a.width=i*o,a[oe]=r*o,l.clearRect(0,0,i*o,r*o);var u={position:n[D],rotation:n[s],scale:n.scale};n[D]=[0,0,0],n[s]=0,n.scale=[1,1],n&&n.brush(l);var c=e("./graphic/Image"),h=new c({id:t,style:{x:0,y:0,image:a}});return null!=u[D]&&(h[D]=n[D]=u[D]),null!=u[s]&&(h[s]=n[s]=u[s]),null!=u.scale&&(h.scale=n.scale=u.scale),h},_createPathToImage:function(){var e=this;return function(t,n,i,r){return e._pathToImage(t,n,i,r,e.dpr)}}},S}),t("zrender/Storage",[we,"./core/util","./core/env","./container/Group","./core/timsort"],function(e){function t(e,t){return e[U]===t[U]?e.z===t.z?e.z2-t.z2:e.z-t.z:e[U]-t[U]}var n=e("./core/util"),i=e("./core/env"),r=e("./container/Group"),o=e("./core/timsort"),a=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};return a[me]={constructor:a,traverse:function(e,t){for(var n=0;n<this._roots[K];n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,a=0,s=n[K];s>a;a++)this._updateAndAddDisplayable(n[a],null,e);r[K]=this._displayListLen,i[le]&&o(r,t)},_updateAndAddDisplayable:function(e,t,n){if(!e[se]||n){e.beforeUpdate(),e.__dirty&&e[ie](),e.afterUpdate();var i=e.clipPath;if(i&&(i.parent=e,i.updateTransform(),t?(t=t.slice(),t.push(i)):t=[i]),e.isGroup){for(var r=e._children,o=0;o<r[K];o++){var a=r[o];e.__dirty&&(a.__dirty=!0),this._updateAndAddDisplayable(a,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){this._elements[e.id]||(e instanceof r&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots[K];t++){var i=this._roots[t];i instanceof r&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var t=0,o=e[K];o>t;t++)this.delRoot(e[t]);else{var a;a=typeof e==fe?this._elements[e]:e;var s=n[F](this._roots,a);s>=0&&(this.delFromMap(a.id),this._roots[Q](s,1),a instanceof r&&a.delChildrenFromStorage(this))}},addToMap:function(e){return e instanceof r&&(e.__storage=this),e.dirty(),this._elements[e.id]=e,this},get:function(e){return this._elements[e]},delFromMap:function(e){var t=this._elements,n=t[e];return n&&(delete t[e],n instanceof r&&(n.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:t},a}),t("zrender/animation/Animation",[we,"../core/util","../core/event","./requestAnimationFrame","./Animator"],function(e){var t=e("../core/util"),n=e("../core/event").Dispatcher,i=e("./requestAnimationFrame"),r=e("./Animator"),o=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time=0,n.call(this)};return o[me]={constructor:o,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e[v]=this;for(var t=e.getClips(),n=0;n<t[K];n++)this.addClip(t[n])},removeClip:function(e){var n=t[F](this._clips,e);n>=0&&this._clips[Q](n,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t[K];n++)this.removeClip(t[n]);e[v]=null},_update:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,i=n[K],r=[],o=[],a=0;i>a;a++){var s=n[a],l=s.step(e);l&&(r.push(l),o.push(s))}for(var a=0;i>a;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r[K];for(var a=0;i>a;a++)o[a].fire(r[a]);this._time=e,this.onframe(t),this[J]("frame",t),this.stage[ie]&&this.stage[ie]()},start:function(){function e(){t._running&&(i(e),t._update())}var t=this;this._running=!0,this._time=(new Date).getTime(),i(e)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new r(e,t.loop,t.getter,t.setter);return n}},t.mixin(o,n),o}),t("zrender/dom/HandlerProxy",[we,"../core/event","../core/util","../mixin/Eventful","../core/env","../core/GestureMgr"],function(e){function t(e){return"mousewheel"===e&&c.browser.firefox?"DOMMouseScroll":e}function n(e,t,n){var i=e._gestureMgr;"start"===n&&i.clear();var r=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null),e.dom);if("end"===n&&i.clear(),r){var o=r.type;t.gestureEvent=o,e.handler.dispatchToElement(r.target,o,r.event)}}function i(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function r(){return c.touchEventsSupported}function o(e){function t(e,t){return function(){return t._touching?void 0:e.apply(t,arguments)}}for(var n=0;n<v[K];n++){var i=v[n];e._handlers[i]=l.bind(y[i],e)}for(var n=0;n<g[K];n++){var i=g[n];e._handlers[i]=t(y[i],e)}}function a(e){function n(n,i){l.each(n,function(n){d(e,t(n),i._handlers[n])},i)}u.call(this),this.dom=e,this._touching=!1,this._touchTimer,this._gestureMgr=new h,this._handlers={},o(this),r()&&n(v,this),n(g,this)}var s=e("../core/event"),l=e("../core/util"),u=e("../mixin/Eventful"),c=e("../core/env"),h=e("../core/GestureMgr"),d=s.addEventListener,p=s.removeEventListener,f=s.normalizeEvent,m=300,g=["click","dblclick","mousewheel",X,"mouseup","mousedown","mousemove"],v=["touchstart","touchend","touchmove"],y={mousemove:function(e){e=f(this.dom,e),this[J]("mousemove",e)},mouseout:function(e){e=f(this.dom,e);var t=e.toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this[J](X,e)},touchstart:function(e){e=f(this.dom,e),this._lastTouchMoment=new Date,n(this,e,"start"),y.mousemove.call(this,e),y.mousedown.call(this,e),i(this)},touchmove:function(e){e=f(this.dom,e),n(this,e,"change"),y.mousemove.call(this,e),i(this)},touchend:function(e){e=f(this.dom,e),n(this,e,"end"),y.mouseup.call(this,e),+new Date-this._lastTouchMoment<m&&y.click.call(this,e),i(this)}};l.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){y[e]=function(t){t=f(this.dom,t),this[J](e,t)}});var b=a[me];return b.dispose=function(){for(var e=g[A](v),n=0;n<e[K];n++){var i=e[n];p(this.dom,t(i),this._handlers[i])}},b.setCursor=function(e){this.dom.style.cursor=e||"default"},l.mixin(a,u),a}),t("echarts/data/helper/completeDimensions",[we,Ae],function(e){function t(e,t,o,a){if(!t)return e;var s=n(t[0]),l=i[H](s)&&s[K]||1;o=o||[],a=a||"extra";for(var u=0;l>u;u++)if(!e[u]){var c=o[u]||a+(u-o[K]);e[u]=r(t,u)?{type:"ordinal",name:c}:c}return e}function n(e){return i[H](e)?e:i[ne](e)?e.value:e}var i=e(Ae),r=t.guessOrdinal=function(e,t){for(var r=0,o=e[K];o>r;r++){var a=n(e[r]);if(!i[H](a))return!1;var a=a[t];if(null!=a&&isFinite(a))return!1;if(i.isString(a)&&"-"!==a)return!0}return!1};return t}),t("zrender/graphic/helper/smoothSpline",[we,"../../core/vector"],function(e){function t(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}var n=e("../../core/vector");return function(e,i){for(var r=e[K],o=[],a=0,s=1;r>s;s++)a+=n.distance(e[s-1],e[s]);var l=a/2;l=r>l?r:l;for(var s=0;l>s;s++){var u,c,h,d=s/(l-1)*(i?r:r-1),p=Math.floor(d),f=d-p,m=e[p%r];i?(u=e[(p-1+r)%r],c=e[(p+1)%r],h=e[(p+2)%r]):(u=e[0===p?p:p-1],c=e[p>r-2?r-1:p+1],h=e[p>r-3?r-1:p+2]);var g=f*f,v=f*g;o.push([t(u[0],m[0],c[0],h[0],f,g,v),t(u[1],m[1],c[1],h[1],f,g,v)])}return o}}),t("echarts/data/DataDiffer",[we],function(){function e(e){return e}function t(t,n,i,r){this._old=t,this._new=n,this._oldKeyGetter=i||e,this._newKeyGetter=r||e}function n(e,t,n,i){for(var r=0;r<e[K];r++){var o=i(e[r],r),a=t[o];null==a?(n.push(o),t[o]=r):(a[K]||(t[o]=a=[a]),a.push(r))}}return t[me]={constructor:t,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e,t=this._old,i=this._new,r=this._oldKeyGetter,o=this._newKeyGetter,a={},s={},l=[],u=[];for(n(t,a,l,r),n(i,s,u,o),e=0;e<t[K];e++){var c=l[e],h=s[c];if(null!=h){var d=h[K];d?(1===d&&(s[c]=null),h=h.unshift()):s[c]=null,this._update&&this._update(h,e)}else this._remove&&this._remove(e)}for(var e=0;e<u[K];e++){var c=u[e];if(s.hasOwnProperty(c)){var h=s[c];if(null==h)continue;if(h[K])for(var p=0,d=h[K];d>p;p++)this._add&&this._add(h[p]);else this._add&&this._add(h)}}}},t}),t("zrender/graphic/helper/smoothBezier",[we,"../../core/vector"],function(e){var t=e("../../core/vector"),n=t.min,i=t.max,r=t.scale,o=t.distance,a=t.add;return function(e,s,l,u){var c,h,d,p,f=[],m=[],g=[],v=[];if(u){d=[1/0,1/0],p=[-1/0,-1/0];for(var y=0,b=e[K];b>y;y++)n(d,d,e[y]),i(p,p,e[y]);n(d,d,u[0]),i(p,p,u[1])}for(var y=0,b=e[K];b>y;y++){var _=e[y];if(l)c=e[y?y-1:b-1],h=e[(y+1)%b];else{if(0===y||y===b-1){f.push(t.clone(e[y]));continue}c=e[y-1],h=e[y+1]}t.sub(m,h,c),r(m,m,s);var x=o(_,c),A=o(_,h),w=x+A;0!==w&&(x/=w,A/=w),r(g,m,-x),r(v,m,A);var C=a([],_,g),S=a([],_,v);u&&(i(C,C,d),n(C,C,p),i(S,S,d),n(S,S,p)),f.push(C),f.push(S)}return l&&f.push(f.shift()),f}}),t("zrender/mixin/Draggable",[we],function(){function e(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}return e[me]={constructor:e,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(t,"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.dispatchToElement(t,"drag",e.event);var a=this.findHover(n,i,t),s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.dispatchToElement(s,"dragleave",e.event),a&&a!==s&&this.dispatchToElement(a,"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(t,"dragend",e.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",e.event),this._draggingTarget=null,this._dropTarget=null}},e}),t("zrender/graphic/helper/roundRect",[we],function(){return{buildPath:function(e,t){var n,r,o,a,s=t.x,l=t.y,u=t.width,c=t[oe],h=t.r;0>u&&(s+=u,u=-u),0>c&&(l+=c,c=-c),typeof h===V?n=r=o=a=h:h instanceof Array?1===h[K]?n=r=o=a=h[0]:2===h[K]?(n=o=h[0],r=a=h[1]):3===h[K]?(n=h[0],r=a=h[1],o=h[2]):(n=h[0],r=h[1],o=h[2],a=h[3]):n=r=o=a=0;var d;n+r>u&&(d=n+r,n*=u/d,r*=u/d),o+a>u&&(d=o+a,o*=u/d,a*=u/d),r+o>c&&(d=r+o,r*=c/d,o*=c/d),n+a>c&&(d=n+a,n*=c/d,a*=c/d),e[i](s+n,l),e.lineTo(s+u-r,l),0!==r&&e.quadraticCurveTo(s+u,l,s+u,l+r),e.lineTo(s+u,l+c-o),0!==o&&e.quadraticCurveTo(s+u,l+c,s+u-o,l+c),e.lineTo(s+a,l+c),0!==a&&e.quadraticCurveTo(s,l+c,s,l+c-a),e.lineTo(s,l+n),0!==n&&e.quadraticCurveTo(s,l,s+n,l)}}}),t("echarts/chart/bar/barItemStyle",[we,"../../model/mixin/makeStyleMapper"],function(e){var t=e("../../model/mixin/makeStyleMapper")([["fill","color"],[u,"borderColor"],[c,"borderWidth"],[u,"barBorderColor"],[c,"barBorderWidth"],[L],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getBarItemStyle:function(e){var n=t.call(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(n.lineDash=i)}return n}}}),t("zrender/animation/requestAnimationFrame",[we],function(){return typeof window!==o&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)}}),t("zrender/core/event",[we,"../mixin/Eventful"],function(e){function t(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function n(e,n,i){var r=t(e);return i=i||{},i.zrX=n.clientX-r.left,i.zrY=n.clientY-r.top,i}function i(e,t){if(t=t||window.event,null!=t.zrX)return t;var i=t.type,r=i&&i[F]("touch")>=0;if(r){var o="touchend"!=i?t.targetTouches[0]:t.changedTouches[0];o&&n(e,o,t)}else n(e,t,t),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;return t}function r(e,t,n){l?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function a(e,t,n){l?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}var s=e("../mixin/Eventful"),l=typeof window!==o&&!!window.addEventListener,u=l?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};return{clientToLocal:n,normalizeEvent:i,addEventListener:r,removeEventListener:a,stop:u,Dispatcher:s}}),t("echarts/component/axis/AxisView",[we,Ae,x,"./AxisBuilder","../../echarts"],function(e){function t(e,t){function n(e){var t=i.getAxis(e);return t.toGlobalCoord(t.dataToCoord(0))}var i=e[be],r=t.axis,o={},a=r[D],u=r.onZero?"onZero":a,c=r.dim,h=i.getRect(),d=[h.x,h.x+h.width,h.y,h.y+h[oe]],p=t.get("offset")||0,f={x:{top:d[2]-p,bottom:d[3]+p},y:{left:d[0]-p,right:d[1]+p}};f.x.onZero=Math.max(Math.min(n("y"),f.x[ae]),f.x.top),f.y.onZero=Math.max(Math.min(n("x"),f.y.right),f.y.left),o[D]=["y"===c?f.y[u]:d[0],"x"===c?f.x[u]:d[3]],o[s]=Math.PI/2*("x"===c?0:1);var m={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=m[a],r.onZero&&(o.labelOffset=f[c][a]-f[c].onZero),t[he]("axisTick").get(l)&&(o.tickDirection=-o.tickDirection),t[he]("axisLabel").get(l)&&(o.labelDirection=-o.labelDirection);var g=t[he]("axisLabel").get("rotate");return o.labelRotation="top"===u?-g:g,o.labelInterval=r.getLabelInterval(),o.z2=1,o}var n=e(Ae),i=e(x),r=e("./AxisBuilder"),o=r.ifIgnoreOnTick,a=r.getInterval,u=["axisLine","axisLabel","axisTick","axisName"],c=["splitArea","splitLine"],h=e("../../echarts").extendComponentView({type:"axis",render:function(e,o){this.group[_e]();var a=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),e.get("show")){var s=o.getComponent("grid",e.get("gridIndex")),l=t(s,e),h=new r(e,l);n.each(u,h.add,h),this._axisGroup.add(h.getGroup()),n.each(c,function(t){e.get(t+".show")&&this["_"+t](e,s,l.labelInterval)},this),i.groupTransition(a,this._axisGroup,e)}},_splitLine:function(e,t,r){var s=e.axis,l=e[he]("splitLine"),u=l[he]("lineStyle"),c=u.get("color"),h=a(l,r);c=n[H](c)?c:[c];for(var d=t[be].getRect(),p=s.isHorizontal(),f=0,m=s.getTicksCoords(),g=s.scale.getTicks(),v=[],y=[],b=u.getLineStyle(),_=0;_<m[K];_++)if(!o(s,_,h)){var x=s.toGlobalCoord(m[_]);p?(v[0]=x,v[1]=d.y,y[0]=x,y[1]=d.y+d[oe]):(v[0]=d.x,v[1]=x,y[0]=d.x+d.width,y[1]=x);var A=f++%c[K];this._axisGroup.add(new i.Line(i.subPixelOptimizeLine({anid:"line_"+g[_],shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:n[ye]({stroke:c[A]},b),silent:!0})))}},_splitArea:function(e,t,r){var s=e.axis,l=e[he]("splitArea"),u=l[he]("areaStyle"),c=u.get("color"),h=t[be].getRect(),d=s.getTicksCoords(),p=s.scale.getTicks(),f=s.toGlobalCoord(d[0]),m=s.toGlobalCoord(d[0]),g=0,v=a(l,r),y=u.getAreaStyle();c=n[H](c)?c:[c];for(var b=1;b<d[K];b++)if(!o(s,b,v)){var _,x,A,w,C=s.toGlobalCoord(d[b]);s.isHorizontal()?(_=f,x=h.y,A=C-_,w=h[oe]):(_=h.x,x=m,A=h.width,w=C-x);var S=g++%c[K];this._axisGroup.add(new i.Rect({anid:"area_"+p[b],shape:{x:_,y:x,width:A,height:w},style:n[ye]({fill:c[S]},y),silent:!0})),f=_+A,m=x+w}}});h[ee]({type:"xAxis"}),h[ee]({type:"yAxis"})}),t("zrender/core/GestureMgr",[we,"./event"],function(e){function t(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function n(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var i=e("./event"),r=function(){this._track=[]};r[me]={constructor:r,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track[K]=0,this},_doTrack:function(e,t,n){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},a=0,s=r[K];s>a;a++){var l=r[a],u=i.clientToLocal(n,l);o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(e){for(var t in o)if(o.hasOwnProperty(t)){var n=o[t](this._track,e);if(n)return n}}};var o={pinch:function(e,i){var r=e[K];if(r){var o=(e[r-1]||{}).points,a=(e[r-2]||{}).points||o;if(a&&a[K]>1&&o&&o[K]>1){var s=t(o)/t(a);!isFinite(s)&&(s=1),i.pinchScale=s;var l=n(o);return i.pinchX=l[0],i.pinchY=l[1],{type:"pinch",target:e[0].target,event:i}}}}};return r}),t("echarts/component/axis/AxisBuilder",[we,Ae,"../../util/format",x,"../../model/Model","../../util/number",ve],function(e){function t(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function n(e,t,n){var i,r,o=p(t-e[s]);return g(o)?(r=n>0?"top":ae,i=B):g(o-_)?(r=n>0?ae:"top",i=B):(r=O,i=o>0&&_>o?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,verticalAlign:r}}function i(e,t,n,i){var r,o,a=p(n-e[s]),l=i[0]>i[1],u="start"===t&&!l||"start"!==t&&l;return g(a-_/2)?(o=u?ae:"top",r=B):g(a-1.5*_)?(o=u?"top":ae,r=B):(o=O,r=1.5*_>a&&a>_/2?u?"left":"right":u?"right":"left"),{rotation:a,textAlign:r,verticalAlign:o}}function o(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}var a=e(Ae),l=e("../../util/format"),u=e(x),c=e("../../model/Model"),d=e("../../util/number"),p=d.remRadian,g=d.isRadianAroundZero,v=e(ve),y=v[h],b=a.retrieve,_=Math.PI,A=function(e,t){this.opt=t,this.axisModel=e,a[ye](t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new u.Group;var n=new u.Group({position:t[D].slice(),rotation:t[s]});n.updateTransform(),this._transform=n[r],this._dumbGroup=n};A[me]={constructor:A,hasBuilder:function(e){return!!w[e]},add:function(e){w[e].call(this)},getGroup:function(){return this.group}};var w={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis[T](),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(y(r,r,i),y(o,o,i)),this.group.add(new u.Line(u.subPixelOptimizeLine({anid:"line",shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:a[ee]({lineCap:"round"},t[he]("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var e=this.axisModel;if(e.get("axisTick.show"))for(var t=e.axis,n=e[he]("axisTick"),i=this.opt,r=n[he]("lineStyle"),o=n.get(K),s=S(n,i.labelInterval),l=t.getTicksCoords(n.get("alignWithLabel")),c=t.scale.getTicks(),h=[],d=[],p=this._transform,f=0;f<l[K];f++)if(!C(t,f,s)){var m=l[f];h[0]=m,h[1]=0,d[0]=m,d[1]=i.tickDirection*o,p&&(y(h,h,p),y(d,d,p)),this.group.add(new u.Line(u.subPixelOptimizeLine({anid:"tick_"+c[f],shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:a[ye](r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function e(e,t){var n=e&&e[P]().clone(),i=t&&t[P]().clone();return n&&i?(n[h](e.getLocalTransform()),i[h](t.getLocalTransform()),n.intersect(i)):void 0}var i=this.opt,r=this.axisModel,a=b(i.axisLabelShow,r.get("axisLabel.show"));if(a){var l=r.axis,d=r[he]("axisLabel"),p=d[he]($),m=d.get("margin"),g=l.scale.getTicks(),v=r.getFormattedLabels(),y=b(i.labelRotation,d.get("rotate"))||0;y=y*_/180;for(var x=n(i,y,i.labelDirection),A=r.get("data"),w=[],S=o(r),k=r.get("triggerEvent"),I=0;I<g[K];I++)if(!C(l,I,i.labelInterval)){var M=p;A&&A[I]&&A[I][$]&&(M=new c(A[I][$],p,r.ecModel));var T=M[E]()||r.get("axisLine.lineStyle.color"),L=l.dataToCoord(g[I]),D=[L,i.labelOffset+i.labelDirection*m],B=l.scale.getLabel(g[I]),O=new u.Text({anid:"label_"+g[I],style:{text:v[I],textAlign:M.get("align",!0)||x[R],textVerticalAlign:M.get("baseline",!0)||x.verticalAlign,textFont:M[z](),fill:typeof T===G?T(B):T},position:D,rotation:x[s],silent:S,z2:10});k&&(O.eventData=t(r),O.eventData.targetType="axisLabel",O.eventData.value=B),this._dumbGroup.add(O),O.updateTransform(),w.push(O),this.group.add(O),O.decomposeTransform()}if(l.type!==f){if(r.getMin?r.getMin():r.get("min")){var N=w[0],F=w[1];e(N,F)&&(N[se]=!0)}if(r.getMax?r.getMax():r.get("max")){var j=w[w[K]-1],V=w[w[K]-2];e(V,j)&&(j[se]=!0)}}}},axisName:function(){var e=this.opt,r=this.axisModel,c=b(e.axisName,r.get("name"));if(c){var h,d=r.get("nameLocation"),p=e.nameDirection,f=r[he]("nameTextStyle"),m=r.get("nameGap")||0,g=this.axisModel.axis[T](),v=g[0]>g[1]?-1:1,y=["start"===d?g[0]-v*m:"end"===d?g[1]+v*m:(g[0]+g[1])/2,d===O?e.labelOffset+p*m:0],x=r.get("nameRotate");null!=x&&(x=x*_/180);var A;d===O?h=n(e,null!=x?x:e[s],p):(h=i(e,d,x||0,g),A=e.axisNameAvailableWidth,null!=A&&(A=Math.abs(A/Math.sin(h[s])),!isFinite(A)&&(A=null)));var w=f[z](),C=r.get("nameTruncate",!0)||{},S=C.ellipsis,k=b(C.maxWidth,A),I=null!=S&&null!=k?l.truncateText(c,k,w,S,{minChar:2,placeholder:C.placeholder}):c,M=r.get("tooltip",!0),L=r.mainType,D={componentType:L,name:c,$vars:["name"]};D[L+"Index"]=r.componentIndex;var B=new u.Text({anid:"name",__fullText:c,__truncatedText:I,style:{text:I,textFont:w,fill:f[E]()||r.get("axisLine.lineStyle.color"),textAlign:h[R],textVerticalAlign:h.verticalAlign},position:y,rotation:h[s],silent:o(r),z2:1,tooltip:M&&M.show?a[ee]({content:c,formatter:function(){return c},formatterParams:D},M):null});r.get("triggerEvent")&&(B.eventData=t(r),B.eventData.targetType="axisName",B.eventData.name=c),this._dumbGroup.add(B),B.updateTransform(),this.group.add(B),B.decomposeTransform()}}},C=A.ifIgnoreOnTick=function(e,t,n){var i,r=e.scale;return r.type===m&&(typeof n===G?(i=r.getTicks()[t],!n(i,r.getLabel(i))):t%(n+1))},S=A.getInterval=function(e,t){var n=e.get("interval");return(null==n||"auto"==n)&&(n=t),n};return A}),t("zrender/Layer",[we,"./core/util","./config","./graphic/Style","./graphic/Pattern"],function(e){function t(){return!1}function n(e,t,n,i){var r=document[C](t),o=n[ce](),a=n[ue](),s=r.style;return s[D]="absolute",s.left=0,s.top=0,s.width=o+"px",s[oe]=a+"px",r.width=o*i,r[oe]=a*i,r.setAttribute("data-zr-dom-id",e),r}var i=e("./core/util"),r=e("./config"),o=e("./graphic/Style"),a=e("./graphic/Pattern"),s=function(e,o,a){var s;a=a||r.devicePixelRatio,typeof e===fe?s=n(e,pe,o,a):i[ne](e)&&(s=e,e=s.id),this.id=e,this.dom=s;var l=s.style;l&&(s.onselectstart=t,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=o,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=a};return s[me]={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom[w]("2d");var e=this.dpr;1!=e&&this.ctx.scale(e,e)},createBackBuffer:function(){var e=this.dpr;this.domBack=n("back-"+this.id,pe,this.painter,e),this.ctxBack=this.domBack[w]("2d"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r.width=e+"px",r[oe]=t+"px",i.width=e*n,i[oe]=t*n,1!=n&&this.ctx.scale(n,n),o&&(o.width=e*n,o[oe]=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var t=this.dom,n=this.ctx,i=t.width,r=t[oe],s=this.clearColor,l=this.motionBlur&&!e,u=this.lastFrameAlpha,c=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/c,r/c)),n.clearRect(0,0,i/c,r/c),s){var h;s.colorStops?(h=s.__canvasGradient||o.getGradient(n,s,{x:0,y:0,width:i/c,height:r/c}),s.__canvasGradient=h):s.image&&(h=a[me].getCanvasPattern.call(s,n)),n.save(),n.fillStyle=h||s,n.fillRect(0,0,i/c,r/c),n.restore()}if(l){var d=this.domBack;n.save(),n.globalAlpha=u,n.drawImage(d,0,0,i/c,r/c),n.restore()}}},s}),t("echarts/preprocessor/helper/compatStyle",[we,Ae],function(e){function t(e){var t=e&&e.itemStyle;t&&n.each(i,function(i){var r=t[p],o=t.emphasis;r&&r[i]&&(e[i]=e[i]||{},e[i][p]?n.merge(e[i][p],r[i]):e[i][p]=r[i],r[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?n.merge(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)})}var n=e(Ae),i=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];return function(e){if(e){t(e),t(e.markPoint),t(e.markLine);var i=e.data;if(i){for(var r=0;r<i[K];r++)t(i[r]);var o=e.markPoint;if(o&&o.data)for(var a=o.data,r=0;r<a[K];r++)t(a[r]);var s=e.markLine;if(s&&s.data)for(var l=s.data,r=0;r<l[K];r++)n[H](l[r])?(t(l[r][0]),t(l[r][1])):t(l[r])}}}}),t("echarts/chart/line/lineAnimationDiff",[we],function(){function e(e){return e>=0?1:-1}function t(t,n,i){for(var r,o=t.getBaseAxis(),a=t.getOtherAxis(o),s=o.onZero?0:a.scale[T]()[0],l=a.dim,u="x"===l||l===_?1:0,c=n.stackedOn,h=n.get(l,i);c&&e(c.get(l,i))===e(h);){r=c;break}var d=[];return d[u]=n.get(o.dim,i),d[1-u]=r?r.get(l,i,!0):s,t.dataToPoint(d)}function n(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})})[ie](function(e,t){n.push({cmd:"=",idx:t,idx1:e})})[te](function(e){n.push({cmd:"-",idx:e})}).execute(),n}return function(e,i,r,o,a,s){for(var l=n(e,i),u=[],c=[],h=[],d=[],p=[],f=[],m=[],g=s.dimensions,v=0;v<l[K];v++){var b=l[v],_=!0;switch(b.cmd){case"=":var x=e[y](b.idx),A=i[y](b.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=A.slice()),u.push(x),c.push(A),h.push(r[b.idx]),d.push(o[b.idx1]),m.push(i.getRawIndex(b.idx1));break;case"+":var w=b.idx;u.push(a.dataToPoint([i.get(g[0],w,!0),i.get(g[1],w,!0)])),c.push(i[y](w).slice()),h.push(t(a,i,w)),d.push(o[w]),m.push(i.getRawIndex(w));break;case"-":var w=b.idx,C=e.getRawIndex(w);C!==w?(u.push(e[y](w)),c.push(s.dataToPoint([e.get(g[0],w,!0),e.get(g[1],w,!0)])),h.push(r[w]),d.push(t(s,e,w)),m.push(C)):_=!1}_&&(p.push(b),f.push(f[K]))}f.sort(function(e,t){return m[e]-m[t]});for(var S=[],k=[],I=[],M=[],T=[],v=0;v<f[K];v++){var w=f[v];S[v]=u[w],k[v]=c[w],I[v]=h[w],M[v]=d[w],T[v]=p[w]}return{current:S,next:k,stackedOnCurrent:I,stackedOnNext:M,status:T}}}),t("echarts/chart/helper/SymbolDraw",[we,x,"./Symbol"],function(e){function t(e){this.group=new i.Group,this._symbolCtor=e||r}function n(e,t,n){var i=e[y](t);return!(!i||isNaN(i[0])||isNaN(i[1])||n&&n(t)||"none"===e[b](t,"symbol"))}var i=e(x),r=e("./Symbol"),o=t[me];return o.updateData=function(e,t){var r=this.group,o=e.hostModel,a=this._data,s=this._symbolCtor,l={itemStyle:o[he]("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:o[he]("itemStyle.emphasis").getItemStyle(),symbolRotate:o.get("symbolRotate"),symbolOffset:o.get("symbolOffset"),hoverAnimation:o.get("hoverAnimation"),labelModel:o[he]("label.normal"),hoverLabelModel:o[he]("label.emphasis")};e.diff(a).add(function(i){var o=e[y](i);if(n(e,i,t)){var a=new s(e,i,l);a.attr(D,o),e.setItemGraphicEl(i,a),r.add(a)}})[ie](function(u,c){var h=a[g](c),d=e[y](u);return n(e,u,t)?(h?(h.updateData(e,u,l),i.updateProps(h,{position:d},o)):(h=new s(e,u),h.attr(D,d)),r.add(h),void e.setItemGraphicEl(u,h)):void r[te](h)})[te](function(e){var t=a[g](e);t&&t.fadeOut(function(){r[te](t)})}).execute(),this._data=e},o.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e[y](n);t.attr(D,i)})},o[te]=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t[te](e)})}):t[_e]())},t}),t("echarts/component/helper/selectableMixin",[we,Ae],function(e){var t=e(Ae);return{updateSelectedMap:function(e){this._selectTargetMap=t.reduce(e||[],function(e,t){return e[t.name]=t,e},{})},select:function(e){var n=this._selectTargetMap,i=n[e],r=this.get("selectedMode");"single"===r&&t.each(n,function(e){e.selected=!1}),i&&(i.selected=!0)},unSelect:function(e){var t=this._selectTargetMap[e];t&&(t.selected=!1)},toggleSelected:function(e){var t=this._selectTargetMap[e];return null!=t?(this[t.selected?"unSelect":"select"](e),t.selected):void 0},isSelected:function(e){var t=this._selectTargetMap[e];return t&&t.selected}}}),t("echarts/chart/helper/Symbol",[we,Ae,"../../util/symbol",x,"../../util/number"],function(e){function t(e){return e instanceof Array||(e=[+e,+e]),e}function n(e,t,n){a.Group.call(this),this.updateData(e,t,n)}function i(e,t){this.parent.drift(e,t)}var r=e(Ae),o=e("../../util/symbol"),a=e(x),l=e("../../util/number"),u=n[me];u._createSymbol=function(e,n,r){this[_e]();var s=n.hostModel,l=n[b](r,"color"),u=o.createSymbol(e,-.5,-.5,1,1,l);u.attr({z2:100,culling:!0,scale:[0,0]}),u.drift=i;var c=t(n[b](r,"symbolSize"));a.initProps(u,{scale:c},s,r),this._symbolType=e,this.add(u)},u.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0)[J]("emphasis")},u.downplay=function(){this.childAt(0)[J](p)},u.setZ=function(e,t){var n=this.childAt(0);n[U]=e,n.z=t},u.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},u.updateData=function(e,n,i){this.silent=!1;var r=e[b](n,"symbol")||"circle",o=e.hostModel,s=t(e[b](n,"symbolSize"));if(r!==this._symbolType)this._createSymbol(r,e,n);else{var l=this.childAt(0);a.updateProps(l,{scale:s},o,n)}this._updateCommon(e,n,s,i),this._seriesModel=o};var c=["itemStyle",p],h=["itemStyle","emphasis"],d=["label",p],f=["label","emphasis"];return u._updateCommon=function(e,n,i,o){var u=this.childAt(0),g=e.hostModel,v=e[b](n,"color");"image"!==u.type&&u.useStyle({strokeNoScale:!0}),o=o||null;var y=o&&o.itemStyle,_=o&&o.hoverItemStyle,x=o&&o.symbolRotate,A=o&&o.symbolOffset,w=o&&o.labelModel,C=o&&o.hoverLabelModel,I=o&&o.hoverAnimation;if(!o||e.hasItemOption){var M=e[k](n);y=M[he](c).getItemStyle(["color"]),_=M[he](h).getItemStyle(),x=M[S]("symbolRotate"),A=M[S]("symbolOffset"),w=M[he](d),C=M[he](f),I=M[S]("hoverAnimation")}else _=r[ee]({},_);var T=u.style;u[s]=(x||0)*Math.PI/180||0,A&&u.attr(D,[l.parsePercent(A[0],i[0]),l.parsePercent(A[1],i[1])]),u.setColor(v),u[W](y);var B=e[b](n,L);null!=B&&(T[L]=B);for(var O,P,E=e.dimensions.slice();E[K]&&(O=E.pop(),P=e.getDimensionInfo(O).type,P===m||"time"===P););null!=O&&w[S]("show")?(a.setText(T,w,v),T.text=r.retrieve(g.getFormattedLabel(n,p),e.get(O,n))):T.text="",null!=O&&C[S]("show")?(a.setText(_,C,v),_.text=r.retrieve(g.getFormattedLabel(n,"emphasis"),e.get(O,n))):_.text="";var z=t(e[b](n,"symbolSize"));if(u.off(Z).off(X).off("emphasis").off(p),
a.setHoverStyle(u,_),I&&g.ifEnableAnimation()){var R=function(){var e=z[1]/z[0];this.animateTo({scale:[Math.max(1.1*z[0],z[0]+3),Math.max(1.1*z[1],z[1]+3*e)]},400,"elasticOut")},$=function(){this.animateTo({scale:z},400,"elasticOut")};u.on(Z,R).on(X,$).on("emphasis",R).on(p,$)}},u.fadeOut=function(e){var t=this.childAt(0);this.silent=!0,t.style.text="",a.updateProps(t,{scale:[0,0]},this._seriesModel,this[Y],e)},r[N](n,a.Group),n}),t("echarts/chart/line/poly",[we,"zrender/graphic/Path",ve],function(e){function t(e){return isNaN(e[0])||isNaN(e[1])}function n(e,n,r,o,f,m,g,v,y,b,_){for(var x=0,A=r,w=0;o>w;w++){var C=n[A];if(A>=f||0>A)break;if(t(C)){if(_){A+=m;continue}break}if(A===r)e[m>0?i:"lineTo"](C[0],C[1]),c(d,C);else if(y>0){var S=A+m,k=n[S];if(_)for(;k&&t(n[S]);)S+=m,k=n[S];var I=.5,M=n[x],k=n[S];if(!k||t(k))c(p,C);else{t(k)&&!_&&(k=C),a.sub(h,k,M);var T,L;if("x"===b||"y"===b){var D="x"===b?0:1;T=Math.abs(C[D]-M[D]),L=Math.abs(C[D]-k[D])}else T=a.dist(C,M),L=a.dist(C,k);I=L/(L+T),u(p,C,h,-y*(1-I))}s(d,d,v),l(d,d,g),s(p,p,v),l(p,p,g),e.bezierCurveTo(d[0],d[1],p[0],p[1],C[0],C[1]),u(d,C,h,y*I)}else e.lineTo(C[0],C[1]);x=A,A+=m}return w}function r(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var r=0;r<e[K];r++){var o=e[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:t?n:i,max:t?i:n}}var o=e("zrender/graphic/Path"),a=e(ve),s=a.min,l=a.max,u=a.scaleAndAdd,c=a.copy,h=[],d=[],p=[];return{Polyline:o[ee]({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(e,i){var o=i.points,a=0,s=o[K],l=r(o,i.smoothConstraint);if(i.connectNulls){for(;s>0&&t(o[s-1]);s--);for(;s>a&&t(o[a]);a++);}for(;s>a;)a+=n(e,o,a,s,s,1,l.min,l.max,i.smooth,i.smoothMonotone,i.connectNulls)+1}}),Polygon:o[ee]({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(e,i){var o=i.points,a=i.stackedOnPoints,s=0,l=o[K],u=i.smoothMonotone,c=r(o,i.smoothConstraint),h=r(a,i.smoothConstraint);if(i.connectNulls){for(;l>0&&t(o[l-1]);l--);for(;l>s&&t(o[s]);s++);}for(;l>s;){var d=n(e,o,s,l,l,1,c.min,c.max,i.smooth,u,i.connectNulls);n(e,a,s+d-1,d,l,-1,h.min,h.max,i.stackedOnSmooth,u,i.connectNulls),s+=d+1,e.closePath()}}})}}),t("echarts/util/symbol",[we,"./graphic","zrender/core/BoundingRect"],function(e){var t=e("./graphic"),r=e("zrender/core/BoundingRect"),o=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,o=t.width/2,a=t[oe]/2;e[i](n,r-a),e.lineTo(n+o,r+a),e.lineTo(n-o,r+a),e.closePath()}}),a=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,o=t.width/2,a=t[oe]/2;e[i](n,r-a),e.lineTo(n+o,r),e.lineTo(n,r+a),e.lineTo(n-o,r),e.closePath()}}),s=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t[oe]),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,h=Math.sin(u),d=Math.cos(u);e.arc(n,l,a,Math.PI-u,2*Math.PI+u);var p=.6*a,f=.7*a;e.bezierCurveTo(n+c-h*p,l+s+d*p,n,i-f,n,i),e.bezierCurveTo(n,i-f,n-c+h*p,l+s+d*p,n-c,l+s),e.closePath()}}),c=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t[oe],r=t.width,o=t.x,a=t.y,s=r/3*2;e[i](o,a),e.lineTo(o+s,a+n),e.lineTo(o,a+n/4*3),e.lineTo(o-s,a+n),e.lineTo(o,a),e.closePath()}}),h={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:a,pin:s,arrow:c,triangle:o},d={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r[oe]=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r[oe]=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r[oe]=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r[oe]=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r[oe]=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r[oe]=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r[oe]=i}},p={};for(var f in h)p[f]=new h[f];var m=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style,t=this.shape;"pin"===t.symbolType&&e.textPosition===l&&(e.textPosition=["50%","40%"],e[R]=B,e.textVerticalAlign=O)},buildPath:function(e,t,i){var r=t.symbolType,o=p[r];"none"!==t.symbolType&&(o||(r="rect",o=p[r]),d[r](t.x,t.y,t.width,t[oe],o.shape),o[n](e,o.shape,i))}}),g=function(e){if("image"!==this.type){var t=this.style,n=this.shape;n&&"line"===n.symbolType?t[u]=e:this.__isEmptyBrush?(t[u]=e,t.fill="#fff"):(t.fill&&(t.fill=e),t[u]&&(t[u]=e)),this.dirty(!1)}},v={createSymbol:function(e,n,i,o,a,s){var l=0===e[F]("empty");l&&(e=e.substr(5,1)[ge]()+e.substr(6));var u;return u=0===e[F]("image://")?new t.Image({style:{image:e.slice(8),x:n,y:i,width:o,height:a}}):0===e[F]("path://")?t.makePath(e.slice(7),{},new r(n,i,o,a)):new m({shape:{symbolType:e,x:n,y:i,width:o,height:a}}),u.__isEmptyBrush=l,u.setColor=g,u.setColor(s),u}};return v}),t("echarts/component/helper/listComponent",[we,"../../util/layout","../../util/format",x],function(e){function t(e,t,i){n.positionGroup(e,t.getBoxLayoutParams(),{width:i[ce](),height:i[ue]()},t.get("padding"))}var n=e("../../util/layout"),i=e("../../util/format"),r=e(x);return{layout:function(e,i,r){var o=n.getLayoutRect(i.getBoxLayoutParams(),{width:r[ce](),height:r[ue]()},i.get("padding"));n.box(i.get("orient"),e,i.get("itemGap"),o.width,o[oe]),t(e,i,r)},addBackground:function(e,t){var n=i.normalizeCssArray(t.get("padding")),o=e[P](),a=t.getItemStyle(["color",L]);a.fill=t.get("backgroundColor");var s=new r.Rect({shape:{x:o.x-n[3],y:o.y-n[0],width:o.width+n[1]+n[3],height:o[oe]+n[0]+n[2]},style:a,silent:!0,z2:-1});r.subPixelOptimizeRect(s),e.add(s)}}}),t("echarts/component/tooltip/TooltipContent",[we,Ae,"zrender/tool/color","zrender/core/event","../../util/format","zrender/core/env"],function(e){function t(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+e+"s "+t+",top "+e+"s "+t;return a.map(p,function(e){return e+"transition:"+n}).join(";")}function n(e){var t=[],n=e.get("fontSize"),i=e[E]();return i&&t.push("color:"+i),t.push("font:"+e[z]()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),c(["decoration","align"],function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)}),t.join(";")}function i(e){e=e;var i=[],r=e.get("transitionDuration"),o=e.get("backgroundColor"),a=e[he]($),l=e.get("padding");return r&&i.push(t(r)),o&&(d[le]?i.push("background-Color:"+o):(i.push("background-Color:#"+s.toHex(o)),i.push("filter:alpha(opacity=70)"))),c(["width","color",_],function(t){var n="border-"+t,r=h(n),o=e.get(r);null!=o&&i.push(n+":"+o+("color"===t?"":"px"))}),i.push(n(a)),null!=l&&i.push("padding:"+u.normalizeCssArray(l).join("px ")+"px"),i.join(";")+";"}function r(e,t){var n=document[C]("div"),i=t.getZr();this.el=n,this._x=t[ce]()/2,this._y=t[ue]()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r.enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(!r.enterable){var n=i.handler;l.normalizeEvent(e,t),n.dispatch("mousemove",t)}},n.onmouseleave=function(){r.enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1},o(n,e)}function o(e,t){function n(e){i(e.target)&&e.preventDefault()}function i(n){for(;n&&n!==t;){if(n===e)return!0;n=n.parentNode}}l.addEventListener(t,"touchstart",n),l.addEventListener(t,"touchmove",n),l.addEventListener(t,"touchend",n)}var a=e(Ae),s=e("zrender/tool/color"),l=e("zrender/core/event"),u=e("../../util/format"),c=a.each,h=u.toCamelCase,d=e("zrender/core/env"),p=["","-webkit-","-moz-","-o-"],f="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";return r[me]={constructor:r,enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n[D]&&"absolute"!==t[D]&&(n[D]="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=f+i(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){var t=this.el;t.innerHTML=e,t.style.display=e?"block":"none"},moveTo:function(e,t){var n=this.el.style;n.left=e+"px",n.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this.enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(a.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show}},r}),t("echarts/chart/pie/labelLayout",[we,"zrender/contain/text"],function(e){function t(e,t,n,i,r,o,a){function s(t,n,i){for(var r=t;n>r;r++)if(e[r].y+=i,r>t&&n>r+1&&e[r+1].y>e[r].y+e[r][oe])return void l(r,i/2);l(n-1,i/2)}function l(t,n){for(var i=t;i>=0&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1][oe]));i--);}function u(e,t,n,i,r,o){for(var a=o>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,s=0,l=e[K];l>s;s++)if(e[s][D]!==B){var u=Math.abs(e[s].y-i),c=e[s].len,h=e[s].len2,d=r+c>u?Math.sqrt((r+c+h)*(r+c+h)-u*u):Math.abs(e[s].x-n);t&&d>=a&&(d=a-10),!t&&a>=d&&(d=a+10),e[s].x=n+d*o,a=d}}e.sort(function(e,t){return e.y-t.y});for(var c,h=0,d=e[K],p=[],f=[],m=0;d>m;m++)c=e[m].y-h,0>c&&s(m,d,-c,r),h=e[m].y+e[m][oe];0>a-h&&l(d-1,h-a);for(var m=0;d>m;m++)e[m].y>=n?f.push(e[m]):p.push(e[m]);u(p,!1,t,n,i,r),u(f,!0,t,n,i,r)}function n(e,n,i,r,o,a){for(var s=[],l=[],u=0;u<e[K];u++)e[u].x<n?s.push(e[u]):l.push(e[u]);t(l,n,i,r,1,o,a),t(s,n,i,r,-1,o,a);for(var u=0;u<e[K];u++){var c=e[u].linePoints;if(c){var h=c[1][0]-c[2][0];c[2][0]=e[u].x<n?e[u].x+3:e[u].x-3,c[1][1]=c[2][1]=e[u].y,c[1][0]=c[2][0]+h}}}var i=e("zrender/contain/text");return function(e,t,r,o){var s,u,c=e[xe](),h=[],d=!1;c.each(function(n){var r,o,f,m,g=c[y](n),v=c[k](n),b=v[he]("label.normal"),_=b.get(D)||v.get("label.emphasis.position"),x=v[he]("labelLine.normal"),A=x.get(K),w=x.get("length2"),C=(g.startAngle+g.endAngle)/2,S=Math.cos(C),I=Math.sin(C);s=g.cx,u=g.cy;var M=_===l||"inner"===_;if(_===B)r=g.cx,o=g.cy,m=B;else{var T=(M?(g.r+g.r0)/2*S:g.r*S)+s,L=(M?(g.r+g.r0)/2*I:g.r*I)+u;if(r=T+3*S,o=L+3*I,!M){var O=T+S*(A+t-g.r),E=L+I*(A+t-g.r),R=O+(0>S?-1:1)*w,N=E;r=R+(0>S?-5:5),o=N,f=[[T,L],[O,E],[R,N]]}m=M?B:S>0?"left":"right"}var F=b[he]($)[z](),j=b.get("rotate")?0>S?-C+Math.PI:-C:0,V=e.getFormattedLabel(n,p)||c[a](n),G=i[P](V,F,m,"top");d=!!j,g.label={x:r,y:o,position:_,height:G[oe],len:A,len2:w,linePoints:f,textAlign:m,verticalAlign:"middle",font:F,rotation:j},M||h.push(g.label)}),!d&&e.get("avoidLabelOverlap")&&n(h,s,u,t,r,o)}}),t("zrender",["zrender/zrender"],function(e){return e}),t("echarts",["echarts/echarts"],function(e){return e});var Ce=e("echarts");return Ce.graphic=e("echarts/util/graphic"),Ce.number=e("echarts/util/number"),Ce.format=e("echarts/util/format"),e("echarts/chart/bar"),e("echarts/chart/line"),e("echarts/chart/pie"),e("echarts/component/grid"),e("echarts/component/title"),e("echarts/component/legend"),e("echarts/component/tooltip"),e("zrender/vml/vml"),Ce}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.html2canvas=e()}}(function(){var e;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,n,i){(function(t,i){(function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(){}function l(){return function(){t.nextTick(d)}}function u(){var e=0,t=new j(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function h(){return function(){setTimeout(d,1)}}function d(){for(var e=0;e<$;e+=2){var t=G[e],n=G[e+1];t(n),G[e]=void 0,G[e+1]=void 0}$=0}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(t){return q.error=t,q}}function v(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function y(e,t,n){N(function(e){var i=!1,r=v(n,t,function(n){i||(i=!0,t!==n?x(e,n):w(e,n))},function(t){i||(i=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,C(e,r))},e)}function b(e,t){t._state===U?w(e,t._result):e._state===W?C(e,t._result):S(t,void 0,function(t){x(e,t)},function(t){C(e,t)})}function _(e,t){if(t.constructor===e.constructor)b(e,t);else{var n=g(t);n===q?C(e,q.error):void 0===n?w(e,t):o(n)?y(e,t,n):w(e,t)}}function x(e,t){e===t?C(e,f()):r(t)?_(e,t):w(e,t)}function A(e){e._onerror&&e._onerror(e._result),k(e)}function w(e,t){e._state===H&&(e._result=t,e._state=U,0===e._subscribers.length||N(k,e))}function C(e,t){e._state===H&&(e._state=W,e._result=t,N(A,e))}function S(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+U]=n,r[o+W]=i,0===o&&e._state&&N(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?T(n,i,r,o):r(o);e._subscribers.length=0}}function I(){this.error=null}function M(e,t){try{return e(t)}catch(n){return Y.error=n,Y}}function T(e,t,n,i){var r,a,s,l,u=o(n);if(u){if(r=M(n,i),r===Y?(l=!0,a=r.error,r=null):s=!0,t===r)return void C(t,m())}else r=i,s=!0;t._state!==H||(u&&s?x(t,r):l?C(t,a):e===U?w(t,r):e===W&&C(t,r))}function L(e,t){try{t(function(t){x(e,t)},function(t){C(e,t)})}catch(n){C(e,n)}}function D(e,t,n,i){this._instanceConstructor=e,this.promise=new e(p,i),this._abortOnReject=n,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):C(this.promise,this._validationError())}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(e){this._id=ee++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==e&&(o(e)||B(),this instanceof P||O(),L(this,e))}var E;E=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z,R=E,$=(Date.now||function(){return(new Date).getTime()},Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return s.prototype=e,new s},0),N=function(e,t){G[$]=e,G[$+1]=t,$+=2,2===$&&z()},F="undefined"!=typeof window?window:{},j=F.MutationObserver||F.WebKitMutationObserver,V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=new Array(1e3);z="undefined"!=typeof t&&"[object process]"==={}.toString.call(t)?l():j?u():V?c():h();var H=void 0,U=1,W=2,q=new I,Y=new I;D.prototype._validateInput=function(e){return R(e)},D.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},D.prototype._init=function(){this._result=new Array(this.length)};var X=D;D.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,i=0;t._state===H&&i<e;i++)this._eachEntry(n[i],i)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor;a(e)?e.constructor===n&&e._state!==H?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(n.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(U,t,e))},D.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===H&&(this._remaining--,this._abortOnReject&&e===W?C(i,n):this._result[t]=this._makeResult(e,t,n)),0===this._remaining&&w(i,this._result)},D.prototype._makeResult=function(e,t,n){return n},D.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){n._settledAt(U,t,e)},function(e){n._settledAt(W,t,e)})};var Z=function(e,t){return new X(this,e,(!0),t).promise},Q=function(e,t){function n(e){x(o,e)}function i(e){C(o,e)}var r=this,o=new r(p,t);if(!R(e))return C(o,new TypeError("You must pass an array to race.")),o;for(var a=e.length,s=0;o._state===H&&s<a;s++)S(r.resolve(e[s]),void 0,n,i);return o},J=function(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var i=new n(p,t);return x(i,e),i},K=function(e,t){var n=this,i=new n(p,t);return C(i,e),i},ee=0,te=P;P.all=Z,P.race=Q,P.resolve=J,P.reject=K,P.prototype={constructor:P,then:function(e,t){var n=this,i=n._state;if(i===U&&!e||i===W&&!t)return this;var r=new this.constructor(p),o=n._result;if(i){var a=arguments[i-1];N(function(){T(i,r,a,o)})}else S(n,r,e,t);return r},"catch":function(e){return this.then(null,e)}};var ne=function(){var e;e="undefined"!=typeof i?i:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=te)},ie={Promise:te,polyfill:ne};"function"==typeof e&&e.amd?e(function(){return ie}):"undefined"!=typeof n&&n.exports?n.exports=ie:"undefined"!=typeof this&&(this.ES6Promise=ie)}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(e,t,n){function i(){if(!s){s=!0;for(var e,t=a.length;t;){e=a,a=[];for(var n=-1;++n<t;)e[n]();t=a.length}s=!1}}function r(){}var o=t.exports={},a=[],s=!1;o.nextTick=function(e){a.push(e),s||setTimeout(i,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.on=r,o.addListener=r,o.once=r,o.off=r,o.removeListener=r,o.removeAllListeners=r,o.emit=r,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],3:[function(t,n,i){(function(t){!function(r){function o(e){throw RangeError(P[e])}function a(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return a(e.split(O),t).join(".")}function l(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function u(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var i=0;for(e=n?z(e/I):e>>1,e+=z(e/t);e>E*S>>1;i+=w)e=z(e/E);return z(i+(E+1)*e/(e+k))}function p(e){var t,n,i,r,a,s,l,h,p,f,m=[],g=e.length,v=0,y=T,b=M;for(n=e.lastIndexOf(L),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&o("not-basic"),m.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<g;){for(a=v,s=1,l=w;r>=g&&o("invalid-input"),h=c(e.charCodeAt(r++)),(h>=w||h>z((A-v)/s))&&o("overflow"),v+=h*s,p=l<=b?C:l>=b+S?S:l-b,!(h<p);l+=w)f=w-p,s>z(A/f)&&o("overflow"),s*=f;t=m.length+1,b=d(v-a,t,0==a),z(v/t)>A-y&&o("overflow"),y+=z(v/t),v%=t,m.splice(v++,0,y)}return u(m)}function f(e){var t,n,i,r,a,s,u,c,p,f,m,g,v,y,b,_=[];for(e=l(e),g=e.length,t=T,n=0,a=M,s=0;s<g;++s)m=e[s],m<128&&_.push(R(m));for(i=r=_.length,r&&_.push(L);i<g;){for(u=A,s=0;s<g;++s)m=e[s],m>=t&&m<u&&(u=m);for(v=i+1,u-t>z((A-n)/v)&&o("overflow"),n+=(u-t)*v,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>A&&o("overflow"),m==t){for(c=n,p=w;f=p<=a?C:p>=a+S?S:p-a,!(c<f);p+=w)b=c-f,y=w-f,_.push(R(h(f+b%y,0))),c=z(b/y);_.push(R(h(c,0))),a=d(n,v,i==r),n=0,++i}++n,++t}return _.join("")}function m(e){return s(e,function(e){return D.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return B.test(e)?"xn--"+f(e):e})}var v="object"==typeof i&&i,y="object"==typeof n&&n&&n.exports==v&&n,b="object"==typeof t&&t;b.global!==b&&b.window!==b||(r=b);var _,x,A=2147483647,w=36,C=1,S=26,k=38,I=700,M=72,T=128,L="-",D=/^xn--/,B=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=w-C,z=Math.floor,R=String.fromCharCode;if(_={version:"1.2.4",ucs2:{decode:l,encode:u},decode:p,encode:f,toASCII:g,toUnicode:m},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return _});else if(v&&!v.nodeType)if(y)y.exports=_;else for(x in _)_.hasOwnProperty(x)&&(v[x]=_[x]);else r.punycode=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){function i(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}function r(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(n){s("Unable to copy canvas content from",e,n)}}function o(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)t!==!0&&1===i.nodeType&&"SCRIPT"===i.nodeName||n.appendChild(o(i,t)),i=i.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?r(e,n):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value)),n}function a(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)a(t),t=t.nextSibling}}var s=e("./log"),l=e("./promise");t.exports=function(e,t,n,r,s,u,c){var h=o(e.documentElement,s.javascriptEnabled),d=t.createElement("iframe");return d.className="html2canvas-container",d.style.visibility="hidden",d.style.position="fixed",d.style.left="-10000px",d.style.top="0px",d.style.border="0",d.width=n,d.height=r,d.scrolling="no",t.body.appendChild(d),new l(function(t){var n=d.contentWindow.document;d.contentWindow.onload=d.onload=function(){var e=setInterval(function(){n.body.childNodes.length>0&&(a(n.documentElement),clearInterval(e),"view"===s.type&&(d.contentWindow.scrollTo(u,c),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||d.contentWindow.scrollY===c&&d.contentWindow.scrollX===u||(n.documentElement.style.top=-c+"px",n.documentElement.style.left=-u+"px",n.documentElement.style.position="absolute")),t(d))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),i(e,u,c),n.replaceChild(n.adoptNode(h),n.documentElement),n.close()})}},{"./log":15,"./promise":18}],5:[function(e,t,n){function i(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}i.prototype.darken=function(e){var t=1-e;return new i([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},i.prototype.isTransparent=function(){return 0===this.a},i.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},i.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var r=/^#([a-f0-9]{3})$/i;i.prototype.hex3=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var o=/^#([a-f0-9]{6})$/i;i.prototype.hex6=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var a=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;i.prototype.rgb=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var s=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;i.prototype.rgba=function(e){var t=null;return null!==(t=e.match(s))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},i.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},i.prototype.namedColor=function(e){var t=l[e.toLowerCase()];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e.toLowerCase())return this.r=this.g=this.b=this.a=0,!0;return!!t},i.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=i},{}],6:[function(t,n,i){function r(e,t){var n=C++;if(t=t||{},t.logging&&(window.html2canvas.logging=!0,window.html2canvas.start=Date.now()),t.async="undefined"==typeof t.async||t.async,t.allowTaint="undefined"!=typeof t.allowTaint&&t.allowTaint,t.removeContainer="undefined"==typeof t.removeContainer||t.removeContainer,t.javascriptEnabled="undefined"!=typeof t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout="undefined"==typeof t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:f,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return d.reject("Proxy must be used when rendering url");var i=null!=t.width?t.width:window.innerWidth,r=null!=t.height?t.height:window.innerHeight;return x(h(e),t.proxy,document,i,r,t).then(function(e){return a(e.contentWindow.document.documentElement,e,t,i,r)})}var s=(void 0===e?[document.documentElement]:e.length?e:[e])[0];s.setAttribute(w+n,n);var i=null!=t.width?t.width:s.ownerDocument.defaultView.innerWidth,r=null!=t.height?t.height:s.ownerDocument.defaultView.innerHeight;return o(s.ownerDocument,t,i,r,n).then(function(e){return"function"==typeof t.onrendered&&(y("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}function o(e,t,n,i,r){return _(e,e,n,i,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(o){y("Document cloned");var s=w+r,l="["+s+"='"+r+"']";e.querySelector(l).removeAttribute(s);var u=o.contentWindow,c=u.document.querySelector(l),h="function"==typeof t.onclone?d.resolve(t.onclone(u.document)):d.resolve(!0);return h.then(function(){return a(c,o,t,n,i)})})}function a(e,t,n,i,r){var o=t.contentWindow,a=new p(o.document),h=new m(n,a),d=A(e),f="view"===n.type?i:u(o.document),v="view"===n.type?r:c(o.document),b=new n.renderer(f,v,h,n,document),_=new g(e,b,a,h,n);return _.ready.then(function(){y("Finished rendering");var i;return i="view"===n.type?l(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):e===o.document.body||e===o.document.documentElement||null!=n.canvas?b.canvas:l(b.canvas,{width:null!=n.width?n.width:d.width,height:null!=n.height?n.height:d.height,top:d.top,left:d.left,x:o.pageXOffset,y:o.pageYOffset}),s(t,n),i})}function s(e,t){t.removeContainer&&(e.parentNode.removeChild(e),y("Cleaned up container"))}function l(e,t){var n=document.createElement("canvas"),i=Math.min(e.width-1,Math.max(0,t.left)),r=Math.min(e.width,Math.max(1,t.left+t.width)),o=Math.min(e.height-1,Math.max(0,t.top)),a=Math.min(e.height,Math.max(1,t.top+t.height));return n.width=t.width,n.height=t.height,y("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",r-i,"height:",a-o),y("Resulting crop with width",t.width,"and height",t.height," with x",i,"and y",o),n.getContext("2d").drawImage(e,i,o,r-i,a-o,t.x,t.y,r-i,a-o),n}function u(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function c(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight));
}function h(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}var d=t("./promise"),p=t("./support"),f=t("./renderers/canvas"),m=t("./imageloader"),g=t("./nodeparser"),v=t("./nodecontainer"),y=t("./log"),b=t("./utils"),_=t("./clone"),x=t("./proxy").loadUrlDocument,A=b.getBounds,w="data-html2canvas-node",C=0;r.Promise=d,r.CanvasRenderer=f,r.NodeContainer=v,r.log=y,r.utils=b;var S="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return d.reject("No canvas support")}:r;n.exports=S,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return S})},{"./clone":4,"./imageloader":13,"./log":15,"./nodecontainer":16,"./nodeparser":17,"./promise":18,"./proxy":19,"./renderers/canvas":23,"./support":25,"./utils":29}],7:[function(e,t,n){function i(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),i.prototype.image=new Image;var t=this.image;i.prototype.promise=new r(function(e,n){t.onload=e,t.onerror=n,t.src=a(),t.complete===!0&&e(t)})}}var r=e("./promise"),o=e("./log"),a=e("./utils").smallImage;t.exports=i},{"./log":15,"./promise":18,"./utils":29}],8:[function(e,t,n){function i(e,t){var n,i,o=document.createElement("div"),a=document.createElement("img"),s=document.createElement("span"),l="Hidden Text";o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),a.src=r(),a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode(l)),o.appendChild(s),o.appendChild(a),n=a.offsetTop-s.offsetTop+1,o.removeChild(s),o.appendChild(document.createTextNode(l)),o.style.lineHeight="normal",a.style.verticalAlign="super",i=a.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=n,this.lineWidth=1,this.middle=i}var r=e("./utils").smallImage;t.exports=i},{"./utils":29}],9:[function(e,t,n){function i(){this.data={}}var r=e("./font");i.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new r(e,t)),this.data[e+"-"+t]},t.exports=i},{"./font":8}],10:[function(e,t,n){function i(t,n,i){this.image=null,this.src=t;var r=this,s=a(t);this.promise=(n?new o(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(i.proxy,s,i)).then(function(t){var n=e("./core");return n(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:i.proxy,javascriptEnabled:i.javascriptEnabled,removeContainer:i.removeContainer,allowTaint:i.allowTaint,imageTimeout:i.imageTimeout/2})}).then(function(e){return r.image=e})}var r=e("./utils"),o=e("./promise"),a=r.getBounds,s=e("./proxy").loadUrlDocument;i.prototype.proxyLoad=function(e,t,n){var i=this.src;return s(i.src,e,i.ownerDocument,t.width,t.height,n)},t.exports=i},{"./core":6,"./promise":18,"./proxy":19,"./utils":29}],11:[function(e,t,n){function i(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=r.resolve(!0)}var r=e("./promise");i.prototype.TYPES={LINEAR:1,RADIAL:2},t.exports=i},{"./promise":18}],12:[function(e,t,n){function i(e,t){this.src=e,this.image=new Image;var n=this;this.tainted=null,this.promise=new r(function(i,r){n.image.onload=i,n.image.onerror=r,t&&(n.image.crossOrigin="anonymous"),n.image.src=e,n.image.complete===!0&&i(n.image)})}var r=e("./promise");t.exports=i},{"./promise":18}],13:[function(e,t,n){function i(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var r=e("./promise"),o=e("./log"),a=e("./imagecontainer"),s=e("./dummyimagecontainer"),l=e("./proxyimagecontainer"),u=e("./framecontainer"),c=e("./svgcontainer"),h=e("./svgnodecontainer"),d=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),f=e("./utils").bind;i.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},i.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},i.prototype.addImage=function(e,t){return function(n){n.args.forEach(function(i){this.imageExists(e,i)||(e.splice(0,0,t.call(this,n)),o("Added image #"+e.length,"string"==typeof i?i.substring(0,100):i))},this)}},i.prototype.hasImageBackground=function(e){return"none"!==e.method},i.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new a(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),(!1)):this.isSameOrigin(t)||this.options.allowTaint===!0||this.isSVG(t)?new a(t,(!1)):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new a(t,(!0)):this.options.proxy?new l(t,this.options.proxy):new s(t):new c(t)}return"linear-gradient"===e.method?new d(e):"gradient"===e.method?new p(e):"svg"===e.method?new h(e.args[0],this.support.svg):"IFRAME"===e.method?new u(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new s(e)},i.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||c.prototype.isInline(e)},i.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},i.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},i.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},i.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var t=new s(e.src);return t.promise.then(function(t){e.image=t})})},i.prototype.get=function(e){var t=null;return this.images.some(function(n){return(t=n).src===e})?t:null},i.prototype.fetch=function(e){return this.images=e.reduce(f(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,t){e.promise.then(function(){o("Succesfully loaded image #"+(t+1),e)},function(n){o("Failed loading image #"+(t+1),e,n)})}),this.ready=r.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},i.prototype.timeout=function(e,t){var n,i=r.race([e.promise,new r(function(i,r){n=setTimeout(function(){o("Timed out loading image",e),r(e)},t)})]).then(function(e){return clearTimeout(n),e});return i["catch"](function(){clearTimeout(n)}),i},t.exports=i},{"./dummyimagecontainer":7,"./framecontainer":10,"./imagecontainer":12,"./lineargradientcontainer":14,"./log":15,"./promise":18,"./proxyimagecontainer":20,"./svgcontainer":26,"./svgnodecontainer":27,"./utils":29,"./webkitgradientcontainer":30}],14:[function(e,t,n){function i(e){r.apply(this,arguments),this.type=this.TYPES.LINEAR;var t=null===e.args[0].match(this.stepRegExp);t?e.args[0].split(" ").reverse().forEach(function(e){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var t=this.y0,n=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=t}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){return e.match(a)}).filter(function(e){return!!e}).map(function(e){return{color:new o(e[1]),stop:"%"===e[3]?e[2]/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,t){null===e.stop&&this.colorStops.slice(t).some(function(n,i){return null!==n.stop&&(e.stop=(n.stop-this.colorStops[t-1].stop)/(i+1)+this.colorStops[t-1].stop,!0)},this)},this)}var r=e("./gradientcontainer"),o=e("./color"),a=/^\s*(.*)\s*(\d{1,3})?(%|px)?$/;i.prototype=Object.create(r.prototype),i.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/,t.exports=i},{"./color":5,"./gradientcontainer":11}],15:[function(e,t,n){t.exports=function(){window.html2canvas.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-window.html2canvas.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}},{}],16:[function(e,t,n){function i(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function r(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function o(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function a(e){return e.toString().indexOf("%")!==-1}function s(e){return e.replace("px","")}function l(e){return parseFloat(e)}var u=e("./color"),c=e("./utils"),h=c.getBounds,d=c.parseBackgrounds,p=c.offsetBounds;i.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},i.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},i.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},i.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},i.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},i.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],n=this.css(e);return void 0===n&&t.some(function(t){return n=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==n},this),void 0===n?null:n},i.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},i.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},i.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new u(this.css(e)))},i.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},i.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},i.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},i.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=d(this.css("backgroundImage")))},i.prototype.cssList=function(e,t){var n=(this.css(e)||"").split(",");return n=n[t||0]||n[0]||"auto",n=n.trim().split(" "),1===n.length&&(n=[n[0],a(n[0])?"auto":n[0]]),n},i.prototype.parseBackgroundSize=function(e,t,n){var i,r,o=this.cssList("backgroundSize",n);if(a(o[0]))i=e.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var s=e.width/e.height,l=t.width/t.height;return s<l^"contain"===o[0]?{width:e.height*l,height:e.height}:{width:e.width,height:e.width/l}}i=parseInt(o[0],10)}return r="auto"===o[0]&&"auto"===o[1]?t.height:"auto"===o[1]?i/t.width*t.height:a(o[1])?e.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(i=r/t.height*t.width),{width:i,height:r}},i.prototype.parseBackgroundPosition=function(e,t,n,i){var r,o,s=this.cssList("backgroundPosition",n);return r=a(s[0])?(e.width-(i||t).width)*(parseFloat(s[0])/100):parseInt(s[0],10),o="auto"===s[1]?r/t.width*t.height:a(s[1])?(e.height-(i||t).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(r=o/t.height*t.width),{left:r,top:o}},i.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},i.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),i=0;n&&i<n.length;i++){var r=n[i].match(this.TEXT_SHADOW_VALUES);t.push({color:new u(r[0]),offsetX:r[1]?parseFloat(r[1].replace("px","")):0,offsetY:r[2]?parseFloat(r[2].replace("px","")):0,blur:r[3]?r[3].replace("px",""):0})}return t},i.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(s).map(l);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},i.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?o(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t?t:[1,0,0,1,0,0]}return this.transformMatrix},i.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):h(this.node))},i.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},i.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=r(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("•")),0===e.length?this.node.placeholder||"":e},i.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,i.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,i.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,i.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=i},{"./color":5,"./utils":29}],17:[function(e,t,n){function i(e,t,n,i,r){F("Starting NodeParser"),this.renderer=t,this.options=r,this.range=null,this.support=n,this.renderQueue=[],this.stack=new Y((!0),1,e.ownerDocument,null);var o=new V(e,null);if(r.background&&t.rectangle(0,0,t.width,t.height,new W(r.background)),e===e.ownerDocument.documentElement){var a=new V(o.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,a.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=E([o].concat(this.getChildren(o)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new U,F("Fetched nodes, total:",this.nodes.length),F("Calculate overflow clips"),this.calculateOverflowClips(),F("Start fetching images"),this.images=i.fetch(this.nodes.filter(I)),this.ready=this.images.ready.then(Z(function(){return F("Images loaded, starting parsing"),F("Creating stacking contexts"),this.createStackingContexts(),F("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),F("Render queue created with "+this.renderQueue.length+" items"),new q(Z(function(e){r.async?"function"==typeof r.async?r.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function r(e){return e.parent&&e.parent.clip.length}function o(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function a(){}function s(e,t,n,i){return e.map(function(r,o){if(r.width>0){var a=t.left,s=t.top,l=t.width,u=t.height-e[2].width;switch(o){case 0:u=e[0].width,r.args=h({c1:[a,s],c2:[a+l,s],c3:[a+l-e[1].width,s+u],c4:[a+e[3].width,s+u]},i[0],i[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:a=t.left+t.width-e[1].width,l=e[1].width,r.args=h({c1:[a+l,s],c2:[a+l,s+u+e[2].width],c3:[a,s+u],c4:[a,s+e[0].width]},i[1],i[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:s=s+t.height-e[2].width,u=e[2].width,r.args=h({c1:[a+l,s+u],c2:[a,s+u],c3:[a+e[3].width,s],c4:[a+l-e[3].width,s]},i[2],i[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:l=e[3].width,r.args=h({c1:[a,s+u+e[2].width],c2:[a,s],c3:[a+l,s+e[0].width],c4:[a+l,s+u]},i[3],i[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return r})}function l(e,t,n,i){var r=4*((Math.sqrt(2)-1)/3),o=n*r,a=i*r,s=e+n,l=t+i;return{topLeft:c({x:e,y:l},{x:e,y:l-a},{x:s-o,y:t},{x:s,y:t}),topRight:c({x:e,y:t},{x:e+o,y:t},{x:s,y:l-a},{x:s,y:l}),bottomRight:c({x:s,y:t},{x:s,y:t+a},{x:e+o,y:l},{x:e,y:l}),bottomLeft:c({x:s,y:l},{x:s-o,y:l},{x:e,y:t+a},{x:e,y:t})}}function u(e,t,n){var i=e.left,r=e.top,o=e.width,a=e.height,s=t[0][0]<o/2?t[0][0]:o/2,u=t[0][1]<a/2?t[0][1]:a/2,c=t[1][0]<o/2?t[1][0]:o/2,h=t[1][1]<a/2?t[1][1]:a/2,d=t[2][0]<o/2?t[2][0]:o/2,p=t[2][1]<a/2?t[2][1]:a/2,f=t[3][0]<o/2?t[3][0]:o/2,m=t[3][1]<a/2?t[3][1]:a/2,g=o-c,v=a-p,y=o-d,b=a-m;return{topLeftOuter:l(i,r,s,u).topLeft.subdivide(.5),topLeftInner:l(i+n[3].width,r+n[0].width,Math.max(0,s-n[3].width),Math.max(0,u-n[0].width)).topLeft.subdivide(.5),topRightOuter:l(i+g,r,c,h).topRight.subdivide(.5),topRightInner:l(i+Math.min(g,o+n[3].width),r+n[0].width,g>o+n[3].width?0:c-n[3].width,h-n[0].width).topRight.subdivide(.5),bottomRightOuter:l(i+y,r+v,d,p).bottomRight.subdivide(.5),bottomRightInner:l(i+Math.min(y,o-n[3].width),r+Math.min(v,a+n[0].width),Math.max(0,d-n[1].width),p-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(i,r+b,f,m).bottomLeft.subdivide(.5),bottomLeftInner:l(i+n[3].width,r+b,Math.max(0,f-n[3].width),m-n[2].width).bottomLeft.subdivide(.5)}}function c(e,t,n,i){var r=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:i,subdivide:function(o){var a=r(e,t,o),s=r(t,n,o),l=r(n,i,o),u=r(a,s,o),h=r(s,l,o),d=r(u,h,o);return[c(e,a,u,d),c(d,h,l,i)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,i.x,i.y])},curveToReversed:function(i){i.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function h(e,t,n,i,r,o,a){var s=[];return t[0]>0||t[1]>0?(s.push(["line",i[1].start.x,i[1].start.y]),i[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function d(e,t,n,i,r,o,a){t[0]>0||t[1]>0?(e.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(e),i[1].curveTo(e)):e.push(["line",o,a]),(n[0]>0||n[1]>0)&&e.push(["line",r[0].start.x,r[0].start.y])}function p(e){return e.cssInt("zIndex")<0}function f(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function g(e){return["inline","inline-block","inline-table"].indexOf(e.css("display"))!==-1}function v(e){return e instanceof Y}function y(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function _(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var n=e.css("border"+t+"Radius"),i=n.split(" ");return i.length<=1&&(i[1]=i[0]),i.map(B)})}function x(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function A(e){var t=e.css("position"),n=["absolute","relative","fixed"].indexOf(t)!==-1?e.css("zIndex"):"auto";return"auto"!==n}function w(e){return"static"!==e.css("position")}function C(e){return"none"!==e.css("float")}function S(e){return["inline-block","inline-table"].indexOf(e.css("display"))!==-1}function k(e){var t=this;return function(){return!e.apply(t,arguments)}}function I(e){return e.node.nodeType===Node.ELEMENT_NODE}function M(e){return e.isPseudoElement===!0}function T(e){return e.node.nodeType===Node.TEXT_NODE}function L(e){return function(t,n){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(n.cssInt("zIndex")+e.indexOf(n)/e.length)}}function D(e){return e.getOpacity()<1}function B(e){return parseInt(e,10)}function O(e){return e.width}function P(e){return e.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)===-1}function E(e){return[].concat.apply([],e)}function z(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function R(e){for(var t,n=[],i=0,r=!1;e.length;)$(e[i])===r?(t=e.splice(0,i),t.length&&n.push(j.ucs2.encode(t)),r=!r,i=0):i++,i>=e.length&&(t=e.splice(0,i),t.length&&n.push(j.ucs2.encode(t)));return n}function $(e){return[32,13,10,9,45].indexOf(e)!==-1}function N(e){return/[^\u0000-\u00ff]/.test(e)}var F=e("./log"),j=e("punycode"),V=e("./nodecontainer"),G=e("./textcontainer"),H=e("./pseudoelementcontainer"),U=e("./fontmetrics"),W=e("./color"),q=e("./promise"),Y=e("./stackingcontext"),X=e("./utils"),Z=X.bind,Q=X.getBounds,J=X.parseBackgrounds,K=X.offsetBounds;i.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(I(e)){M(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],n=e.parseClip();n&&["absolute","fixed"].indexOf(e.css("position"))!==-1&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=r(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,M(e)&&e.cleanDOM()}else T(e)&&(e.clip=r(e)?e.parent.clip:[]);M(e)||(e.bounds=null)},this)},i.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(Z(function(){this.asyncRenderer(e,t)},this),0)},i.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},i.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},i.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},i.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(e,":before"),i=this.getPseudoElement(e,":after");n&&t.push(n),i&&t.push(i)}return E(t)},i.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var i=z(n.content),r="url"===i.substr(0,3),a=document.createElement(r?"img":"html2canvaspseudoelement"),s=new H(a,e,t),l=n.length-1;l>=0;l--){var u=o(n.item(l));a.style[u]=n[u]}if(a.className=H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,r)return a.src=J(i)[0].args[0],[s];var c=document.createTextNode(i);return a.appendChild(c),[s,new G(c,s)]},i.prototype.getChildren=function(e){return E([].filter.call(e.node.childNodes,x).map(function(t){var n=[t.nodeType===Node.TEXT_NODE?new G(t,e):new V(t,e)].filter(P);return t.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==t.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n},this))},i.prototype.newStackingContext=function(e,t){var n=new Y(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n);var i=t?n.getParentStack(this):n.parent.stack;i.contexts.push(n),e.stack=n},i.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){I(e)&&(this.isRootElement(e)||D(e)||A(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):I(e)&&(w(e)&&m(e)||S(e)||C(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},i.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},i.prototype.isRootElement=function(e){return null===e.parent},i.prototype.sortStackingContexts=function(e){e.contexts.sort(L(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},i.prototype.parseTextBounds=function(e){return function(t,n,i){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var r=i.slice(0,n).join("").length;return this.getRangeBounds(e.node,r,t.length)}if(e.node&&"string"==typeof e.node.data){var o=e.node.splitText(t.length),a=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=o,a}}else this.support.rangeBounds&&!e.parent.hasTransform()||(e.node=e.node.splitText(t.length));return{}}},i.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),i=e.parentNode,r=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),i.replaceChild(n,e);var o=t?K(n):Q(n);return i.replaceChild(r,n),o},i.prototype.getRangeBounds=function(e,t,n){var i=this.range||(this.range=e.ownerDocument.createRange());return i.setStart(e,t),i.setEnd(e,t+n),i.getBoundingClientRect()},i.prototype.parse=function(e){var t=e.contexts.filter(p),n=e.children.filter(I),i=n.filter(k(C)),r=i.filter(k(w)).filter(k(g)),o=n.filter(k(w)).filter(C),s=i.filter(k(w)).filter(g),l=e.contexts.concat(i.filter(w)).filter(m),u=e.children.filter(T).filter(y),c=e.contexts.filter(f);t.concat(r).concat(o).concat(s).concat(l).concat(u).concat(c).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new a))},this)},i.prototype.paint=function(e){try{e instanceof a?this.renderer.ctx.restore():T(e)?(M(e.parent)&&e.parent.appendToDOM(),this.paintText(e),M(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(t){if(F(t),this.options.strict)throw t}},i.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},i.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(O))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(e.node);n?this.renderer.renderImage(e,t,e.borders,n):F("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var i=this.images.get(e.node.src);i?this.renderer.renderImage(e,t,e.borders,i):F("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},i.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),i={width:n-1,height:n-1,top:t.top,left:t.left},r=[3,3],o=[r,r,r,r],a=[1,1,1,1].map(function(e){return{color:new W("#A5A5A5"),width:e}}),l=u(i,o,a);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(i.left+1,i.top+1,i.width-2,i.height-2,new W("#DEDEDE")),this.renderer.renderBorders(s(a,i,l,o)),e.node.checked&&(this.renderer.font(new W("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",i.left+n/6,i.top+n-1))},this)},i.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new W("#DEDEDE"),1,new W("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new W("#424242"))},this)},i.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var n=e.node.ownerDocument,i=n.createElement("html2canvaswrapper"),r=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];r.forEach(function(t){try{i.style[t]=e.css(t)}catch(n){F("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}});var o=e.parseBounds();i.style.position="fixed",i.style.left=o.left+"px",i.style.top=o.top+"px",i.textContent=t,n.body.appendChild(i),this.paintText(new G(i.firstChild,e)),n.body.removeChild(i)}},i.prototype.paintText=function(e){e.applyTextTransform();var t=j.ucs2.decode(e.node.data),n=this.options.letterRendering&&!b(e)||N(e.node.data)?t.map(function(e){return j.ucs2.encode([e])}):R(t),i=e.parent.fontWeight(),r=e.parent.css("fontSize"),o=e.parent.css("fontFamily"),a=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),i,r,o),a.length?this.renderer.fontShadow(a[0].color,a[0].offsetX,a[0].offsetY,a[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){n.map(this.parseTextBounds(e),this).forEach(function(t,i){t&&(this.renderer.text(n[i],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(o,r)))},this)},this)},i.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var ee={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};i.prototype.parseBorders=function(e){var t=e.parseBounds(),n=_(e),i=["Top","Right","Bottom","Left"].map(function(t,n){var i=e.css("border"+t+"Style"),r=e.color("border"+t+"Color");"inset"===i&&r.isBlack()&&(r=new W([255,255,255,r.a]));var o=ee[i]?ee[i][n]:null;return{width:e.cssInt("border"+t+"Width"),color:o?r[o[0]](o[1]):r,args:null}}),r=u(t,n,i);return{clip:this.parseBackgroundClip(e,r,i,n,t),borders:s(i,t,r,n)}},i.prototype.parseBackgroundClip=function(e,t,n,i,r){var o=e.css("backgroundClip"),a=[];switch(o){case"content-box":case"padding-box":d(a,i[0],i[1],t.topLeftInner,t.topRightInner,r.left+n[3].width,r.top+n[0].width),d(a,i[1],i[2],t.topRightInner,t.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),d(a,i[2],i[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),d(a,i[3],i[0],t.bottomLeftInner,t.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:d(a,i[0],i[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),d(a,i[1],i[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),d(a,i[2],i[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),d(a,i[3],i[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return a},t.exports=i},{"./color":5,"./fontmetrics":9,"./log":15,"./nodecontainer":16,"./promise":18,"./pseudoelementcontainer":21,"./stackingcontext":24,
"./textcontainer":28,"./utils":29,punycode:3}],18:[function(e,t,n){t.exports=e("es6-promise").Promise},{"es6-promise":1}],19:[function(e,t,n){function i(e,t,n){var i="withCredentials"in new XMLHttpRequest;if(!t)return c.reject("No proxy configured");var r=a(i),l=s(t,e,r);return i?h(l):o(n,l,r).then(function(e){return m(e.content)})}function r(e,t,n){var i="crossOrigin"in new Image,r=a(i),l=s(t,e,r);return i?c.resolve(l):o(n,l,r).then(function(e){return"data:"+e.type+";base64,"+e.content})}function o(e,t,n){return new c(function(i,r){var o=e.createElement("script"),a=function(){delete window.html2canvas.proxy[n],e.body.removeChild(o)};window.html2canvas.proxy[n]=function(e){a(),i(e)},o.src=t,o.onerror=function(e){a(),r(e)},e.body.appendChild(o)})}function a(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++g+"_"+Math.round(1e5*Math.random())}function s(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}function l(e){return function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/html")}catch(r){p("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(o){p("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}var a=n.querySelector("base");if(!a||!a.href.host){var s=n.createElement("base");s.href=e,n.head.insertBefore(s,n.head.firstChild)}return n}}function u(e,t,n,r,o,a){return new i(e,t,window.document).then(l(e)).then(function(e){return f(e,n,r,o,a,0,0)})}var c=e("./promise"),h=e("./xhr"),d=e("./utils"),p=e("./log"),f=e("./clone"),m=d.decode64,g=0;n.Proxy=i,n.ProxyURL=r,n.loadUrlDocument=u},{"./clone":4,"./log":15,"./promise":18,"./utils":29,"./xhr":31}],20:[function(e,t,n){function i(e,t){var n=document.createElement("a");n.href=e,e=n.href,this.src=e,this.image=new Image;var i=this;this.promise=new o(function(n,o){i.image.crossOrigin="Anonymous",i.image.onload=n,i.image.onerror=o,new r(e,t,document).then(function(e){i.image.src=e})["catch"](o)})}var r=e("./proxy").ProxyURL,o=e("./promise");t.exports=i},{"./promise":18,"./proxy":19}],21:[function(e,t,n){function i(e,t,n){r.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}var r=e("./nodecontainer");i.prototype.cloneTo=function(e){i.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},i.prototype=Object.create(r.prototype),i.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},i.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},i.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=i},{"./nodecontainer":16}],22:[function(e,t,n){function i(e,t,n,i,r){this.width=e,this.height=t,this.images=n,this.options=i,this.document=r}var r=e("./log");i.prototype.renderImage=function(e,t,n,i){var r=e.cssInt("paddingLeft"),o=e.cssInt("paddingTop"),a=e.cssInt("paddingRight"),s=e.cssInt("paddingBottom"),l=n.borders,u=t.width-(l[1].width+l[3].width+r+a),c=t.height-(l[0].width+l[2].width+o+s);this.drawImage(i,0,0,i.image.width||u,i.image.height||c,t.left+r+l[3].width,t.top+o+l[0].width,u,c)},i.prototype.renderBackground=function(e,t,n){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},i.prototype.renderBackgroundColor=function(e,t){var n=e.color("backgroundColor");n.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,n)},i.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},i.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},i.prototype.renderBackgroundImage=function(e,t,n){var i=e.parseBackgroundImages();i.reverse().forEach(function(i,o,a){switch(i.method){case"url":var s=this.images.get(i.args[0]);s?this.renderBackgroundRepeating(e,t,s,a.length-(o+1),n):r("Error loading background-image",i.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(i.value);l?this.renderBackgroundGradient(l,t,n):r("Error loading background-image",i.args[0]);break;case"none":break;default:r("Unknown background-image type",i.args[0])}},this)},i.prototype.renderBackgroundRepeating=function(e,t,n,i,r){var o=e.parseBackgroundSize(t,n.image,i),a=e.parseBackgroundPosition(t,n.image,i,o),s=e.parseBackgroundRepeat(i);switch(s){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,a,o,t,t.left+r[3],t.top+a.top+r[0],99999,o.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,a,o,t,t.left+a.left+r[3],t.top+r[0],o.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(n,a,o,t,t.left+a.left+r[3],t.top+a.top+r[0],o.width,o.height,r);break;default:this.renderBackgroundRepeat(n,a,o,{top:t.top,left:t.left},r[3],r[0])}},t.exports=i},{"./log":15}],23:[function(e,t,n){function i(e,t){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",e,"x",t)}function r(e){return e.length>0}var o=e("../renderer"),a=e("../lineargradientcontainer"),s=e("../log");i.prototype=Object.create(o.prototype),i.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},i.prototype.rectangle=function(e,t,n,i,r){this.setFillStyle(r).fillRect(e,t,n,i)},i.prototype.circle=function(e,t,n,i){this.setFillStyle(i),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},i.prototype.circleStroke=function(e,t,n,i,r,o){this.circle(e,t,n,i),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},i.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},i.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},i.prototype.drawImage=function(e,t,n,i,r,o,a,s,l){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,n,i,r,o,a,s,l)},i.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(r).forEach(function(e){this.shape(e).clip()},this),t.call(n),this.ctx.restore()},i.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},i.prototype.font=function(e,t,n,i,r,o){this.setFillStyle(e).font=[t,n,i,r,o].join(" ").split(",")[0]},i.prototype.fontShadow=function(e,t,n,i){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",i)},i.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},i.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},i.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},i.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},i.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},i.prototype.backgroundRepeatShape=function(e,t,n,i,r,o,a,s,l){var u=[["line",Math.round(r),Math.round(o)],["line",Math.round(r+a),Math.round(o)],["line",Math.round(r+a),Math.round(s+o)],["line",Math.round(r),Math.round(s+o)]];this.clip([u],function(){this.renderBackgroundRepeat(e,t,n,i,l[3],l[0])},this)},i.prototype.renderBackgroundRepeat=function(e,t,n,i,r,o){var a=Math.round(i.left+t.left+r),s=Math.round(i.top+t.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},i.prototype.renderBackgroundGradient=function(e,t){if(e instanceof a){var n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){n.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,n)}},i.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;var i,r=document.createElement("canvas");return r.width=t.width,r.height=t.height,i=r.getContext("2d"),i.drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),r},t.exports=i},{"../lineargradientcontainer":14,"../log":15,"../renderer":22}],24:[function(e,t,n){function i(e,t,n,i){r.call(this,n,i),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var r=e("./nodecontainer");i.prototype=Object.create(r.prototype),i.prototype.getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=i},{"./nodecontainer":16}],25:[function(e,t,n){function i(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}i.prototype.testRangeBounds=function(e){var t,n,i,r,o=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),i=t.getBoundingClientRect(),r=i.height,123===r&&(o=!0),e.body.removeChild(n))),o},i.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},i.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(i){return!1}return!0},t.exports=i},{}],26:[function(e,t,n){function i(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?r.resolve(t.inlineFormatting(e)):o(e)}).then(function(e){return new r(function(n){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,n))})})}var r=e("./promise"),o=e("./xhr"),a=e("./utils").decode64;i.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?r.resolve():r.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},i.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},i.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},i.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},i.prototype.createCanvas=function(e){var t=this;return function(n,i){var r=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=r.lowerCanvasEl,r.setWidth(i.width).setHeight(i.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,i)).renderAll(),e(r.lowerCanvasEl)}},i.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):a(e)},t.exports=i},{"./promise":18,"./utils":29,"./xhr":31}],27:[function(e,t,n){function i(e,t){this.src=e,this.image=null;var n=this;this.promise=t?new o(function(t,i){n.image=new Image,n.image.onload=t,n.image.onerror=i,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),n.image.complete===!0&&t(n.image)}):this.hasFabric().then(function(){return new o(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,n.createCanvas.call(n,t))})})}var r=e("./svgcontainer"),o=e("./promise");i.prototype=Object.create(r.prototype),t.exports=i},{"./promise":18,"./svgcontainer":26}],28:[function(e,t,n){function i(e,t){o.call(this,e,t)}function r(e,t,n){if(e.length>0)return t+n.toUpperCase()}var o=e("./nodecontainer");i.prototype=Object.create(o.prototype),i.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},i.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,r);case"uppercase":return t.toUpperCase();default:return t}},t.exports=i},{"./nodecontainer":16}],29:[function(e,t,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.decode64=function(e){var t,n,i,r,o,a,s,l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=e.length,h="";for(t=0;t<c;t+=4)n=u.indexOf(e[t]),i=u.indexOf(e[t+1]),r=u.indexOf(e[t+2]),o=u.indexOf(e[t+3]),a=n<<2|i>>4,s=(15&i)<<4|r>>2,l=(3&r)<<6|o,h+=64===r?String.fromCharCode(a):64===o||o===-1?String.fromCharCode(a,s):String.fromCharCode(a,s,l);return h},n.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},n.offsetBounds=function(e){var t=e.offsetParent?n.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},n.parseBackgrounds=function(e){var t,n,i,r,o,a,s,l=" \r\n\t",u=[],c=0,h=0,d=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===t.substr(0,1)&&(r=t.indexOf("-",1)+1)>0&&(i=t.substr(0,r),t=t.substr(r)),u.push({prefix:i,method:t.toLowerCase(),value:o,args:s,image:null})),s=[],t=i=n=o=""};return s=[],t=i=n=o="",e.split("").forEach(function(e){if(!(0===c&&l.indexOf(e)>-1)){switch(e){case'"':a?a===e&&(a=null):a=e;break;case"(":if(a)break;if(0===c)return c=1,void(o+=e);h++;break;case")":if(a)break;if(1===c){if(0===h)return c=0,o+=e,void d();h--}break;case",":if(a)break;if(0===c)return void d();if(1===c&&0===h&&!t.match(/^url$/i))return s.push(n),n="",void(o+=e)}o+=e,0===c?t+=e:n+=e}}),d(),u}},{}],30:[function(e,t,n){function i(e){r.apply(this,arguments),this.type="linear"===e.args[0]?this.TYPES.LINEAR:this.TYPES.RADIAL}var r=e("./gradientcontainer");i.prototype=Object.create(r.prototype),t.exports=i},{"./gradientcontainer":11}],31:[function(e,t,n){function i(e){return new r(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200===i.status?t(i.responseText):n(new Error(i.statusText))},i.onerror=function(){n(new Error("Network Error"))},i.send()})}var r=e("./promise");t.exports=i},{"./promise":18}]},{},[6])(6)}),function(e){var t=0,n=5,i=.5,r=function(t,n){return"undefined"==typeof t||null===t||void 0===t||t==[]||""===t||n&&""===e.trim(t)},o=function(e,t,n){var i=r(e.data(t))?e.attr(t):e.data(t);return i?i:n[t]},a=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},s=function(e,t){return parseFloat(e.toFixed(t))},l=function(t,n){this.$element=e(t),this.init(n)};l.prototype={constructor:l,_parseAttr:function(e,a){var s=this,l=s.$element;if("range"===l.attr("type")||"number"===l.attr("type")){var u=o(l,e,a),c=i;"min"===e?c=t:"max"===e?c=n:"step"===e&&(c=i);var h=r(u)?c:u;return parseFloat(h)}return parseFloat(a[e])},listen:function(){var t=this;t.$rating.on("click",function(e){t.inactive||(w=e.pageX-t.$rating.offset().left,t.setStars(w),t.$element.trigger("change"),t.$element.trigger("rating.change",[t.$element.val(),t.$caption.html()]))}),t.$clear.on("click",function(e){t.inactive||t.clear()}),e(t.$element[0].form).on("reset",function(e){t.inactive||t.reset()})},initSlider:function(e){var o=this;r(o.$element.val())&&o.$element.val(0),o.initialValue=o.$element.val(),o.min="undefined"!=typeof e.min?e.min:o._parseAttr("min",e),o.max="undefined"!=typeof e.max?e.max:o._parseAttr("max",e),o.step="undefined"!=typeof e.step?e.step:o._parseAttr("step",e),(isNaN(o.min)||r(o.min))&&(o.min=t),(isNaN(o.max)||r(o.max))&&(o.max=n),(isNaN(o.step)||r(o.step)||0==o.step)&&(o.step=i),o.diff=o.max-o.min},init:function(t){var n=this;n.options=t,n.initSlider(t),n.checkDisabled(),$element=n.$element,n.containerClass=t.containerClass,n.glyphicon=t.glyphicon;var i=n.glyphicon?"":"★";n.symbol=r(t.symbol)?i:t.symbol,n.rtl=t.rtl||n.$element.attr("dir"),n.rtl&&n.$element.attr("dir","rtl"),n.showClear=t.showClear,n.showCaption=t.showCaption,n.size=t.size,n.stars=t.stars,n.defaultCaption=t.defaultCaption,n.starCaptions=t.starCaptions,n.starCaptionClasses=t.starCaptionClasses,n.clearButton=t.clearButton,n.clearButtonTitle=t.clearButtonTitle,n.clearButtonBaseClass=r(t.clearButtonBaseClass)?"clear-rating":t.clearButtonBaseClass,n.clearButtonActiveClass=r(t.clearButtonActiveClass)?"clear-rating-active":t.clearButtonActiveClass,n.clearCaption=t.clearCaption,n.clearCaptionClass=t.clearCaptionClass,n.clearValue=t.clearValue,n.$element.removeClass("form-control").addClass("form-control"),n.$clearElement=r(t.clearElement)?null:e(t.clearElement),n.$captionElement=r(t.captionElement)?null:e(t.captionElement),"undefined"==typeof n.$rating&&"undefined"==typeof n.$container&&(n.$rating=e(document.createElement("div")).html('<div class="rating-stars"></div>'),n.$container=e(document.createElement("div")),n.$container.before(n.$rating),n.$container.append(n.$rating),n.$element.before(n.$container).appendTo(n.$rating)),n.$stars=n.$rating.find(".rating-stars"),n.generateRating(),n.$clear=r(n.$clearElement)?n.$container.find("."+n.clearButtonBaseClass):n.$clearElement,n.$caption=r(n.$captionElement)?n.$container.find(".caption"):n.$captionElement,n.setStars(),n.$element.hide(),n.listen(),n.showClear&&n.$clear.attr({"class":n.getClearClass()})},checkDisabled:function(){var e=this;e.disabled=o(e.$element,"disabled",e.options),e.readonly=o(e.$element,"readonly",e.options),e.inactive=e.disabled||e.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var e=this,t=e.renderClear(),n=e.renderCaption(),i=e.rtl?"rating-container-rtl":"rating-container",o=e.getStars();i+=e.glyphicon?""==e.symbol?" rating-gly-star":" rating-gly":" rating-uni",e.$rating.attr("class",i),e.$rating.attr("data-content",o),e.$stars.attr("data-content",o);var i=e.rtl?"star-rating-rtl":"star-rating";e.$container.attr("class",i+" rating-"+e.size),e.inactive?e.$container.removeClass("rating-active").addClass("rating-disabled"):e.$container.removeClass("rating-disabled").addClass("rating-active"),"undefined"==typeof e.$caption&&"undefined"==typeof e.$clear&&(e.rtl?e.$container.prepend(n).append(t):e.$container.prepend(t).append(n)),r(e.containerClass)||e.$container.removeClass(e.containerClass).addClass(e.containerClass)},getStars:function(){for(var e=this,t=e.stars,n="",i=1;i<=t;i++)n+=e.symbol;return n},renderClear:function(){var e=this;if(!e.showClear)return"";var t=e.getClearClass();return r(e.$clearElement)?'<div class="'+t+'" title="'+e.clearButtonTitle+'">'+e.clearButton+"</div>":(e.$clearElement.removeClass(t).addClass(t).attr({title:e.clearButtonTitle}),e.$clearElement.html(e.clearButton),"")},renderCaption:function(){var e=this,t=e.$element.val();if(!e.showCaption)return"";var n=e.fetchCaption(t);return r(e.$captionElement)?'<div class="caption">'+n+"</div>":(e.$captionElement.removeClass("caption").addClass("caption").attr({title:e.clearCaption}),e.$captionElement.html(n),"")},fetchCaption:function(e){var t=this,n=parseFloat(e),i=(r(t.starCaptionClasses[n])?t.clearCaptionClass:t.starCaptionClasses[n],r(t.starCaptions[n])?t.defaultCaption.replace(/\{rating\}/g,n):t.starCaptions[n]);n==t.clearValue?t.clearCaption:i;return""},getValueFromPosition:function(e){var t,n,i=this,r=a(i.step),o=i.$rating.width();return t=e/o,n=i.min+Math.ceil(i.diff*t/i.step)*i.step,n<i.min?n=i.min:n>i.max&&(n=i.max),n=s(parseFloat(n),r),i.rtl&&(n=i.max-n),n},setStars:function(e){var t=this,n=t.min,i=t.max,o=(t.step,arguments.length?t.getValueFromPosition(e):r(t.$element.val())?0:t.$element.val()),a=0,s=(t.$rating.width(),t.fetchCaption(o));a=(o-n)/i*100,t.rtl&&(a=100-a),t.$element.val(o),a+="%",t.$stars.css("width",a),t.$caption.html(s)},clear:function(){var e=this,t='<span class="'+e.clearCaptionClass+'">'+e.clearCaption+"</span>";e.$stars.removeClass("rated"),e.inactive||e.$caption.html(t),e.$element.val(e.clearValue),e.setStars(),e.$element.trigger("rating.clear")},reset:function(){var e=this;e.$element.val(e.initialValue),e.setStars(),e.$element.trigger("rating.reset")},update:function(e){if(arguments.length>0){var t=this;t.$element.val(e),t.setStars()}},refresh:function(t){var n=this;if(arguments.length){n.init(e.extend(n.options,t)),n.showClear?n.$clear.show():n.$clear.hide(),n.showCaption?n.$caption.show():n.$caption.hide()}}},e.fn.rating=function(t){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var i=e(this),r=i.data("rating"),o="object"==typeof t&&t;r||i.data("rating",r=new l(this,e.extend({},e.fn.rating.defaults,o,e(this).data()))),"string"==typeof t&&r[t].apply(r,n)})},e.fn.rating.defaults={stars:5,glyphicon:!0,symbol:null,disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:"",clearButtonTitle:"Clear",clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaption:"Not Rated",clearCaptionClass:"label label-default",clearValue:0,captionElement:null,clearElement:null,containerClass:null},e(document).ready(function(){var t=e("input.rating"),n=Object.keys(t).length;n>0&&t.rating()})}(jQuery);